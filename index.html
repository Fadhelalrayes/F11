<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>حِكمة في طلب العلم - مقال احترافي</title>
    <meta name="description" content="مقال احترافي حول أهمية التعمق في فهم المدارس الفكرية، مصمم للعرض على كافة الأجهزة وجاهز للتنزيل كملف PDF بجودة عالية.">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400&family=Noto+Kufi+Arabic:wght@600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <!-- html2pdf.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <style>
        :root {
            --page-bg: #ffffff;
            --text-color: #212529;
            --header-color: #8c1515;
            --border-color: #dee2e6;
            --accent-color: #c9b79c;
            --body-bg: #f0f2f5;
            --font-body: 'Amiri', serif;
            --font-heading: 'Noto Kufi Arabic', sans-serif;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-body);
            color: var(--text-color);
            background-color: var(--body-bg);
            margin: 0;
            padding: 2rem 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }

        /* --- Screen Display Container --- */
        .screen-container {
            max-width: 850px;
            width: 100%;
            background-color: var(--page-bg);
            padding: 3rem 4rem;
            box-shadow: 0 10px 35px rgba(0, 0, 0, 0.1);
            border-radius: 5px;
            border: 1px solid #ddd;
            box-sizing: border-box;
        }

        /* --- Typography for Screen --- */
        h1 {
            font-family: var(--font-heading);
            font-size: 2.8rem;
            font-weight: 700;
            color: var(--header-color);
            text-align: center;
            margin: 0 0 2rem 0;
        }

        p {
            font-size: 1.2rem;
            line-height: 2.4;
            text-align: justify;
            margin: 0 0 1.5rem 0;
        }
        
        /* Indent first line of the first paragraph */
        p.first-paragraph {
            text-indent: 3rem;
        }

        strong { font-weight: 700; color: var(--header-color); }

        .quote {
            font-style: italic;
            font-size: 1.25rem;
            color: #495057;
            margin: 2rem 3rem;
            padding-right: 1.5rem;
            border-right: 4px solid var(--accent-color);
        }
        
        .ornament {
            text-align: center;
            font-size: 1.5rem;
            color: var(--accent-color);
            margin: 2rem 0;
        }

        /* --- Download Button --- */
        .download-button-wrapper {
            text-align: center;
            margin-top: 2.5rem;
        }
        .download-button {
            font-family: var(--font-heading);
            background-color: var(--header-color);
            color: white;
            border: none;
            padding: 15px 35px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        .download-button:hover:not(:disabled) {
            background-color: #6d1111;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }
        .download-button:disabled {
            background-color: #aaa;
            cursor: not-allowed;
        }
        .download-button i { margin-left: 10px; }

        /* --- Responsive Adjustments --- */
        @media (max-width: 768px) {
            body { padding: 1rem; }
            .screen-container { padding: 2rem; }
            h1 { font-size: 2.2rem; }
            p { font-size: 1.1rem; line-height: 2.2; }
            .quote { margin: 1.5rem 1rem; }
        }

        /* --- PDF Export Specific Styles (Applied via JS) --- */
        .pdf-export-container {
            width: 210mm;
            height: 297mm;
            padding: 20mm;
            background: white;
            display: flex;
            flex-direction: column;
            box-sizing: border-box;
            color: #000;
        }
        .pdf-export-container .page-content { flex-grow: 1; }
        .pdf-export-container h1 { font-size: 24pt; color: #000; margin-bottom: 15mm; }
        .pdf-export-container p { font-size: 12pt; line-height: 1.8; color: #000; }
        .pdf-export-container p.first-paragraph { text-indent: 15mm; }
        .pdf-export-container strong { color: #000; font-weight: bold; }
        .pdf-export-container .quote { font-size: 13pt; border-color: #888; color: #333; }
        .pdf-export-container .ornament { color: #888; }
        .pdf-export-container .page-header, .pdf-export-container .page-footer {
            width: 100%; text-align: center; font-size: 9pt; color: #666;
            font-family: sans-serif;
        }
        .pdf-export-container .page-header { border-bottom: 1px solid #ccc; padding-bottom: 8px; margin-bottom: 15mm; }
        .pdf-export-container .page-footer { border-top: 1px solid #ccc; padding-top: 8px; margin-top: auto; }
    </style>
</head>
<body>

    <div class="screen-container" id="content-to-display">
        <h1>حِكمةٌ في طَلبِ العِلم</h1>
        <p class="first-paragraph">
            يُحكى أنّ الشيخ <strong>مرتضى الأنصاري</strong> (1281هـ)، الذي تُعتبر مدرسته الأصوليّة هي المهيمنة إلى اليوم على آليّات الاجتهاد الشرعي عند الإماميّة، حضر في درس الفقه عند الشيخ محمد حسن النجفي (1266هـ)، صاحب الموسوعة الفقهيّة الشهيرة "جواهر الكلام"، ويبدو أنّ حضوره هذا كان لأوّل مرّة أو ربما رآه بعض الطلاب لأوّل مرّة حاضراً مجلس درس المحقّق النجفي، فجاء إليه بعضهم وسأله عن درسه وتحصيله العلمي، فأجابهم.
        </p>
        <p>
            ومن ضمن الكلام والحوار العلمي الذي جرى بينهم أنّه قال لهم: هذه المسألة مبنيّة على <strong>نظريّة الحكومة</strong> في أصول الفقه. وهي نظريّة تعنى بتنظيم بعض العلاقات بين النصوص والأدلّة، وتشتهر نسبتها إلى الشيخ الأنصاريّ، وإن كان هناك من يرى أنّ لها حضوراً في الدراسات القانونية المعاصرة. ومن المناسب تقديم دراسة تاريخيّة مفصّلة حول نظريّة الحكومة؛ لفهم تطوّراتها في المدارس الأصوليّة المختلفة عند المذاهب ولو بعناوين مختلفة، وكذلك المدارس القانونية المعاصرة.
        </p>
        <div class="quote">
            على أيّة حال، لم يفهم أولئك الطلاب معنى كلمة الحكومة، إذ بدت جديدة بالنسبة إليهم، فسألوه بنوعٍ من الاستخفاف: وما هي الحكومة؟ فقال لهم: تحتاجون أن تحضروا عندي الدرس الأصولي لستّة أشهر، وبعدها تفهمون الأمر.
        </div>
        <div class="ornament">
            ***
        </div>
        <p>
            بصرف النظر عن مدى صحّة النقل، قد تحكي هذه القصّة عن حِكمة لو فسّرناها بطريقة معيّنة، وهي أنّه لا يمكنك فهم المدارس الجديدة، بل والقديمة، عبر المرور العجول عليها، ولا الحكم عليها بعيونك من خلال نظرة واحدة أو مقطع واحد أو فكرة هنا أو هنا. فمن السخيف أن يحكم شخص على فلسفة الملا صدرا بمطالعة مقالٍ أو بحث هنا أو هناك، أو يتعرّف عليها من خلال محاضرة أو كتيّب، كما ومن السخيف أن يحكم آخر على فلسفة كانط بالطريقة عينها.
        </p>
        <p>
            هذا يعني أنّه لكي نفهم الآخر وبخاصّة لو كان يقدّم مشروعاً مختلفاً عن المألوف، مثل مشروع الأنصاري والملا صدرا وكانط، أن نعيش معه لفترةٍ كافية، اعتبرَها الأنصاري ستة أشهر، فندخل داخل منظومته الفكريّة ونتعايش مع طريقة تفكيره، ثم بعد ذلك تبدأ رحلة النقاش والحوار. أمّا العجلة، وبخاصّة في عصر التسطيح الذي تُتحفنا به وسائل التواصل الاجتماعي، فإنّ تقدّماً علميّاً لن يكون مرجوّاً أبداً، والأملُ بالله لا ينقطع.
        </p>
        <div class="download-button-wrapper">
            <button id="download-btn" class="download-button">
                تحميل كملف PDF <i class="fas fa-file-pdf"></i>
            </button>
        </div>
    </div>

    <script>
        document.getElementById('download-btn').addEventListener('click', function () {
            const downloadButton = this;
            const originalContent = document.getElementById('content-to-display');

            downloadButton.disabled = true;
            downloadButton.innerHTML = 'جاري التحضير... <i class="fas fa-spinner fa-spin"></i>';

            // **الحل الرئيسي: انتظر حتى يتم تحميل الخطوط بالكامل**
            document.fonts.ready.then(() => {
                // إنشاء حاوية افتراضية للتصدير
                const exportContainer = document.createElement('div');
                exportContainer.className = 'pdf-export-container';
                
                exportContainer.innerHTML = `
                    <header class="page-header">مقال في آداب طلب العلم</header>
                    <main class="page-content">${originalContent.innerHTML}</main>
                    <footer class="page-footer">1</footer>
                `;
                
                exportContainer.querySelector('.download-button-wrapper').remove();

                exportContainer.style.position = 'absolute';
                exportContainer.style.left = '-9999px';
                document.body.appendChild(exportContainer);

                const opt = {
                    margin: 0,
                    filename: 'حكمة-في-طلب-العلم.pdf',
                    image: { type: 'jpeg', quality: 1.0 },
                    html2canvas: { scale: 3, useCORS: true, letterRendering: true, dpi: 300 },
                    jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
                };

                html2pdf().set(opt).from(exportContainer).save().then(() => {
                    document.body.removeChild(exportContainer);
                    downloadButton.disabled = false;
                    downloadButton.innerHTML = 'تحميل كملف PDF <i class="fas fa-file-pdf"></i>';
                });
            }).catch(err => {
                console.error("Font loading failed or PDF generation error:", err);
                downloadButton.disabled = false;
                downloadButton.innerHTML = 'حدث خطأ، حاول مجدداً <i class="fas fa-exclamation-triangle"></i>';
            });
        });
    </script>

</body>
</html>
