<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>الكشف المبكر عن السرطان — دليل تفاعلي (موثّق من WHO)</title>
<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Cairo:wght@300;400;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#f5f6f8; --ink:#111827; --muted:#6b7280;
    --card:#ffffff; --line:#e5e7eb;
    --gold:#b58900; --gold-soft:#f5d574;
    --ocean:#0b4d8a; --emerald:#059669; --crimson:#dc2626;
  }
  *{box-sizing:border-box}
  body{margin:0; font-family:"Cairo",sans-serif; background:var(--bg); color:var(--ink)}
  header{text-align:center; padding:24px 12px}
  .brand{font-family:"Amiri",serif; font-size:clamp(26px,4.5vw,42px); color:var(--gold)}
  .tag{margin-top:6px; font-size:14px; color:#6b7280}
  .shell{max-width:980px; margin:0 auto; padding:0 16px}
  .hero{background:var(--card); border:1px solid var(--line); border-radius:20px; padding:20px; box-shadow:0 4px 12px rgba(0,0,0,.05)}
  .row{display:grid; gap:16px}
  @media(min-width:920px){ .row{grid-template-columns:1.2fr .8fr} }
  .field{display:flex; flex-direction:column; gap:8px; margin-bottom:12px}
  .center{text-align:center}
  .seg{display:flex; gap:6px; justify-content:center; flex-wrap:wrap}
  .seg button{flex:1; padding:10px 12px; border-radius:8px; border:1px solid var(--line); background:#f9fafb; cursor:pointer; max-width:160px}
  .seg button.on{background:var(--gold); color:#fff; border-color:var(--gold)}
  .select{ position:relative; display:inline-block; width:100% }
  .select select{
    width:100%; appearance:none; background:#fff; border:1px solid var(--gold); border-radius:10px;
    padding:10px 42px 10px 12px; font-size:1rem; cursor:pointer; color:#111; transition:.15s; text-align:right; box-shadow:0 1px 0 rgba(0,0,0,.02)
  }
  .select::after{
    content:""; position:absolute; top:50%; transform:translateY(-50%); right:12px; width:18px; height:18px;
    background:linear-gradient(135deg,var(--gold),var(--gold-soft));
    -webkit-mask:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="black" d="M5.23 7.21a.75.75 0 011.06.02L10 11.06l3.71-3.83a.75.75 0 111.08 1.04l-4.24 4.38a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z"/></svg>') center/contain no-repeat;
    mask:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="black" d="M5.23 7.21a.75.75 0 011.06.02L10 11.06l3.71-3.83a.75.75 0 111.08 1.04l-4.24 4.38a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z"/></svg>') center/contain no-repeat;
    pointer-events:none; opacity:.95;
  }
  .btn{padding:12px 20px; border-radius:10px; border:none; cursor:pointer; background:linear-gradient(90deg,var(--gold),var(--gold-soft)); color:#111; font-weight:700; display:block; margin:0 auto}
  .badge{display:inline-block; padding:10px 14px; border-radius:10px; margin-top:12px}
  .ok{background:#eff6ff; color:var(--ocean)}
  .card{background:#fdfdfd; border:1px solid var(--line); border-radius:12px; padding:14px; box-shadow:0 2px 6px rgba(0,0,0,.04)}
  .card h3{margin:0 0 6px; font-family:"Amiri",serif; color:var(--gold)}
  .deck{display:grid; gap:12px; grid-template-columns:1fr; margin-top:16px}
  @media(min-width:860px){ .deck{grid-template-columns:repeat(2,1fr)} }
  .kpi{display:grid; gap:10px; grid-template-columns:1fr 1fr; margin-top:10px}
  .k{background:#f9fafb; border:1px solid var(--line); border-radius:10px; padding:10px; text-align:center}
  .k .v{font-weight:700; font-size:18px}
  footer{text-align:center; margin:12px 0 24px; font-size:12px; color:#6b7280}
  .ghost-link{color:inherit; text-decoration:none; cursor:default}
  .notice{
    position:fixed; left:50%; bottom:20px; transform:translateX(-50%) translateY(10px);
    background:#fff; border:1px solid var(--gold); border-radius:12px; padding:10px 14px;
    box-shadow:0 8px 24px rgba(0,0,0,.12); display:flex; align-items:center; gap:10px;
    opacity:0; transition:.25s ease; z-index:9999; max-width:92vw; font-size:14px; color:#111;
  }
  .notice.show{ opacity:1; transform:translateX(-50%) translateY(0) }
  .notice .dot{width:10px; height:10px; border-radius:50%; background:linear-gradient(90deg,var(--gold),var(--gold-soft))}
  .notice .close{ margin-inline-start:8px; cursor:pointer; border:none; background:transparent; font-size:18px; line-height:1; color:#6b7280 }
  .notice.error{ border-color:#fecaca }
  .notice.error .dot{ background:linear-gradient(90deg,#fecaca,#fee2e2) }
</style>
</head>
<body>
<header>
  <div class="brand">الكشف المبكر عن السرطان</div>
  <div class="tag">مرجع علمي من منظمة الصحة العالمية والجمعية الأميركية للسرطان. اختر دولتك لتحصل على أعراض تحذيرية، نصائح، وجدول التحري، مع أرقام مستشفيات مختصّة.</div>
</header>

<main class="shell">
  <section class="hero">
    <div class="row">
      <div>
        <div class="field center">
          <label><strong>الدولة</strong></label>
          <div class="select">
            <select id="countrySelect" aria-label="اختر الدولة">
              <option value="BHR" selected>البحرين</option>
              <option value="KSA">السعودية</option>
              <option value="ARE">الإمارات</option>
              <option value="QAT">قطر</option>
              <option value="KWT">الكويت</option>
              <option value="OMN">عُمان</option>
              <option value="EGY">مصر</option>
              <option value="JOR">الأردن</option>
              <option value="MAR">المغرب</option>
              <option value="DZA">الجزائر</option>
              <option value="TUN">تونس</option>
              <option value="IRQ">العراق</option>
              <option value="LBN">لبنان</option>
              <option value="SYR">سوريا</option>
              <option value="YEM">اليمن</option>
            </select>
          </div>
        </div>

        <div class="field center">
          <label><strong>النوع</strong></label>
          <div class="seg" id="sexSeg">
            <button type="button" class="on" data-sex="male">رجل</button>
            <button type="button" data-sex="female">امرأة</button>
          </div>
        </div>

        <div class="field center">
          <label><strong>العمر</strong></label>
          <input id="ageInput" type="number" inputmode="numeric" placeholder="مثال: 45" min="0" max="120" style="width:140px; padding:10px; border:1px solid var(--line); border-radius:10px; text-align:center">
        </div>

        <div class="field center">
          <label><strong>عوامل مؤثرة</strong></label>
          <div class="seg" id="smokeSeg">
            <button type="button" class="on" data-smoke="no">غير مدخّن</button>
            <button type="button" data-smoke="yes">مدخّن</button>
          </div>
          <div style="margin-top:8px" class="seg" id="familySeg">
            <button type="button" class="on" data-fh="no">لا تاريخ عائلي</button>
            <button type="button" data-fh="yes">تاريخ عائلي قوي</button>
          </div>
        </div>

        <button class="btn" id="calc">اعرض الأعراض والتحري</button>

        <div class="kpi" id="kpis" style="display:none">
          <div class="k"><div class="v" id="screeningTitle">—</div><div>فحوصات التحري الموصى بها</div></div>
          <div class="k"><div class="v" id="riskNote">—</div><div>ملاحظة الخطر الشخصي</div></div>
        </div>
      </div>

      <div>
        <div id="verdict" class="badge ok" style="display:none"></div>

        <div class="deck" id="adviceDeck" style="display:none"></div>

        <div class="card" id="contactsCard" style="display:none; margin-top:12px">
          <h3>مستشفيات وخطوط مساعدة في <span id="ctryName">—</span></h3>
          <ul id="contactsList" style="margin:0; padding-inline-start:18px"></ul>
          <div style="margin-top:8px; font-size:12px; color:#6b7280">في الحالات الطارئة اتصل بالإسعاف المحلي.</div>
        </div>

        <div class="card" style="margin-top:12px">
          <h3>مراجع علمية</h3>
          <ul style="margin:0; padding-inline-start:18px; font-size:14px">
            <li><a href="https://www.who.int/news-room/fact-sheets/detail/cancer" target="_blank" rel="noopener">WHO — حقائق عن السرطان</a></li>
            <li><a href="https://www.who.int/news/item/01-02-2024-global-cancer-burden-growing--amidst-mounting-need-for-services" target="_blank" rel="noopener">WHO — عبء السرطان عالميًا</a></li>
            <li><a href="https://www.cancer.org/cancer/diagnosis-staging/signs-and-symptoms-of-cancer.html" target="_blank" rel="noopener">ACS — علامات وأعراض السرطان</a></li>
            <li><a href="https://www.mayoclinic.org/diseases-conditions/cancer/symptoms-causes/syc-20370588" target="_blank" rel="noopener">Mayo Clinic — أعراض وأسباب</a></li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <footer style="text-align:center; margin:12px 0 24px; font-size:12px; color:#6b7280">
    <div><strong>تنبيه مهم:</strong> هذه أداة تثقيفية لا تُشخّص المرض. وجود عرض لا يعني السرطان، لكنه يحتاج تقييمًا طبيًا.</div>
    <div style="margin-top:6px">
      <a id="devLink" class="ghost-link" href="https://api.whatsapp.com/send/?phone=97333375858&text&type=phone_number&app_absent=0&wame_ctl=1" target="_blank" rel="noopener">برمجة وتطوير: فاضل الريس</a>
    </div>
  </footer>
</main>

<div id="notice" class="notice" style="display:none">
  <div class="dot"></div>
  <div class="text">—</div>
  <button class="close" title="إغلاق" aria-label="إغلاق">×</button>
</div>

<script>
/* ========= بيانات المستشفيات/الخطوط لكل دولة =========
   أضِف أرقام دولتك بنفس الصيغة. */
const HOSPITALS = {
  BHR: {
    name: "البحرين",
    contacts: [
      {label:"وزارة الصحة — قسم الأورام (سلمانية)", tel:"+97317284185"},
      {label:"مركز الاتصال الصحي — الخط الساخن", tel:"+97380007000"},
      {label:"جمعية البحرين لمكافحة السرطان — خط معلومات", tel:"+97317233080"},
      {label:"المستشفى الملكي البحريني — طب الأورام (خاص)", tel:"+97317246800"},
      {label:"مستشفى البحرين التخصصي — الأورام (خاص)", tel:"+97317812222"}
    ]
  },
  KSA: { name:"السعودية", contacts:[
    // مثال: {label:"مركز الملك فهد للأورام — الرياض", tel:"+966-XXX"},
  ]},
  ARE: { name:"الإمارات", contacts:[
    // مثال: {label:"مستشفى توام — مركز الأورام", tel:"+971-XXX"},
  ]},
  QAT: { name:"قطر", contacts:[/* ... */] },
  KWT: { name:"الكويت", contacts:[/* ... */] },
  OMN: { name:"عُمان", contacts:[/* ... */] },
  EGY: { name:"مصر", contacts:[/* ... */] },
  JOR: { name:"الأردن", contacts:[/* ... */] },
  MAR: { name:"المغرب", contacts:[/* ... */] },
  DZA: { name:"الجزائر", contacts:[/* ... */] },
  TUN: { name:"تونس", contacts:[/* ... */] },
  IRQ: { name:"العراق", contacts:[/* ... */] },
  LBN: { name:"لبنان", contacts:[/* ... */] },
  SYR: { name:"سوريا", contacts:[/* ... */] },
  YEM: { name:"اليمن", contacts:[/* ... */] }
};

/* ========= أعراض تحذيرية عامة (تثقيفية) =========
   خلاصة من WHO/ACS/Mayo. */
const RED_FLAGS = [
  "فقدان وزن غير مبرّر",
  "تعب شديد مستمر أو حُمّى متكرّرة",
  "ألم مستمر أو جديد بلا سبب واضح",
  "كتلة/تورّم جديد في أي مكان، أو تغيّر في الثدي",
  "نزف غير معتاد (دم مع السعال/البول/البراز أو نزف مهبلي غير طبيعي)",
  "سعال/بحّة/ضيق نفس مستمر لأكثر من 3 أسابيع",
  "حرقة معدة/عُسر بلع مستمر",
  "تغيّر جديد في الشامات أو بقع الجلد",
  "قرحة/جرح لا يلتئم",
  "انتفاخ/نفخة مستمرة بالبطن"
];

/* ========= توصيات تحرّي مبسطة حسب العمر/النوع =========
   هذه دلائل عامة؛ قد تختلف حسب إرشادات بلدك وحالتك الفردية. */
function recommendedScreenings(age, sex, smoker, strongFH){
  const list=[];
  // الثدي — تصوير الثدي
  if(sex==='female' && age>=40){ list.push("تصوير الثدي الدوري (ماموغرام): كل 1–2 سنة بدءًا من 40–50 وفق إرشادات بلدك."); }
  // عنق الرحم — Pap/HPV
  if(sex==='female' && age>=21){ list.push("عنق الرحم: اختبار Pap/HPV حسب الجدولة (عادة كل 3–5 سنوات)."); }
  // القولون والمستقيم — FIT/تنظير
  if(age>=45){ list.push("سرطان القولون والمستقيم: FIT سنويًا أو تنظير قولون كل 10 سنوات (أو حسب توصية الطبيب)."); }
  // الرئة — طبقة رقيقة للمدخّنين
  if(age>=50 && smoker==='yes'){ list.push("سرطان الرئة: تصوير طبقي منخفض الجرعة (LDCT) سنويًا للمدخنين المؤهلين."); }
  // البروستاتا — PSA (قرار مشترك)
  if(sex==='male' && age>=50){ list.push("البروستاتا: مناقشة فحص PSA/المستقيم مع الطبيب لاتخاذ قرار مشترك."); }
  // تاريخ عائلي قوي
  if(strongFH==='yes'){ list.push("نظرًا لوجود تاريخ عائلي قوي: استشر اختصاصي وراثة/أورام لتقييم فحوص مبكّرة أو موسّعة."); }
  return list;
}

/* ========= عناصر ========= */
const sexSeg=document.getElementById('sexSeg');
const smokeSeg=document.getElementById('smokeSeg');
const familySeg=document.getElementById('familySeg');
let selectedSex="male", isSmoker="no", strongFH="no";
sexSeg.addEventListener('click',e=>{ const b=e.target.closest('button'); if(!b)return; sexSeg.querySelectorAll('button').forEach(x=>x.classList.remove('on')); b.classList.add('on'); selectedSex=b.dataset.sex; });
smokeSeg.addEventListener('click',e=>{ const b=e.target.closest('button'); if(!b)return; smokeSeg.querySelectorAll('button').forEach(x=>x.classList.remove('on')); b.classList.add('on'); isSmoker=b.dataset.smoke; });
familySeg.addEventListener('click',e=>{ const b=e.target.closest('button'); if(!b)return; familySeg.querySelectorAll('button').forEach(x=>x.classList.remove('on')); b.classList.add('on'); strongFH=b.dataset.fh; });

const notice=document.getElementById('notice'), noticeText=notice.querySelector('.text');
notice.querySelector('.close').onclick=()=>{ notice.classList.remove('show'); setTimeout(()=>notice.style.display='none',250); };
function notify(msg,{type='info',timeout=3500}={}){ notice.style.display='flex'; notice.classList.toggle('error', type==='error'); noticeText.innerHTML=msg; requestAnimationFrame(()=>notice.classList.add('show')); clearTimeout(window.__nt); window.__nt=setTimeout(()=>{ notice.classList.remove('show'); setTimeout(()=>notice.style.display='none',250); }, timeout); }

/* ========= البناء عند الضغط ========= */
document.getElementById('calc').addEventListener('click', ()=>{
  const age = parseInt(document.getElementById('ageInput').value,10);
  if(!(age>=0 && age<=120)){ notify("أدخل عمرًا صحيحًا بين 0 و 120.", {type:'error'}); return; }

  // شارة توضيح
  const v=document.getElementById('verdict');
  v.style.display='inline-block';
  v.textContent="🔎 هذه المعلومات تثقيفية. استشر طبيبك لأي عرض مُقلق.";

  // الأعراض
  const deck=document.getElementById('adviceDeck');
  deck.innerHTML="";
  const mk=(t,html)=>{ const e=document.createElement('div'); e.className='card'; e.innerHTML=`<h3>${t}</h3>${html}`; return e; };

  const redList = "<ul style='margin:0; padding-inline-start:18px'>"+RED_FLAGS.map(x=>`<li>${x}</li>`).join("")+"</ul>";
  deck.append(
    mk("أعراض تحذيرية شائعة", redList),
    mk("عوامل خطورة يمكن تعديلها", "<ul><li>الإقلاع عن التدخين وتقليل التعرّض للدخان.</li><li>نشاط بدني منتظم وغذاء متوازن وتقليل السمنة.</li><li>الحد من الكحول وحماية الجلد من الشمس.</li><li>الالتزام بالتطعيمات (مثل HPV، التهاب الكبد B) وفق بلدك.</li></ul>"),
    mk("ماذا أفعل عند ظهور عرض؟", "<ul><li>لا تنتظر: احجز موعدًا أوليًا لدى طبيب الأسرة/الطب العام.</li><li>اذكر مدة العرض، شدّته، وأي نزف أو فقدان وزن.</li><li>اتبع خطّة التحري المناسبة لعمرك ونوعك.</li></ul>")
  );
  deck.style.display='grid';

  // التحري
  const rec = recommendedScreenings(age, selectedSex, isSmoker, strongFH);
  document.getElementById('kpis').style.display='grid';
  document.getElementById('screeningTitle').textContent = (rec.length? "متاحة":"—");
  document.getElementById('riskNote').textContent = (isSmoker==='yes' ? "مدخّن: ناقش LDCT" : (strongFH==='yes'?"تاريخ عائلي قوي: راجع الاختصاصي":"عام: اتبع الجدول المعياري"));
  if(rec.length){
    deck.append( mk("فحوصات التحري المقترحة لك", "<ul>"+rec.map(x=>`<li>${x}</li>`).join("")+"</ul>") );
  }

  // المستشفيات/الخطوط
  const iso = document.getElementById('countrySelect').value;
  const cfg = HOSPITALS[iso];
  const card = document.getElementById('contactsCard');
  const list = document.getElementById('contactsList');
  const name = document.getElementById('ctryName');
  list.innerHTML="";
  if(cfg && cfg.contacts && cfg.contacts.length){
    name.textContent = cfg.name;
    cfg.contacts.forEach(c=>{
      const li=document.createElement('li');
      li.innerHTML = `<strong>${c.label}</strong> — <a href="tel:${c.tel.replace(/\s+/g,'')}" dir="ltr">${c.tel}</a>`;
      list.appendChild(li);
    });
    card.style.display='block';
  }else{
    name.textContent = cfg? cfg.name : "الدولة";
    list.innerHTML = "<li>لم تُضف أرقام بعد — أضِفها من كائن HOSPITALS في الكود.</li>";
    card.style.display='block';
  }
});

/* فتح رابط المطوّر بحذر */
document.getElementById('devLink').addEventListener('click', function(){ setTimeout(()=>{ if(!document.hasFocus()) return; location.href=this.href; }, 100); });
</script>
</body>
</html>
