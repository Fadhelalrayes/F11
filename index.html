<!DOCTYPE html><html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>تذكرتك | أرخص الرحلات الجوية</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800;900&family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
  <meta name="description" content="تذكرتك — محرك بحث بسيط يفتح لك أفضل مواقع الحجز الموثوقة للعثور على أرخص تذكرة طيران." />
  <style>
    :root{
      --bg:#0f172a;           /* slate-900 */
      --bg-soft:#111827;      /* gray-900 */
      --card:#0b132b;         /* deep navy */
      --ink:#e5e7eb;          /* gray-200 */
      --muted:#9ca3af;        /* gray-400 */
      --brand:#00b3c4;        /* teal/cyan */
      --accent:#ffb100;       /* amber */
      --ok:#22c55e;           /* green-500 */
      --danger:#ef4444;       /* red-500 */
      --ring: 0 0 0 3px rgba(0,179,196,.25);
      --radius:24px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;background:radial-gradient(1200px 700px at 90% -10%, rgba(0,179,196,.15), transparent 60%),
      radial-gradient(1000px 600px at -20% 120%, rgba(255,177,0,.12), transparent 60%), var(--bg);
      color:var(--ink); font-family:'Cairo','Tajawal', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      line-height:1.6;
    }
    header{
      position:sticky; top:0; z-index:50; backdrop-filter: blur(10px);
      background:linear-gradient(180deg, rgba(15,23,42,.85), rgba(15,23,42,.6));
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .container{max-width:1100px;margin:0 auto;padding:20px}
    .brand{display:flex;align-items:center;gap:14px}
    .logo{
      width:44px;height:44px;border-radius:14px;display:grid;place-items:center;
      background:conic-gradient(from 120deg at 50% 50%, var(--brand), var(--accent), var(--brand));
      box-shadow:0 10px 30px rgba(0,179,196,.25);
      font-weight:900;color:#0b132b
    }
    .title{font-size:clamp(20px,3vw,28px);font-weight:900;letter-spacing:.5px}
    .subtitle{color:var(--muted);font-size:14px;margin-top:-6px}main{padding:28px 0}
.search-card{
  background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.06); border-radius:var(--radius);
  padding:22px; box-shadow:0 10px 40px rgba(0,0,0,.35);
}

.grid{display:grid; gap:14px}
@media(min-width:840px){
  .grid-cols{grid-template-columns: 1.2fr 1.2fr .9fr .9fr .7fr .7fr}
}

label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px}
input, select{width:100%;background:rgba(255,255,255,.06);color:var(--ink);
  border:1px solid rgba(255,255,255,.12); border-radius:14px; padding:12px 14px; outline:none;
}
input:focus, select:focus{border-color:var(--brand); box-shadow:var(--ring)}

.actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
button{
  background:linear-gradient(180deg, var(--brand), #00a5b5);
  color:#001016; border:0; padding:13px 18px; border-radius:14px; font-weight:800; cursor:pointer;
  box-shadow:0 10px 22px rgba(0,179,196,.25);
}
button.secondary{background:rgba(255,255,255,.06); color:var(--ink); font-weight:700}
button:disabled{opacity:.5;cursor:not-allowed}

.chips{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
.chip{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);padding:8px 12px;border-radius:999px;font-size:13px;cursor:pointer}
.chip:hover{border-color:var(--brand)}

.providers{display:grid;gap:12px;margin-top:18px}
@media(min-width:840px){.providers{grid-template-columns:repeat(5,1fr)}}
.prov{
  background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.08); border-radius:18px; padding:14px;
  display:flex;flex-direction:column;gap:10px; justify-content:space-between; min-height:130px
}
.prov h4{margin:0;font-size:15px}
.prov small{color:var(--muted)}
.prov a{display:inline-block;background:rgba(255,255,255,.12); padding:10px 12px;border-radius:12px;color:var(--ink);text-decoration:none;font-weight:700}
.prov a:hover{background:rgba(255,255,255,.18)}

.note{color:var(--muted);font-size:13px;margin-top:6px}

footer{margin-top:30px;padding:22px 0;border-top:1px dashed rgba(255,255,255,.1)}
.credit{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.credit a{color:var(--accent);text-decoration:none;font-weight:800}
.credit a:hover{text-decoration:underline}

.badge{display:inline-flex;align-items:center;gap:6px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12); padding:6px 10px; border-radius:999px; font-size:12px;color:var(--muted)}

  </style>
</head>
<body>
  <header>
    <div class="container brand">
      <div class="logo">✈️</div>
      <div>
        <div class="title">تذكرتك</div>
        <div class="subtitle">ابحث بسرعة وافتح مواقع الحجز الموثوقة لإيجاد أرخص تذكرة</div>
      </div>
      <div style="margin-inline-start:auto;display:flex;gap:8px;align-items:center">
        <span class="badge">مواقع موثوقة</span>
        <span class="badge">بدون تسجيل</span>
      </div>
    </div>
  </header>  <main class="container">
    <section class="search-card">
      <form id="searchForm" onsubmit="event.preventDefault(); buildLinks();">
        <div class="grid grid-cols">
          <div>
            <label for="origin">من (مدينة/مطار)</label>
            <input list="airports" id="origin" placeholder="مثال: BAH – المنامة" autocomplete="off" />
          </div>
          <div>
            <label for="destination">إلى (مدينة/مطار)</label>
            <input list="airports" id="destination" placeholder="مثال: CAI – القاهرة" autocomplete="off" />
          </div>
          <div>
            <label for="depart">تاريخ الذهاب</label>
            <input type="date" id="depart" />
          </div>
          <div>
            <label for="return">تاريخ العودة (اختياري)</label>
            <input type="date" id="return" />
          </div>
          <div>
            <label for="adults">عدد المسافرين</label>
            <select id="adults">
              <option value="1" selected>1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
            </select>
          </div>
          <div>
            <label for="cabin">الدرجة</label>
            <select id="cabin">
              <option value="economy" selected>اقتصادية</option>
              <option value="premium_economy">اقتصادية مميزة</option>
              <option value="business">رجال أعمال</option>
              <option value="first">أولى</option>
            </select>
          </div>
        </div>
        <div class="actions">
          <button type="submit">ابحث عن أرخص تذكرة</button>
          <button type="button" class="secondary" onclick="swap();">تبديل الاتجاه ↔︎</button>
        </div>
        <p class="note">ملحوظة: يعرض هذا الموقع روابط مباشرة لمواقع حجز موثوقة (Google Flights, Skyscanner, KAYAK, Expedia, Wego). الأسعار تُعرض هناك مباشرة.
        </p>
      </form><!-- وجهات جاهزة -->
  <div style="margin-top:18px">
    <h3 style="margin:0 0 8px 0">الدول العربية</h3>
    <div class="chips" id="arabChips"></div>
  </div>
  <div style="margin-top:10px">
    <h3 style="margin:0 0 8px 0">وجهات سياحية عالمية</h3>
    <div class="chips" id="worldChips"></div>
  </div>

  <!-- النتائج/المواقع الموثوقة -->
  <div class="providers" id="providers"></div>
</section>

<footer>
  <div class="credit">
    <span>برمجة وتطوير: <a id="devLink" href="https://api.whatsapp.com/send/?phone=97333375858&text&type=phone_number&app_absent=0&wame_ctl=1" target="_blank" rel="noopener">فاضل الريس</a></span>
    <span class="note">اضغط للاطّلاع/المراسلة عبر واتساب (API الرسمي).</span>
  </div>
</footer>

  </main><datalist id="airports"></datalist>

  <script>
    // ===== بيانات مبسطة لأهم المطارات (رمز IATA – اسم عربي) =====
    const AIRPORTS = [
      // البحرين والخليج
      {code:'BAH', name:'المنامة – البحرين'},
      {code:'RUH', name:'الرياض – السعودية'},
      {code:'JED', name:'جدة – السعودية'},
      {code:'DMM', name:'الدمام – السعودية'},
      {code:'MED', name:'المدينة – السعودية'},
      {code:'DXB', name:'دبي – الإمارات'},
      {code:'AUH', name:'أبوظبي – الإمارات'},
      {code:'SHJ', name:'الشارقة – الإمارات'},
      {code:'KWI', name:'الكويت – الكويت'},
      {code:'DOH', name:'الدوحة – قطر'},
      {code:'MCT', name:'مسقط – عُمان'},

      // المشرق وشمال أفريقيا
      {code:'AMM', name:'عمّان – الأردن'},
      {code:'BEY', name:'بيروت – لبنان'},
      {code:'CAI', name:'القاهرة – مصر'},
      {code:'HRG', name:'الغردقة – مصر'},
      {code:'SSH', name:'شرم الشيخ – مصر'},
      {code:'CMN', name:'الدار البيضاء – المغرب'},
      {code:'RAK', name:'مراكش – المغرب'},
      {code:'TUN', name:'تونس – تونس'},
      {code:'ALG', name:'الجزائر – الجزائر'},
      {code:'BGW', name:'بغداد – العراق'},
      {code:'EBL', name:'أربيل – العراق'},

      // تركيا والقوقاز وأوروبا الشائعة
      {code:'IST', name:'إسطنبول – تركيا'},
      {code:'AYT', name:'أنطاليا – تركيا'},
      {code:'TZX', name:'طرابزون – تركيا'},
      {code:'TBS', name:'تبليسي – جورجيا'},
      {code:'BUS', name:'باتومي – جورجيا'},
      {code:'GYD', name:'باكو – أذربيجان'},
      {code:'ATH', name:'أثينا – اليونان'},
      {code:'FCO', name:'روما – إيطاليا'},
      {code:'MXP', name:'ميلانو – إيطاليا'},
      {code:'CDG', name:'باريس – فرنسا'},
      {code:'BCN', name:'برشلونة – إسبانيا'},
      {code:'MAD', name:'مدريد – إسبانيا'},
      {code:'LHR', name:'لندن – المملكة المتحدة'},
      {code:'AMS', name:'أمستردام – هولندا'},
      {code:'ZRH', name:'زيورخ – سويسرا'},
      {code:'GVA', name:'جنيف – سويسرا'},
      {code:'VIE', name:'فيينا – النمسا'},
      {code:'MUC', name:'ميونيخ – ألمانيا'},

      // آسيا والوجهات الساحلية
      {code:'BKK', name:'بانكوك – تايلاند'},
      {code:'HKT', name:'بوكيت – تايلاند'},
      {code:'KUL', name:'كوالالمبور – ماليزيا'},
      {code:'DPS', name:'بالي دينباسار – إندونيسيا'},
      {code:'SIN', name:'سنغافورة – سنغافورة'},
      {code:'MLE', name:'ماليه – جزر المالديف'},
      {code:'MRU', name:'موريشيوس – موريشيوس'},
      {code:'SEZ', name:'سيشيل – سيشيل'},
      {code:'NRT', name:'طوكيو ناريتا – اليابان'},
      {code:'HND', name:'طوكيو هانيدا – اليابان'},

      // أمريكا (اختياري)
      {code:'JFK', name:'نيويورك – الولايات المتحدة'},
      {code:'LAX', name:'لوس أنجلِس – الولايات المتحدة'}
    ];

    const ARAB_COUNTRIES = [
      {label:'البحرين (BAH)', code:'BAH'},
      {label:'السعودية – الرياض (RUH)', code:'RUH'},
      {label:'السعودية – جدة (JED)', code:'JED'},
      {label:'السعودية – الدمام (DMM)', code:'DMM'},
      {label:'الإمارات – دبي (DXB)', code:'DXB'},
      {label:'الإمارات – أبوظبي (AUH)', code:'AUH'},
      {label:'الكويت (KWI)', code:'KWI'},
      {label:'قطر – الدوحة (DOH)', code:'DOH'},
      {label:'عُمان – مسقط (MCT)', code:'MCT'},
      {label:'الأردن – عمّان (AMM)', code:'AMM'},
      {label:'لبنان – بيروت (BEY)', code:'BEY'},
      {label:'مصر – القاهرة (CAI)', code:'CAI'},
      {label:'المغرب – الدار البيضاء (CMN)', code:'CMN'},
      {label:'تونس – تونس (TUN)', code:'TUN'},
      {label:'الجزائر – الجزائر (ALG)', code:'ALG'},
      {label:'العراق – أربيل (EBL)', code:'EBL'}
    ];

    const WORLD_HOLIDAYS = [
      {label:'تركيا – إسطنبول (IST)', code:'IST'},
      {label:'تركيا – أنطاليا (AYT)', code:'AYT'},
      {label:'جورجيا – تبليسي (TBS)', code:'TBS'},
      {label:'أذربيجان – باكو (GYD)', code:'GYD'},
      {label:'اليونان – أثينا (ATH)', code:'ATH'},
      {label:'إيطاليا – روما (FCO)', code:'FCO'},
      {label:'فرنسا – باريس (CDG)', code:'CDG'},
      {label:'إسبانيا – برشلونة (BCN)', code:'BCN'},
      {label:'سويسرا – زيورخ (ZRH)', code:'ZRH'},
      {label:'النمسا – فيينا (VIE)', code:'VIE'},
      {label:'ألمانيا – ميونيخ (MUC)', code:'MUC'},
      {label:'تايلاند – بانكوك (BKK)', code:'BKK'},
      {label:'ماليزيا – كوالالمبور (KUL)', code:'KUL'},
      {label:'إندونيسيا – بالي (DPS)', code:'DPS'},
      {label:'سنغافورة – (SIN)', code:'SIN'},
      {label:'المالديف – ماليه (MLE)', code:'MLE'}
    ];

    // تعبئة قائمة الاقتراحات (datalist)
    const dl = document.getElementById('airports');
    AIRPORTS.forEach(a => {
      const opt = document.createElement('option');
      opt.value = `${a.code} – ${a.name}`;
      dl.appendChild(opt);
    });

    // تعبئة الشرائح الجاهزة
    function fillChips(){
      const arab = document.getElementById('arabChips');
      const world = document.getElementById('worldChips');
      ARAB_COUNTRIES.forEach(c => arab.appendChild(makeChip(c)));
      WORLD_HOLIDAYS.forEach(c => world.appendChild(makeChip(c)));
    }
    function makeChip({label, code}){
      const el = document.createElement('div');
      el.className = 'chip';
      el.textContent = label;
      el.title = 'تعيين كوجهة';
      el.onclick = () => {
        document.getElementById('destination').value = `${code} – ${findName(code)}`;
        scrollTo({top:0, behavior:'smooth'});
      };
      return el;
    }

    function findName(code){
      const f = AIRPORTS.find(x => x.code === code);
      return f ? f.name : code;
    }

    function parseCode(inputValue){
      if(!inputValue) return '';
      // يقبل "BAH" أو "BAH – المنامة …"
      const code = (inputValue.split('–')[0] || '').trim();
      return code.length === 3 ? code.toUpperCase() : inputValue.trim().toUpperCase();
    }

    function ymd(dateStr){
      if(!dateStr) return '';
      const d = new Date(dateStr);
      const y = d.getFullYear();
      const m = String(d.getMonth()+1).padStart(2,'0');
      const dd = String(d.getDate()).padStart(2,'0');
      return `${y}-${m}-${dd}`;
    }

    function mmddyyyy(dateStr){
      if(!dateStr) return '';
      const d = new Date(dateStr);
      const m = String(d.getMonth()+1).padStart(2,'0');
      const dd = String(d.getDate()).padStart(2,'0');
      const y = d.getFullYear();
      return `${m}/${dd}/${y}`;
    }

    function swap(){
      const o = document.getElementById('origin');
      const d = document.getElementById('destination');
      const t = o.value; o.value = d.value; d.value = t;
    }

    function buildLinks(){
      const origin = parseCode(document.getElementById('origin').value);
      const destination = parseCode(document.getElementById('destination').value);
      const depart = ymd(document.getElementById('depart').value);
      const ret = ymd(document.getElementById('return').value);
      const adults = document.getElementById('adults').value || '1';
      const cabin = document.getElementById('cabin').value || 'economy';

      if(!origin || !destination || !depart){
        alert('رجاءً أدخل: من / إلى / تاريخ الذهاب');
        return;
      }

      // حفظ محلي
      localStorage.setItem('tz-ticketk', JSON.stringify({origin,destination,depart,ret,adults,cabin}));

      const urls = [];

      // Google Flights (بحث عام موثوق)
      const gfQuery = encodeURIComponent(`flights from ${origin} to ${destination} ${depart}${ret?` return ${ret}`:''} ${adults} adult ${cabin}`);
      urls.push({
        name:'Google Flights',
        url:`https://www.google.com/travel/flights?hl=ar&q=${gfQuery}`,
        note:'يعرض أرخص الخيارات عبر شركات ووكالات مختلفة.'
      });

      // Skyscanner (رابط مباشر بالتواريخ)
      // تنسيق: /flights/ORG/DST/YYYY-MM-DD[/YYYY-MM-DD]
      const skyBase = `https://www.skyscanner.net/transport/flights/${origin}/${destination}/${depart}` + (ret?`/${ret}`:'') + `/?adults=${adults}&cabinclass=${cabin}`;
      urls.push({name:'Skyscanner', url: skyBase, note:'مقارنة شاملة بين مئات الشركات.'});

      // KAYAK
      const kayak = `https://www.kayak.com/flights/${origin}-${destination}/${depart}${ret?`/${ret}`:''}?adults=${adults}`;
      urls.push({name:'KAYAK', url:kayak, note:'نتائج كثيرة مع أدوات تصفية قوية.'});

      // Expedia
      const exp = `https://www.expedia.com/Flights-Search?trip=${ret?'roundtrip':'oneway'}&leg1=from:${origin},to:${destination},departure:${mmddyyyy(document.getElementById('depart').value)}TANYT&`+
                  `${ret?`leg2=from:${destination},to:${origin},departure:${mmddyyyy(document.getElementById('return').value)}TANYT&`:''}`+
                  `passengers=adults:${adults}&mode=search`;
      urls.push({name:'Expedia', url:exp, note:'وكيل حجز عالمي موثوق.'});

      // Wego (شائع بالمنطقة)
      const wego = `https://www.wego.com/flights/searches/${origin}.${destination}.${depart}/${ret?`${destination}.${origin}.${ret}`:''}?adults=${adults}&cabin_class=${cabin}`;
      urls.push({name:'Wego', url:wego, note:'مُجمِّع شهير في الشرق الأوسط.'});

      renderProviders(urls, {origin, destination, depart, ret, adults, cabin});
    }

    function renderProviders(list, ctx){
      const box = document.getElementById('providers');
      box.innerHTML = '';
      list.forEach(p => {
        const card = document.createElement('div');
        card.className = 'prov';
        const h = document.createElement('h4');
        h.textContent = p.name;
        const s = document.createElement('small');
        s.textContent = p.note;
        const a = document.createElement('a');
        a.href = p.url; a.target = '_blank'; a.rel = 'noopener'; a.textContent = 'افتح النتائج';
        card.appendChild(h); card.appendChild(s); card.appendChild(a);
        box.appendChild(card);
      });

      // ملخص صغير أسفل الشبكة
      const summary = document.createElement('p');
      summary.className = 'note';
      summary.innerHTML = `تم تجهيز البحث من <strong>${ctx.origin}</strong> إلى <strong>${ctx.destination}</strong> في <strong>${ctx.depart}</strong>${ctx.ret?` والعودة <strong>${ctx.ret}</strong>`:''} لعدد <strong>${ctx.adults}</strong> ${ctx.adults==='1'?'مسافر':'مسافرين'} – الدرجة: <strong>${arabCabin(ctx.cabin)}</strong>.`;
      document.querySelector('.providers').after(summary);
    }

    function arabCabin(c){
      return ({economy:'اقتصادية', premium_economy:'اقتصادية مميزة', business:'رجال أعمال', first:'أولى'})[c] || c;
    }

    // تحميل آخر استخدام
    (function init(){
      fillChips();
      try{
        const saved = JSON.parse(localStorage.getItem('tz-ticketk')||'null');
        if(saved){
          const {origin,destination,depart,ret,adults,cabin} = saved;
          if(origin) document.getElementById('origin').value = `${origin} – ${findName(origin)}`;
          if(destination) document.getElementById('destination').value = `${destination} – ${findName(destination)}`;
          if(depart) document.getElementById('depart').value = depart;
          if(ret) document.getElementById('return').value = ret;
          if(adults) document.getElementById('adults').value = adults;
          if(cabin) document.getElementById('cabin').value = cabin;
        } else {
          // افتراض نقطة انطلاق البحرين
          document.getElementById('origin').value = `BAH – ${findName('BAH')}`;
        }
      }catch(e){}
    })();
  </script></body>
</html>
