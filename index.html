<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ø§Ù„Ù„ÙŠØ§Ù„ÙŠ Ø§Ù„Ù…Ø¨Ø§Ø±ÙƒØ© Ù„Ù„Ø¹Ù‚Ø¯ ÙˆØ§Ù„Ø²ÙˆØ§Ø¬ 1447 Ù‡Ù€</title>
<meta name="description" content="Ù…Ø±Ø¨Ø¹ ÙˆØ§Ø­Ø¯ Ø¨Ø³ÙŠØ· Ù„ÙØ­Øµ Ø«Ù„Ø§Ø« Ù„ÙŠØ§Ù„Ù (Ø§Ù„Ù„ÙŠÙ„Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©ØŒ Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©ØŒ Ø§Ù„ØªØ§Ù„ÙŠØ©) ÙˆÙ…Ø¹Ø±ÙØ© Ù‡Ù„ Ù‡ÙŠ Ù…Ø¨Ø§Ø±ÙƒØ© Ø£Ùˆ ØµØ§Ù„Ø­Ø© Ø£Ùˆ Ù…ÙƒØ±ÙˆÙ‡Ø© Ù„Ù„Ø¹Ù‚Ø¯ ÙˆØ§Ù„Ø²ÙˆØ§Ø¬ Ù„Ø¹Ø§Ù… 1447 Ù‡Ù€.">
<style>
  :root{
    --bg:#0e1327; --card:#141b34; --txt:#f7f9fc; --muted:#9aa6c1;
    --ok:#22c55e; --good:#60a5fa; --bad:#ef4444; --accent:#06b6d4;
    --line:rgba(255,255,255,.08); --radius:18px; --shadow:0 10px 24px rgba(0,0,0,.28);
  }
  *{box-sizing:border-box} body{margin:0;background:linear-gradient(180deg,var(--bg),#0a0f22);color:var(--txt);font-family:system-ui,"Noto Kufi Arabic","Noto Sans Arabic","Segoe UI",Tahoma,Arial}
  .wrap{max-width:860px;margin:auto;padding:18px}
  header{display:flex;justify-content:space-between;align-items:center;background:linear-gradient(135deg,var(--card),#0e1630);border:1px solid var(--line);border-radius:var(--radius);padding:14px 16px;box-shadow:var(--shadow)}
  h1{margin:0;font-size:clamp(18px,3.5vw,28px)}
  .badge{font-size:12px;color:var(--muted);border:1px solid var(--line);padding:.2rem .6rem;border-radius:999px;margin-inline-start:8px}
  .card{background:linear-gradient(180deg,var(--card),#0c132a);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px;margin-top:14px}
  .controls{display:flex;flex-wrap:wrap;gap:10px;margin-top:8px}
  label{font-size:13px;color:var(--muted)}
  input[type="date"],select,button{background:#0b1430;border:1px solid var(--line);color:var(--txt);padding:10px 12px;border-radius:12px;font-size:14px}
  input[type="date"]{direction:ltr}
  button{cursor:pointer;background:linear-gradient(135deg,var(--accent),#0a97b5);border:none;transition:.2s}
  button:hover{transform:translateY(-1px)}
  .three{display:grid;grid-template-columns:1fr;gap:12px;margin-top:14px}
  @media(min-width:680px){.three{grid-template-columns:repeat(3,1fr)}}
  .tile{border:1px solid var(--line);border-radius:16px;padding:14px;background:#0b1227}
  .tile h3{margin:0 0 6px 0;font-size:15px;color:#dbeafe}
  .row{display:flex;align-items:center;gap:10px}
  .icon{font-size:26px;line-height:1}
  .status{font-weight:700;padding:.25rem .6rem;border-radius:999px;border:1px solid var(--line);font-size:13px}
  .ok{background:rgba(34,197,94,.15);color:#bbf7d0;border-color:rgba(34,197,94,.35)}
  .good{background:rgba(96,165,250,.15);color:#dbeafe;border-color:rgba(96,165,250,.35)}
  .bad{background:rgba(239,68,68,.15);color:#fecaca;border-color:rgba(239,68,68,.35)}
  .muted{color:var(--muted);font-size:12px;margin-top:6px}
  .hr{height:1px;background:var(--line);margin:12px 0}
  footer{margin-top:18px;text-align:center;color:#e5e7eb;background:linear-gradient(90deg,#0c1025,#10173a);border-radius:var(--radius);padding:14px;border:1px solid var(--line)}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Ø§Ù„Ù„ÙŠØ§Ù„ÙŠ Ø§Ù„ØµØ§Ù„Ø­Ø© Ù„Ù„Ø¹Ù‚Ø¯ ÙˆØ§Ù„Ø²ÙˆØ§Ø¬<span class="badge">1447 Ù‡Ù€ (2025/2026 Ù…)</span></h1>
    </header>

    <!-- Ø¨Ø·Ø§Ù‚Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø· -->
    <section class="card" aria-label="Ù…Ø±Ø¨Ø¹ ÙØ­Øµ Ø«Ù„Ø§Ø« Ù„ÙŠØ§Ù„Ù">
      <div class="controls">
        <div>
          <label for="date">Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ</label><br>
          <input type="date" id="date">
        </div>
        <div>
          <label for="madhhab">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªÙ‚ÙˆÙŠÙ… / Ø§Ù„Ù…Ø°Ù‡Ø¨</label><br>
          <select id="madhhab">
            <option value="table1447" selected>Ø§ÙØªØ±Ø§Ø¶ÙŠ (Ø­Ø³Ø¨ Ø¬Ø¯ÙˆÙ„ 1447 Ù‡Ù€ Ø§Ù„Ù…Ø²ÙˆÙ‘Ø¯)</option>
          </select>
        </div>
        <div style="align-self:end">
          <button id="check">Ø§ÙØ­Øµ Ø§Ù„Ù„ÙŠÙ„Ø©</button>
        </div>
      </div>

      <div class="hr"></div>

      <div class="three" id="tiles">
        <!-- Ø§Ù„Ù„ÙŠÙ„Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© -->
        <div class="tile">
          <h3>Ø§Ù„Ù„ÙŠÙ„Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</h3>
          <div class="row">
            <div class="icon" id="iconPrev">ğŸ•¯ï¸</div>
            <div>
              <div id="statusPrev" class="status">â€”</div>
              <div class="muted" id="hijriPrev">Ù‡Ø¬Ø±ÙŠ: â€”</div>
              <div class="muted" id="gregPrev">Ù…ÙŠÙ„Ø§Ø¯ÙŠ: â€”</div>
            </div>
          </div>
        </div>
        <!-- Ø§Ù„Ù„ÙŠÙ„Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© -->
        <div class="tile">
          <h3>Ø§Ù„Ù„ÙŠÙ„Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©</h3>
          <div class="row">
            <div class="icon" id="iconNow">ğŸŒ™</div>
            <div>
              <div id="statusNow" class="status">â€”</div>
              <div class="muted" id="hijriNow">Ù‡Ø¬Ø±ÙŠ: â€”</div>
              <div class="muted" id="gregNow">Ù…ÙŠÙ„Ø§Ø¯ÙŠ: â€”</div>
            </div>
          </div>
        </div>
        <!-- Ø§Ù„Ù„ÙŠÙ„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© -->
        <div class="tile">
          <h3>Ø§Ù„Ù„ÙŠÙ„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©</h3>
          <div class="row">
            <div class="icon" id="iconNext">âœ¨</div>
            <div>
              <div id="statusNext" class="status">â€”</div>
              <div class="muted" id="hijriNext">Ù‡Ø¬Ø±ÙŠ: â€”</div>
              <div class="muted" id="gregNext">Ù…ÙŠÙ„Ø§Ø¯ÙŠ: â€”</div>
            </div>
          </div>
        </div>
      </div>

      <p class="muted" style="margin-top:10px">
        Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„Ù„ÙŠÙ„Ø© ØªÙØ­Ø³Ø¨ Ù…Ù† Ø§Ù„ØºØ±ÙˆØ¨ Ø¥Ù„Ù‰ Ø§Ù„ØºØ±ÙˆØ¨. Ù†Ø¹ØªÙ…Ø¯ ØªÙ‚ÙˆÙŠÙ… Ø£Ù… Ø§Ù„Ù‚Ø±Ù‰ Ø¹Ø¨Ø± Ø§Ù„Ù…ØªØµÙØ­ Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù‡Ø¬Ø±ÙŠØŒ
        Ø«Ù… Ù†Ù‚Ø§Ø±Ù† ØªØ§Ø±ÙŠØ® <strong>1447 Ù‡Ù€</strong> Ù…Ø¹ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø²ÙˆÙ‘Ø¯. Ø«Ø¨ÙˆØª Ø§Ù„Ù‡Ù„Ø§Ù„ Ù‚Ø¯ ÙŠØºÙŠÙ‘Ø± Ø§Ù„Ù†ØªÙŠØ¬Ø© Ù…Ø­Ù„ÙŠÙ‹Ø§.
      </p>
    </section>

    <footer>Ø¨Ø±Ù…Ø¬Ø© ÙˆØªØ·ÙˆÙŠØ± : <strong>ÙØ§Ø¶Ù„ Ø§Ù„Ø±ÙŠØ³</strong></footer>
  </div>

<script>
/* ===== Ø¨ÙŠØ§Ù†Ø§Øª 1447 Ù‡Ù€ (ÙƒÙ…Ø§ Ø²ÙˆÙ‘Ø¯ØªÙ†ÙŠ) ===== */
const months1447 = [
  {key:'Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„', blessed:[1,2,6,7,12,18,19,20,23,27,28,30], good:[9,11,14,15,22], disliked:[3,4,5,8,10,13,16,17,21,24,25,26,29]},
  {key:'Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ', blessed:[2,4,6,7,12,17,19,20,23,27,28,30], good:[9,10,11,14], disliked:[1,3,5,8,13,15,16,18,21,22,24,25,26,29]},
  {key:'Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø£ÙˆÙ„Ù‰', blessed:[1,2,4,7,12,17,19,23,28], good:[8,9,10,11,14,15,22], disliked:[3,5,6,13,16,18,20,21,24,25,26,27,29]},
  {key:'Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø«Ø§Ù†ÙŠØ©', blessed:[1,2,4,6,7,17,18,20,23,27,28,30], good:[8,9,10,11,14,15,22], disliked:[3,5,12,13,16,19,21,24,25,26,29]},
  {key:'Ø±Ø¬Ø¨', blessed:[1,2,4,6,7,18,19,20,23,27,28,30], good:[8,9,11,14,22], disliked:[3,5,10,12,13,15,16,17,21,24,25,26,29]},
  {key:'Ø´Ø¹Ø¨Ø§Ù†', blessed:[2,4,6,7,12,17,18,19,20,27,28], good:[9,10,11,14,23], disliked:[1,3,5,8,13,15,16,21,22,24,25,26,29]},
  {key:'Ø±Ù…Ø¶Ø§Ù†', blessed:[1,2,4,6,17,18,27,30], good:[9,10,11,12,15,22,23], disliked:[3,5,7,8,13,14,16,19,20,21,24,25,26,28,29]},
  {key:'Ø´ÙˆØ§Ù„', blessed:[1,4,6,7,17,18,20,23,27,28], good:[8,9,10,11,14,15,22], disliked:[2,3,5,12,13,16,19,21,24,25,26,29]},
  {key:'Ø°Ùˆ Ø§Ù„Ù‚Ø¹Ø¯Ø©', blessed:[1,2,6,7,12,17,19,20,23,27,28], good:[8,9,10,14,15], disliked:[3,4,5,11,13,16,18,21,22,24,25,26,29]},
  {key:'Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©', blessed:[1,2,4,6,12,18,19,20,23,27,28,30], good:[9,11,14,15,22], disliked:[3,5,7,8,10,13,16,17,21,24,25,26,29]}
];

const hijriMonthMap = {
  'Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„':'Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„','Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø§ÙˆÙ‘Ù„':'Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„','Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø¢Ø®Ø±':'Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ','Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ':'Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ',
  'Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø£ÙˆÙ„Ù‰':'Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø£ÙˆÙ„Ù‰','Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø§Ù”ÙˆÙ„Ù‰':'Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø£ÙˆÙ„Ù‰','Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø¢Ø®Ø±Ø©':'Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø«Ø§Ù†ÙŠØ©','Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø«Ø§Ù†ÙŠØ©':'Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø«Ø§Ù†ÙŠØ©',
  'Ø±Ø¬Ø¨':'Ø±Ø¬Ø¨','Ø´Ø¹Ø¨Ø§Ù†':'Ø´Ø¹Ø¨Ø§Ù†','Ø±Ù…Ø¶Ø§Ù†':'Ø±Ù…Ø¶Ø§Ù†','Ø´ÙˆÙ‘Ø§Ù„':'Ø´ÙˆØ§Ù„','Ø´ÙˆØ§Ù„':'Ø´ÙˆØ§Ù„','Ø°Ùˆ Ø§Ù„Ù‚Ø¹Ø¯Ø©':'Ø°Ùˆ Ø§Ù„Ù‚Ø¹Ø¯Ø©','Ø°Ùˆ Ø§Ù„Ø­Ø¬Ù‘Ø©':'Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©','Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©':'Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©'
};

function fmtGreg(d){ return new Intl.DateTimeFormat('ar-EG',{dateStyle:'full'}).format(d); }
function fmtHijri(d){
  try{
    const f = new Intl.DateTimeFormat('ar-SA-u-ca-islamic-umalqura',{day:'numeric',month:'long',year:'numeric'});
    const parts=f.formatToParts(d);
    return {
      day:Number(parts.find(p=>p.type==='day').value),
      monthName:parts.find(p=>p.type==='month').value,
      year:Number(parts.find(p=>p.type==='year').value)
    };
  }catch(_){ return {day:NaN,monthName:'',year:NaN}; }
}

function classify(hYear,hMonthName,hDay){
  if(hYear!==1447) return {cls:'', label:'Ø®Ø§Ø±Ø¬ 1447 Ù‡Ù€', icon:'ğŸ—“ï¸'};
  const norm=hijriMonthMap[hMonthName]||hMonthName;
  const m=months1447.find(x=>x.key===norm);
  if(!m) return {cls:'', label:'Ø´Ù‡Ø± ØºÙŠØ± Ù…Ø³Ø¬Ù‘Ù„', icon:'â”'};
  if(m.blessed.includes(hDay)) return {cls:'ok', label:'Ù…Ø¨Ø§Ø±ÙƒØ©', icon:'âœ…'};
  if(m.good.includes(hDay))    return {cls:'good', label:'ØµØ§Ù„Ø­Ø©', icon:'ğŸŸ¦'};
  if(m.disliked.includes(hDay))return {cls:'bad', label:'Ù…ÙƒØ±ÙˆÙ‡Ø©', icon:'â›”'};
  return {cls:'', label:'ØºÙŠØ± Ù…ÙØµÙ†Ù‘ÙØ©', icon:'â€¢'};
}

/* Ø­Ø³Ø§Ø¨ â€œØ§Ù„Ù„ÙŠÙ„Ø©â€ Ø¨Ø¨Ø³Ø§Ø·Ø©: Ù…Ù† 18:00 Ø¥Ù„Ù‰ 18:00 */
function nightMoment(baseDate){ const d=new Date(baseDate); d.setHours(23,0,0,0); return d; }
function addDays(d, n){ const x=new Date(d); x.setDate(x.getDate()+n); return x; }

/* ØªØ­Ø¯ÙŠØ« Ù…Ø±Ø¨Ù‘Ø¹ Ø§Ù„Ø«Ù„Ø§Ø« Ù„ÙŠØ§Ù„ */
function renderTriple(anchorDate){
  // anchorDate Ù‡Ùˆ ØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯ÙŠ ÙŠØ®ØªØ§Ø±Ù‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (ÙÙŠ Ù…Ù†ØªØµÙ Ø§Ù„ÙŠÙˆÙ…)
  const base = new Date(anchorDate+"T12:00:00");
  const prevNight = nightMoment(addDays(base,-1));
  const currNight = nightMoment(base);
  const nextNight = nightMoment(addDays(base,1));
  const slots = [
    {h:fmtHijri(prevNight), gText:fmtGreg(prevNight), id:'Prev'},
    {h:fmtHijri(currNight), gText:fmtGreg(currNight), id:'Now'},
    {h:fmtHijri(nextNight), gText:fmtGreg(nextNight), id:'Next'}
  ];
  slots.forEach(s=>{
    const c=classify(s.h.year,s.h.monthName,s.h.day);
    document.getElementById('status'+s.id).className = 'status ' + (c.cls||'');
    document.getElementById('status'+s.id).textContent = c.label;
    document.getElementById('icon'+s.id).textContent = c.icon;
    document.getElementById('hijri'+s.id).textContent = isNaN(s.h.year) ? 'Ù‡Ø¬Ø±ÙŠ: ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…' : `Ù‡Ø¬Ø±ÙŠ: ${s.h.day} ${s.h.monthName} ${s.h.year} Ù‡Ù€`;
    document.getElementById('greg'+s.id).textContent = `Ù…ÙŠÙ„Ø§Ø¯ÙŠ: ${s.gText}`;
  });
}

document.getElementById('check').addEventListener('click', ()=>{
  const v = document.getElementById('date').value;
  if(!v){ alert('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯ÙŠ.'); return; }
  // Ø­Ø§Ù„ÙŠØ§Ù‹ Ø®ÙŠØ§Ø± Ø§Ù„Ù…Ø°Ù‡Ø¨ ÙˆØ§Ø­Ø¯ (Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø²ÙˆÙ‘Ø¯)ØŒ Ø£Ø¶ÙØªÙ‡ Ù„ØªÙˆØ³Ø¹Ø© Ù„Ø§Ø­Ù‚Ø© Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ± Ø§Ù„ØªØµÙ…ÙŠÙ…
  renderTriple(v);
});

// ØªÙ‡ÙŠØ¦Ø© Ù…Ø¨Ø¯Ø¦ÙŠØ© Ø¹Ù„Ù‰ ØªØ§Ø±ÙŠØ® Ø§Ù„ÙŠÙˆÙ…
(function init(){
  const today = new Date(); const y=today.getFullYear(), m=String(today.getMonth()+1).padStart(2,'0'), d=String(today.getDate()).padStart(2,'0');
  document.getElementById('date').value = `${y}-${m}-${d}`;
  renderTriple(`${y}-${m}-${d}`);
})();
</script>
</body>
</html>
