<!doctype html>

<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ø§Ù„Ù„ÙŠØ§Ù„ÙŠ Ø§Ù„Ù…Ø¨Ø§Ø±ÙƒØ© Ù„Ù„Ø¹Ù‚Ø¯ ÙˆØ§Ù„Ø²ÙˆØ§Ø¬ 1447 Ù‡Ù€ (2025/2026) â€” Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØ¨Ø±Ù…Ø¬Ø©: ÙØ§Ø¶Ù„ Ø§Ù„Ø±ÙŠØ³</title>
  <meta name="description" content="ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„ØµØ§Ù„Ø­Ø© ÙˆØ§Ù„Ù…Ø¨Ø§Ø±ÙƒØ© Ù„Ù„Ø¹Ù‚Ø¯ ÙˆØ§Ù„Ø²ÙˆØ§Ø¬ ÙˆÙÙ‚ Ø§Ù„Ù…Ø°Ù‡Ø¨ Ø§Ù„Ø´ÙŠØ¹ÙŠ Ù„Ø¹Ø§Ù… 1447 Ù‡Ù€ Ù…Ø¹ Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠÙ† Ø§Ù„Ù‡Ø¬Ø±ÙŠ ÙˆØ§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠØŒ ØªØµÙ…ÙŠÙ… ÙØ§Ø®Ø± Ù…Ø¹ ÙˆØ¶Ø¹ Ù…Ø¸Ù„Ù… ÙˆØ¨Ø­Ø« ÙˆØ§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„ÙŠÙˆÙ…." />
  <style>
    :root{
      --bg:#0b0f14;          /* Ø®Ù„ÙÙŠØ© Ø¯Ø§ÙƒÙ†Ø© ÙØ§Ø®Ø±Ø© */
      --card:#10151b;        /* Ø¨Ø·Ø§Ù‚Ø§Øª */
      --text:#e9f0f7;        /* Ù†Øµ */
      --muted:#9fb3c8;       /* Ù†Øµ Ø«Ø§Ù†ÙˆÙŠ */
      --gold:#cda434;        /* Ø°Ù‡Ø¨ ÙØ§Ø®Ø± */
      --emerald:#2bb673;     /* Ù…Ø¨Ø§Ø±ÙƒØ© */
      --teal:#27b0b0;        /* ØµØ§Ù„Ø­Ø© */
      --crimson:#de425b;     /* Ù…ÙƒØ±ÙˆÙ‡Ø© */
      --shadow: 0 10px 30px rgba(0,0,0,.3);
      --radius: 22px;
    }
    .light{
      --bg:#f6f7fb;
      --card:#ffffff;
      --text:#0b1320;
      --muted:#50617a;
      --shadow: 0 10px 25px rgba(10,35,60,.08);
    }html,body{height:100%}
body{
  margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Kufi Arabic", "Cairo", Tahoma, Arial, sans-serif;
  background:
    radial-gradient(1200px 800px at 90% -10%, rgba(205,164,52,.08), transparent 60%),
    radial-gradient(900px 600px at -20% 110%, rgba(39,176,176,.08), transparent 60%),
    var(--bg);
  color:var(--text);
}

/* Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© */
header{
  position:sticky; top:0; z-index:50;
  backdrop-filter: blur(8px);
  background: linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.00)), color-mix(in oklab, var(--bg) 85%, transparent);
  border-bottom:1px solid color-mix(in oklab, var(--muted) 25%, transparent);
}
.container{max-width:1100px; margin-inline:auto; padding:14px 18px}
.row{display:flex; align-items:center; justify-content:space-between; gap:12px}

.brand{
  display:flex; align-items:center; gap:10px; text-decoration:none; color:var(--text);
}
.brand .logo{
  width:42px; height:42px; border-radius:50%;
  background: radial-gradient(circle at 30% 30%, var(--gold), #8a6a1c);
  box-shadow: inset 0 0 18px rgba(255,255,255,.3), 0 4px 20px rgba(0,0,0,.25);
  position:relative;
}
.brand .logo::before, .brand .logo::after{
  content:""; position:absolute; inset:6px; border-radius:50%; border:2px solid rgba(255,255,255,.3);
}
h1.title{font-size:1.05rem; margin:0; line-height:1.25}
h1.title .sub{display:block; font-weight:500; color:var(--muted); font-size:.86rem}

nav.actions{display:flex; align-items:center; gap:8px}
.btn{appearance:none; border:0; border-radius:14px; padding:10px 14px; cursor:pointer; font-weight:600; color:var(--text);
  background: color-mix(in oklab, var(--card) 86%, black 10%);
  box-shadow: var(--shadow); display:inline-flex; align-items:center; gap:8px
}
.btn:hover{transform: translateY(-1px)}

/* Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø³Ø§Ø¹Ø©/Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„ÙØ§Ø®Ø±Ø© */
.hero{padding:22px 18px}
.panel{
  position:relative; border-radius: var(--radius);
  background:
    radial-gradient(400px 120px at 90% 20%, rgba(205,164,52,.12), transparent),
    linear-gradient(180deg, color-mix(in oklab, var(--card) 94%, black 4%), color-mix(in oklab, var(--card) 84%, black 8%));
  border:1px solid color-mix(in oklab, var(--muted) 25%, transparent);
  box-shadow: var(--shadow);
  overflow:hidden
}
.panel .ornament{position:absolute; inset:0; pointer-events:none}
.panel .ornament svg{position:absolute; width:120px; height:120px; opacity:.28}
.panel .ornament svg.gold{color:var(--gold)}
.panel .ornament .tl{top:-10px; right:-10px; transform:scaleX(-1)}
.panel .ornament .br{bottom:-10px; left:-10px}

.hero-grid{display:grid; grid-template-columns: 1.2fr .8fr; gap:18px; padding:18px}
@media (max-width: 880px){ .hero-grid{grid-template-columns:1fr;}}

.clock{
  padding:22px; border-radius: calc(var(--radius) - 6px);
  background: linear-gradient(140deg, rgba(205,164,52,.06), rgba(39,176,176,.06));
  border:1px dashed color-mix(in oklab, var(--gold) 35%, transparent);
}
.clock .now{font-size:2.4rem; font-variant-numeric: tabular-nums; letter-spacing:.5px; font-weight:800}
.clock .dateRow{margin-top:8px; display:grid; grid-template-columns:1fr 1fr; gap:10px}
.clock .pill{border-radius:12px; padding:8px 12px; background: color-mix(in oklab, var(--card) 86%, black 8%); border:1px solid color-mix(in oklab, var(--muted) 25%, transparent)}
.clock small{color:var(--muted)}

.tools{display:flex; flex-wrap:wrap; gap:10px; align-items:center}
.search{flex:1; display:flex; align-items:center; gap:8px; background: color-mix(in oklab, var(--card) 90%, black 6%); border:1px solid color-mix(in oklab, var(--muted) 25%, transparent); border-radius:12px; padding:10px 12px}
.search input{flex:1; background:transparent; border:0; outline:0; color:var(--text); font-size:1rem}
.seg{display:flex; gap:6px}
.seg button{background:transparent; border:1px solid color-mix(in oklab, var(--muted) 30%, transparent); color:var(--muted); padding:8px 10px; border-radius:999px; cursor:pointer; font-weight:700}
.seg button.active{color:var(--text); background: color-mix(in oklab, var(--card) 90%, black 6%)}

/* Ø´Ø¨ÙƒØ© Ø§Ù„Ø£ÙŠØ§Ù… */
.months{padding:0 18px 18px}
.chips{display:flex; gap:8px; overflow:auto; padding:4px 2px 12px}
.chip{white-space:nowrap; border:1px solid color-mix(in oklab, var(--muted) 28%, transparent); padding:8px 12px; border-radius:999px; cursor:pointer; background: color-mix(in oklab, var(--card) 92%, black 4%)}
.chip.active{background: linear-gradient(90deg, rgba(205,164,52,.2), transparent); border-color: color-mix(in oklab, var(--gold) 40%, var(--muted));}

.grid{display:grid; grid-template-columns: repeat( auto-fill, minmax(260px, 1fr) ); gap:14px}
.day-card{
  border-radius:18px; border:1px solid color-mix(in oklab, var(--muted) 24%, transparent);
  background: color-mix(in oklab, var(--card) 88%, black 8%);
  box-shadow: var(--shadow); overflow:hidden
}
.day-head{display:flex; align-items:center; justify-content:space-between; gap:8px; padding:14px}
.badge{padding:6px 10px; border-radius:999px; font-weight:800; font-size:.85rem; letter-spacing:.3px}
.b-good{background: color-mix(in oklab, var(--emerald) 20%, transparent); color: var(--emerald); border:1px solid color-mix(in oklab, var(--emerald) 55%, transparent)}
.b-safe{background: color-mix(in oklab, var(--teal) 18%, transparent); color: var(--teal); border:1px solid color-mix(in oklab, var(--teal) 55%, transparent)}
.b-bad{ background: color-mix(in oklab, var(--crimson) 18%, transparent); color: var(--crimson); border:1px solid color-mix(in oklab, var(--crimson) 55%, transparent)}
.day-body{padding:0 14px 12px; color:var(--muted)}
.details{display:none; padding:10px 14px; border-top:1px dashed color-mix(in oklab, var(--muted) 28%, transparent)}
.day-card.open .details{display:block}
.kufi{font-family: "Noto Kufi Arabic", "Cairo", system-ui, sans-serif}
.gold{color:var(--gold)}
.muted{color:var(--muted)}

.jump{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
.jump input[type="date"], .jump select{border-radius:10px; border:1px solid color-mix(in oklab, var(--muted) 30%, transparent); background: color-mix(in oklab, var(--card) 90%, black 6%); color:var(--text); padding:8px 10px}

footer{margin-top:26px; padding:28px 18px; text-align:center; color:var(--muted)}
footer .credit{font-weight:800; color:var(--text)}

/* Ø²Ø± Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ù„ÙŠÙˆÙ… */
.fab{position:fixed; inset-inline-start:16px; inset-block-end:18px; z-index:40}
.fab button{border:0; border-radius:999px; padding:12px 16px; background:var(--gold); color:#1a1005; font-weight:800; box-shadow: 0 10px 25px rgba(205,164,52,.35); cursor:pointer}

/* Ù‚Ø§Ø¦Ù…Ø© Ù…Ù†Ø³Ø¯Ù„Ø© Ø¨Ø³ÙŠØ·Ø© */
.menu{position:relative}
.menu-list{position:absolute; inset-inline-end:0; margin-top:8px; min-width:240px; background: color-mix(in oklab, var(--card) 92%, black 4%); border:1px solid color-mix(in oklab, var(--muted) 30%, transparent); border-radius:14px; padding:8px; display:none; box-shadow: var(--shadow)}
.menu.open .menu-list{display:block}
.menu a, .menu .menu-item{display:flex; align-items:center; gap:8px; padding:10px 12px; color:var(--text); text-decoration:none; border-radius:10px}
.menu a:hover, .menu .menu-item:hover{background: color-mix(in oklab, var(--card) 90%, black 6%)}

/* Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ù„Ø´Ø±ÙŠØ¹Ø© */
.note{padding:16px 18px; margin: 8px 0 18px; font-size:.95rem; line-height:1.8; color: var(--muted)}
.note strong{color: var(--text)}

  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="row">
        <a class="brand" href="#top" aria-label="Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©">
          <div class="logo" aria-hidden="true"></div>
          <h1 class="title">
            Ø§Ù„Ù„ÙŠØ§Ù„ÙŠ Ø§Ù„Ù…Ø¨Ø§Ø±ÙƒØ© Ù„Ù„Ø¹Ù‚Ø¯ ÙˆØ§Ù„Ø²ÙˆØ§Ø¬ 1447 Ù‡Ù€
            <span class="sub">Ø¨Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ Ù„Ø¹Ø§Ù… 2025 / 2026 â€” Ù†Ù…Ø· ÙØ§Ø®Ø± Ù…Ø¹ ÙˆØ¶Ø¹ Ù…Ø¸Ù„Ù… ÙˆØ¨Ø­Ø« ÙˆØ§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„ÙŠÙˆÙ…</span>
          </h1>
        </a>
        <nav class="actions">
          <div class="menu" id="menu">
            <button class="btn" aria-haspopup="true" aria-expanded="false" onclick="toggleMenu()">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© â–¾</button>
            <div class="menu-list" role="menu" aria-label="Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©">
              <button class="menu-item" onclick="toggleTheme()">ğŸŒ™ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù… / Ø§Ù„ÙØ§ØªØ­</button>
              <button class="menu-item" onclick="openImport()">ğŸ“¥ Ø§Ø³ØªÙŠØ±Ø§Ø¯/ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
              <a class="menu-item" href="#about">â„¹ï¸ Ø­ÙˆÙ„ Ø§Ù„ØªÙ‚ÙˆÙŠÙ…</a>
            </div>
          </div>
        </nav>
      </div>
    </div>
  </header>  <main id="top" class="container">
    <section class="hero">
      <div class="panel">
        <div class="ornament">
          <!-- Ø²Ø®Ø§Ø±Ù Ø¨Ø³ÙŠØ·Ø© -->
          <svg class="gold tl" viewBox="0 0 100 100" fill="currentColor" aria-hidden="true"><path d="M50 4c12 12 30 16 46 12-4 16 0 34 12 46-12 12-16 30-12 46-16-4-34 0-46 12-12-12-30-16-46-12 4-16 0-34-12-46 12-12 16-30 12-46 16 4 34 0 46-12Z"/></svg>
          <svg class="gold br" viewBox="0 0 100 100" fill="currentColor" aria-hidden="true"><path d="M50 4c12 12 30 16 46 12-4 16 0 34 12 46-12 12-16 30-12 46-16-4-34 0-46 12-12-12-30-16-46-12 4-16 0-34-12-46 12-12 16-30 12-46 16 4 34 0 46-12Z"/></svg>
        </div>
        <div class="hero-grid">
          <div class="clock" aria-live="polite">
            <div class="now" id="timeNow">--:--:--</div>
            <div class="dateRow">
              <div class="pill"><strong>Ø§Ù„ÙŠÙˆÙ…:</strong> <span id="weekday">â€”</span></div>
              <div class="pill"><strong>Ø§Ù„ÙˆØ¶Ø¹:</strong> <span id="themeName">â€”</span></div>
            </div>
            <div class="dateRow" style="margin-top:10px">
              <div class="pill"><small>Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ</small><br><span id="gregToday">â€”</span></div>
              <div class="pill"><small>Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ (Ø£Ù… Ø§Ù„Ù‚Ø±Ù‰)</small><br><span id="hijriToday">â€”</span></div>
            </div>
          </div>
          <div class="tools">
            <label class="search" style="flex:1" aria-label="Ø¨Ø­Ø«">
              ğŸ”
              <input id="q" type="search" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ù„ÙŠÙˆÙ… Ø£Ùˆ Ø§Ù„Ø´Ù‡Ø± Ø£Ùˆ Ø§Ù„Ø­Ø§Ù„Ø© Ø£Ùˆ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©â€¦ (Ù…Ø«Ø§Ù„: Ù…Ø¨Ø§Ø±ÙƒØ©ØŒ ØµØ§Ù„Ø­Ø©ØŒ Ù…ÙƒØ±ÙˆÙ‡Ø©ØŒ Ø§Ø³ØªØ´Ù‡Ø§Ø¯)" oninput="render()"/>
            </label>
            <div class="seg" role="tablist" aria-label="ØªØµÙÙŠØ©">
              <button class="active" data-state="all" onclick="setFilter(this)">Ø§Ù„ÙƒÙ„</button>
              <button data-state="good" onclick="setFilter(this)">Ù…Ø¨Ø§Ø±ÙƒØ©</button>
              <button data-state="safe" onclick="setFilter(this)">ØµØ§Ù„Ø­Ø©</button>
              <button data-state="bad" onclick="setFilter(this)">Ù…ÙƒØ±ÙˆÙ‡Ø©</button>
            </div>
          </div>
          <div class="tools" style="grid-column:1/-1">
            <div class="jump">
              <label>Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„ØªØ§Ø±ÙŠØ® (Ù…ÙŠÙ„Ø§Ø¯ÙŠ): <input type="date" id="jumpGreg" onchange="jumpToGreg()"/></label>
              <label>Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ù‡Ø¬Ø±ÙŠ: 
                <select id="jumpMonth"></select>
                <select id="jumpDay"></select>
                <button class="btn" onclick="jumpToHijri()">Ø§Ø°Ù‡Ø¨</button>
              </label>
            </div>
          </div>
        </div>
      </div>
    </section><section class="note">
  <strong>ØªÙ†Ø¨ÙŠÙ‡ Ø´Ø±Ø¹ÙŠ ÙˆØªÙ†Ø¸ÙŠÙ…ÙŠ:</strong> Ù‚Ø¯ ØªØ®ØªÙ„Ù Ø§Ù„Ù„ÙŠØ§Ù„ÙŠ Ø§Ù„Ù…Ø¨Ø§Ø±ÙƒØ© ÙˆØ§Ù„ØµØ§Ù„Ø­Ø© Ù„Ù„Ø¹Ù‚Ø¯ ÙˆØ§Ù„Ø²ÙˆØ§Ø¬ Ø¨Ø§Ø®ØªÙ„Ø§Ù Ø«Ø¨ÙˆØª Ø§Ù„Ù‡Ù„Ø§Ù„ Ø§Ù„Ø´Ø±Ø¹ÙŠ Ù„ÙƒÙ„ Ø´Ù‡Ø±.
  Ø¹Ù„ÙŠÙ‡ ÙŠÙØ³ØªØ­Ø¨ Ø¯ÙØ¹ Ø§Ù„ØµØ¯Ù‚Ø© Ø¨Ù†ÙŠØ© Ø§Ù„ØªÙˆÙÙŠÙ‚ ÙˆØ¯ÙØ¹ Ø§Ù„Ø¨Ù„Ø§Ø¡. ÙŠØ¨Ø¯Ø£ <strong>Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø´Ø±Ø¹ÙŠ Ù…Ù† Ø§Ù„ØºØ±ÙˆØ¨ Ø­ØªÙ‰ ØºØ±ÙˆØ¨ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ù„ÙŠ</strong>Ø› ÙØ§Ù„Ù„ÙŠÙ„Ø© ØªØ§Ø¨Ø¹Ø© Ù„Ù„ÙŠÙˆÙ… Ø§Ù„Ø°ÙŠ ÙŠÙ„ÙŠÙ‡Ø§ (ÙƒÙ„ÙŠÙ„Ø© Ø§Ù„Ø£Ø­Ø¯ ØªØªØ¨Ø¹ ÙŠÙˆÙ… Ø§Ù„Ø£Ø­Ø¯).
</section>

<section class="months">
  <div class="chips" id="monthChips"></div>
  <div class="grid" id="grid"></div>
</section>

<footer id="about">
  <div>Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ø³ØªÙ‚Ù„ØŒ ÙˆÙ„Ø§ ÙŠØ°ÙƒØ± Ø£Ø³Ù…Ø§Ø¡ Ø£Ø´Ø®Ø§Øµ. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ­Ø¯ÙŠØ« Ø¹Ù†Ø¯ Ø§Ø®ØªÙ„Ø§Ù Ø§Ù„Ø£Ù‡Ù„Ø©.</div>
  <div class="credit">Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØ¨Ø±Ù…Ø¬Ø©: ÙØ§Ø¶Ù„ Ø§Ù„Ø±ÙŠØ³</div>
</footer>

  </main>  <div class="fab"><button onclick="scrollToToday()">Ø§Ù„ÙŠÙˆÙ… â¤´</button></div>  <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯ -->  <dialog id="importer" style="max-width:900px; width:92%; border:1px solid color-mix(in oklab, var(--muted) 30%, transparent); border-radius:18px; background: color-mix(in oklab, var(--card) 96%, black 2%); color:var(--text); padding:0;">
    <form method="dialog">
      <div style="display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid color-mix(in oklab, var(--muted) 25%, transparent)">
        <strong>ğŸ“¥ Ø§Ø³ØªÙŠØ±Ø§Ø¯/ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø£Ù„ØµÙ‚ Ø§Ù„Ù†Øµ ÙƒÙ…Ø§ ÙÙŠ Ø±Ø³Ø§Ù„ØªÙƒ)</strong>
        <button class="btn">Ø¥ØºÙ„Ø§Ù‚</button>
      </div>
      <div style="padding:12px 16px; display:grid; gap:10px">
        <p class="muted">Ø§Ù†Ø³Ø® Ø´Ù‡Ø±Ø§Ù‹ Ø´Ù‡Ø±Ø§Ù‹ Ø¨ØµÙŠØºØªÙ‡ Ù…Ø«Ù„: <em>Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„ 1447 Ù‡Ù€</em> Ø«Ù… Ø£Ø³Ø·Ø± Ø§Ù„Ø£ÙŠØ§Ù… Ø¨Ø§Ù„Ø£Ø¹Ù…Ø¯Ø©: <code>Ø§Ù„Ù‡Ø¬Ø±ÙŠ Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ_Ø§Ù„ÙŠÙˆÙ…_Ø§Ù„Ø´Ù‡Ø± Ø§Ù„ÙŠÙˆÙ…(Ø§Ø³Ù…) Ø§Ù„Ø­Ø§Ù„Ø©[Ù…Ø¨Ø§Ø±ÙƒØ©/ØµØ§Ù„Ø­Ø©/Ù…ÙƒØ±ÙˆÙ‡Ø©] [Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©]</code> â€” Ù…Ø«Ø§Ù„ ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„.</p>
        <textarea id="raw" dir="rtl" style="width:100%; min-height:260px; border-radius:12px; border:1px solid color-mix(in oklab, var(--muted) 30%, transparent); background: color-mix(in oklab, var(--card) 92%, black 4%); color:var(--text); padding:10px; line-height:1.9" placeholder="Ù…Ø«Ø§Ù„:
Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„ 1447 Ù‡Ù€
1 25 8 Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† Ù…Ø¨Ø§Ø±ÙƒØ©
2 26 8 Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ Ù…Ø¨Ø§Ø±ÙƒØ©
..."></textarea>
        <div style="display:flex; gap:10px; align-items:center; justify-content:space-between">
          <button type="button" class="btn" onclick="parseAndMerge()">Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¢Ù†</button>
          <small class="muted">Ù„Ø§ ØªÙØ°ÙƒØ± Ø£ÙŠ Ø£Ø³Ù…Ø§Ø¡ Ø£Ø´Ø®Ø§Øµ. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¹Ø¯Ø© Ù…Ø±Ø§Øª ÙˆØ³ÙŠØ¬Ø±ÙŠ Ø§Ù„Ø¯Ù…Ø¬ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹.</small>
        </div>
      </div>
    </form>
  </dialog>  <script>
    // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø§Ù…Ø© â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
    const $ = sel => document.querySelector(sel);
    const $$ = sel => Array.from(document.querySelectorAll(sel));

    const state = {
      theme: localStorage.getItem('theme') || 'dark',
      filter: 'all',
      query: '',
      months: new Map(), // name -> [{h, gm, gd, gy, dow, status, note}]
      order: [],         // ordered month names
    };

    document.addEventListener('DOMContentLoaded', () => {
      // Theme
      if(state.theme === 'light') document.body.classList.add('light');
      updateThemeName();

      // Example seed data (Ø´Ù‡Ø±Ø§Ù† ÙƒÙ†Ù…ÙˆØ°Ø¬ â€” ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨Ù‚ÙŠØ© Ø§Ù„Ø´Ù‡ÙˆØ± Ù…Ù† Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯)
      seedExample();

      // Populate jump selects
      buildJumpSelectors();

      // Render
      render();

      // Clock
      tick(); setInterval(tick, 1000);

      // Close menu on outside click
      document.addEventListener('click', (e)=>{ if(!e.target.closest('#menu')) $('#menu').classList.remove('open'); })
    });

    function toggleMenu(){ const m=$('#menu'); m.classList.toggle('open'); m.querySelector('button').setAttribute('aria-expanded', m.classList.contains('open')); }

    function toggleTheme(){
      document.body.classList.toggle('light');
      state.theme = document.body.classList.contains('light') ? 'light' : 'dark';
      localStorage.setItem('theme', state.theme);
      updateThemeName();
    }
    function updateThemeName(){ $('#themeName').textContent = (state.theme==='light'?'ÙØ§ØªØ­':'Ù…Ø¸Ù„Ù…'); }

    function arDigits(n){ return n.toLocaleString('ar-SA'); }

    function tick(){
      const now = new Date();
      $('#timeNow').textContent = now.toLocaleTimeString('ar-SA',{hour12:false});
      $('#weekday').textContent = now.toLocaleDateString('ar-SA',{weekday:'long'});
      $('#gregToday').textContent = now.toLocaleDateString('ar-SA',{year:'numeric', month:'long', day:'numeric'});
      try{
        const fmt = new Intl.DateTimeFormat('ar-SA-u-ca-islamic-umalqura',{year:'numeric', month:'long', day:'numeric'});
        $('#hijriToday').textContent = fmt.format(now);
      }catch(err){
        try{
          const fmt2 = new Intl.DateTimeFormat('ar-SA-u-ca-islamic',{year:'numeric', month:'long', day:'numeric'});
          $('#hijriToday').textContent = fmt2.format(now);
        }catch{
          $('#hijriToday').textContent = 'Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù‡Ø¬Ø±ÙŠ ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ… ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…ØªØµÙØ­';
        }
      }
    }

    // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø¹Ø±Ø¶ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
    const STATUS_MAP = { 'Ù…Ø¨Ø§Ø±ÙƒØ©':'good', 'ØµØ§Ù„Ø­Ø©':'safe', 'Ù…ÙƒØ±ÙˆÙ‡Ø©':'bad' };

    function seedExample(){
      // Ù…Ø«Ø§Ù„: Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„ + Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ ÙÙ‚Ø· ÙƒØ¨Ø¯Ø§ÙŠØ©
      const rabi1 = `
1 25 8 Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† Ù…Ø¨Ø§Ø±ÙƒØ©
2 26 8 Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ Ù…Ø¨Ø§Ø±ÙƒØ©
3 27 8 Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ Ù…ÙƒØ±ÙˆÙ‡Ø©
4 28 8 Ø§Ù„Ø®Ù…ÙŠØ³ Ù…ÙƒØ±ÙˆÙ‡Ø©
5 29 8 Ø§Ù„Ø¬Ù…Ø¹Ø© Ù…ÙƒØ±ÙˆÙ‡Ø©
6 30 8 Ø§Ù„Ø³Ø¨Øª Ù…Ø¨Ø§Ø±ÙƒØ©
7 31 8 Ø§Ù„Ø£Ø­Ø¯ Ù…Ø¨Ø§Ø±ÙƒØ©
8 1 9 Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† Ù…ÙƒØ±ÙˆÙ‡Ø© Ø§Ø³ØªØ´Ù‡Ø§Ø¯ Ø§Ù„Ø¥Ù…Ø§Ù… Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…
9 2 9 Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ ØµØ§Ù„Ø­Ø©
10 3 9 Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ Ù…ÙƒØ±ÙˆÙ‡Ø©
11 4 9 Ø§Ù„Ø®Ù…ÙŠØ³ ØµØ§Ù„Ø­Ø©
12 5 9 Ø§Ù„Ø¬Ù…Ø¹Ø© Ù…Ø¨Ø§Ø±ÙƒØ©
13 6 9 Ø§Ù„Ø³Ø¨Øª Ù…ÙƒØ±ÙˆÙ‡Ø©
14 7 9 Ø§Ù„Ø£Ø­Ø¯ ØµØ§Ù„Ø­Ø©
15 8 9 Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† ØµØ§Ù„Ø­Ø©
16 9 9 Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ Ù…ÙƒØ±ÙˆÙ‡Ø©
17 10 9 Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ Ù…ÙƒØ±ÙˆÙ‡Ø©
18 11 9 Ø§Ù„Ø®Ù…ÙŠØ³ Ù…Ø¨Ø§Ø±ÙƒØ©
19 12 9 Ø§Ù„Ø¬Ù…Ø¹Ø© Ù…Ø¨Ø§Ø±ÙƒØ©
20 13 9 Ø§Ù„Ø³Ø¨Øª Ù…Ø¨Ø§Ø±ÙƒØ©
21 14 9 Ø§Ù„Ø£Ø­Ø¯ Ù…ÙƒØ±ÙˆÙ‡Ø©
22 15 9 Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† ØµØ§Ù„Ø­Ø©
23 16 9 Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ Ù…Ø¨Ø§Ø±ÙƒØ©
24 17 9 Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ Ù…ÙƒØ±ÙˆÙ‡Ø©
25 18 9 Ø§Ù„Ø®Ù…ÙŠØ³ Ù…ÙƒØ±ÙˆÙ‡Ø©
26 19 9 Ø§Ù„Ø¬Ù…Ø¹Ø© Ù…ÙƒØ±ÙˆÙ‡Ø©
27 20 9 Ø§Ù„Ø³Ø¨Øª Ù…Ø¨Ø§Ø±ÙƒØ©
28 21 9 Ø§Ù„Ø£Ø­Ø¯ Ù…Ø¨Ø§Ø±ÙƒØ©
29 22 9 Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† Ù…ÙƒØ±ÙˆÙ‡Ø©
30 23 9 Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ Ù…Ø¨Ø§Ø±ÙƒØ©`;

      const rabi2 = `
1 24 9 Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ Ù…ÙƒØ±ÙˆÙ‡Ø©
2 25 9 Ø§Ù„Ø®Ù…ÙŠØ³ Ù…Ø¨Ø§Ø±ÙƒØ©
3 26 9 Ø§Ù„Ø¬Ù…Ø¹Ø© Ù…ÙƒØ±ÙˆÙ‡Ø©
4 27 9 Ø§Ù„Ø³Ø¨Øª Ù…Ø¨Ø§Ø±ÙƒØ©
5 28 9 Ø§Ù„Ø£Ø­Ø¯ Ù…ÙƒØ±ÙˆÙ‡Ø©
6 29 9 Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† Ù…Ø¨Ø§Ø±ÙƒØ©
7 30 9 Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ Ù…Ø¨Ø§Ø±ÙƒØ©
8 1 10 Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ Ù…ÙƒØ±ÙˆÙ‡Ø©
9 2 10 Ø§Ù„Ø®Ù…ÙŠØ³ ØµØ§Ù„Ø­Ø©
10 3 10 Ø§Ù„Ø¬Ù…Ø¹Ø© ØµØ§Ù„Ø­Ø©
11 4 10 Ø§Ù„Ø³Ø¨Øª ØµØ§Ù„Ø­Ø©
12 5 10 Ø§Ù„Ø£Ø­Ø¯ Ù…Ø¨Ø§Ø±ÙƒØ©
13 6 10 Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† Ù…ÙƒØ±ÙˆÙ‡Ø© Ø§Ø³ØªØ´Ù‡Ø§Ø¯ Ø§Ù„Ø³ÙŠØ¯Ø© ÙØ§Ø·Ù…Ø© Ø§Ù„Ø²Ù‡Ø±Ø§Ø¡ Ø¹Ù„ÙŠÙ‡Ø§ Ø§Ù„Ø³Ù„Ø§Ù…
14 7 10 Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ ØµØ§Ù„Ø­Ø©
15 8 10 Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ Ù…ÙƒØ±ÙˆÙ‡Ø©
16 9 10 Ø§Ù„Ø®Ù…ÙŠØ³ Ù…ÙƒØ±ÙˆÙ‡Ø©
17 10 10 Ø§Ù„Ø¬Ù…Ø¹Ø© Ù…Ø¨Ø§Ø±ÙƒØ©
18 11 10 Ø§Ù„Ø³Ø¨Øª Ù…ÙƒØ±ÙˆÙ‡Ø©
19 12 10 Ø§Ù„Ø£Ø­Ø¯ Ù…Ø¨Ø§Ø±ÙƒØ©
20 13 10 Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† Ù…Ø¨Ø§Ø±ÙƒØ©
21 14 10 Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ Ù…ÙƒØ±ÙˆÙ‡Ø©
22 15 10 Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ Ù…ÙƒØ±ÙˆÙ‡Ø©
23 16 10 Ø§Ù„Ø®Ù…ÙŠØ³ Ù…Ø¨Ø§Ø±ÙƒØ©
24 17 10 Ø§Ù„Ø¬Ù…Ø¹Ø© Ù…ÙƒØ±ÙˆÙ‡Ø©
25 18 10 Ø§Ù„Ø³Ø¨Øª Ù…ÙƒØ±ÙˆÙ‡Ø©
26 19 10 Ø§Ù„Ø£Ø­Ø¯ Ù…ÙƒØ±ÙˆÙ‡Ø©
27 20 10 Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† Ù…Ø¨Ø§Ø±ÙƒØ©
28 21 10 Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ Ù…Ø¨Ø§Ø±ÙƒØ©
29 22 10 Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ Ù…ÙƒØ±ÙˆÙ‡Ø©
30 23 10 Ø§Ù„Ø®Ù…ÙŠØ³ Ù…Ø¨Ø§Ø±ÙƒØ©`;

      addMonth('Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„ 1447 Ù‡Ù€', rabi1);
      addMonth('Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ 1447 Ù‡Ù€', rabi2);

      // Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ø³ØªØ®Ø¯Ù… Ø²Ø± "Ø§Ø³ØªÙŠØ±Ø§Ø¯/ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª" Ù„Ù„ØµÙ‚ Ø¨Ù‚ÙŠØ© Ø§Ù„Ø´Ù‡ÙˆØ± ÙƒÙ…Ø§ ÙÙŠ Ø±Ø³Ø§Ù„ØªÙƒ ÙˆØ³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ù‡Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹.
    }

    function addMonth(name, rawLines){
      // ÙŠØ­ÙˆÙ‘Ù„ Ø³Ø·ÙˆØ± Ø§Ù„Ø´Ù‡Ø± Ø¥Ù„Ù‰ ÙƒØ§Ø¦Ù†Ø§Øª ÙŠÙˆÙ…ÙŠØ©
      const lines = rawLines.trim().split(/\n+/);
      const arr = [];
      for(const line of lines){
        const parts = line.trim().split(/\s+/);
        if(parts.length < 5) continue;
        const h = parseInt(parts[0],10);
        const gd = parseInt(parts[1],10);
        const gm = parseInt(parts[2],10);
        const dow = parts[3];
        const status = parts[4];
        const note = parts.slice(5).join(' ');
        const gy = (gm>=8?2025:2026); // 8-12 -> 2025, 1-6 -> 2026
        arr.push({h, gd, gm, gy, dow, status, kind: STATUS_MAP[status]||'unknown', note});
      }
      state.months.set(name, arr);
      if(!state.order.includes(name)) state.order.push(name);
    }

    function buildJumpSelectors(){
      const mSel = $('#jumpMonth'); mSel.innerHTML = '';
      for(const name of state.order){
        const o = document.createElement('option'); o.value = name; o.textContent = name; mSel.appendChild(o);
      }
      const dSel = $('#jumpDay'); dSel.innerHTML = '';
      for(let d=1; d<=30; d++){ const o = document.createElement('option'); o.value=d; o.textContent = arDigits(d); dSel.appendChild(o); }
    }

    function setFilter(btn){ $$('.seg button').forEach(b=>b.classList.remove('active')); btn.classList.add('active'); state.filter = btn.dataset.state; render(); }

    function render(){
      state.query = $('#q').value?.trim();

      // Ø±Ù‚Ø§Ù‚Ø© Ø§Ù„Ø£Ø´Ù‡Ø±
      const chips = $('#monthChips'); chips.innerHTML = '';
      state.order.forEach((name,idx)=>{
        const ch = document.createElement('button'); ch.className = 'chip'+(idx===0?' active':''); ch.textContent = name; ch.onclick=()=>{ $$('.chip').forEach(c=>c.classList.remove('active')); ch.classList.add('active'); showMonth(name); };
        chips.appendChild(ch);
      });
      // Ø¥Ø¸Ù‡Ø§Ø± Ø£ÙˆÙ„ Ø´Ù‡Ø± Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹
      if(state.order.length){ showMonth(state.order[0]); }
    }

    function showMonth(name){
      const grid = $('#grid'); grid.innerHTML='';
      const q = state.query;
      const filter = state.filter;
      const items = (state.months.get(name)||[]).filter(d=>{
        let ok = true;
        if(filter!=='all') ok = d.kind===filter;
        if(ok && q){
          const blob = `${name} ${d.h} ${d.dow} ${d.status} ${d.note} ${d.gd}/${d.gm}/${d.gy}`;
          ok = blob.includes(q);
        }
        return ok;
      });

      for(const d of items){
        const card = document.createElement('article'); card.className='day-card'; card.id = `m-${encodeURIComponent(name)}-d-${d.h}`;
        const badgeClass = d.kind==='good'?'b-good': d.kind==='safe'?'b-safe': d.kind==='bad'?'b-bad':'b-safe';
        card.innerHTML = `
          <div class="day-head">
            <div>
              <div class="kufi" style="font-weight:900; font-size:1.05rem">Ø§Ù„ÙŠÙˆÙ… ${arDigits(d.h)} â€” <span class="gold">${name}</span></div>
              <div class="muted">${d.dow} â€¢ ${arDigits(d.gd)} / ${arDigits(d.gm)} / ${arDigits(d.gy)}</div>
            </div>
            <div class="badge ${badgeClass}">${d.status}</div>
          </div>
          <div class="day-body">
            <div class="muted">Ø§Ø¶ØºØ· Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„ (Ù…Ù† Ø§Ù„ØºØ±ÙˆØ¨ Ø¥Ù„Ù‰ Ø§Ù„ØºØ±ÙˆØ¨)</div>
          </div>
          <div class="details">${d.note?`ğŸ“Œ ${d.note}`:'â€”'}</div>
        `;
        card.addEventListener('click', ()=> card.classList.toggle('open'));
        grid.appendChild(card);
      }
    }

    function scrollToToday(){
      // Ù†Ø­Ø§ÙˆÙ„ Ø¥ÙŠØ¬Ø§Ø¯ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ (Ø¥Ù† ÙˆÙØ¬Ø¯Øª ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª)
      const now = new Date();
      const gd = now.getDate();
      const gm = now.getMonth()+1;
      const gy = now.getFullYear();
      for(const month of state.order){
        const arr = state.months.get(month)||[];
        const hit = arr.find(x=>x.gd===gd && x.gm===gm && x.gy===gy);
        if(hit){
          // Ø§ÙØªØ­ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶
          $$('.chip').forEach(c=>{ if(c.textContent===month){ c.click(); }});
          setTimeout(()=>{
            const el = document.getElementById(`m-${encodeURIComponent(month)}-d-${hit.h}`);
            if(el){ el.classList.add('open'); el.scrollIntoView({behavior:'smooth', block:'center'}); }
          }, 50);
          return;
        }
      }
      alert('Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ Ø¶Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©. ÙŠØ±Ø¬Ù‰ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨Ù‚ÙŠØ© Ø§Ù„Ø´Ù‡ÙˆØ±.');
    }

    function jumpToGreg(){
      const v = $('#jumpGreg').value; if(!v) return;
      const dt = new Date(v);
      const gd = dt.getDate(); const gm = dt.getMonth()+1; const gy = dt.getFullYear();
      for(const month of state.order){
        const arr = state.months.get(month)||[];
        const hit = arr.find(x=>x.gd===gd && x.gm===gm && x.gy===gy);
        if(hit){ $$('.chip').forEach(c=>{ if(c.textContent===month){ c.click(); }}); setTimeout(()=>{ document.getElementById(`m-${encodeURIComponent(month)}-d-${hit.h}`).scrollIntoView({behavior:'smooth', block:'center'}); }, 60); return; }
      }
      alert('Ù„Ù… ÙŠÙØ¹Ø«Ø± Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.');
    }

    function jumpToHijri(){
      const m = $('#jumpMonth').value; const d = parseInt($('#jumpDay').value,10);
      if(!m || !d) return;
      $$('.chip').forEach(c=>{ if(c.textContent===m){ c.click(); }});
      setTimeout(()=>{ const el = document.getElementById(`m-${encodeURIComponent(m)}-d-${d}`); if(el){ el.scrollIntoView({behavior:'smooth', block:'center'}); el.classList.add('open'); } }, 60);
    }

    function openImport(){ $('#importer').showModal(); $('#raw').focus(); }

    function parseAndMerge(){
      const raw = $('#raw').value; if(!raw.trim()){ alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù„ØµÙ‚ Ù†Øµ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹.'); return; }
      // Ù†ÙÙƒÙƒ Ø§Ù„Ù†Øµ Ø¥Ù„Ù‰ ÙƒØªÙ„ Ù„ÙƒÙ„ Ø´Ù‡Ø±ØŒ Ø¹Ù„Ù‰ Ø£Ø³Ø§Ø³ Ø³Ø·Ø± ÙŠØ­ØªÙˆÙŠ Ø§Ø³Ù… Ø´Ù‡Ø± Ù…ØªØ¨ÙˆØ¹Ø§Ù‹ Ø¨Ù€ 1447 Ù‡Ù€
      const lines = raw.split(/\n+/).map(s=>s.trim()).filter(Boolean);
      let currentName = null; let buffer = [];
      const flush = ()=>{ if(currentName && buffer.length){ addMonth(currentName, buffer.join('\n')); currentName=null; buffer=[]; } };
      for(const ln of lines){
        const isMonth = /(Ù…Ø­Ø±Ù…|ØµÙØ±|Ø±Ø¨ÙŠØ¹\s*Ø§Ù„Ø£ÙˆÙ„|Ø±Ø¨ÙŠØ¹\s*Ø§Ù„Ø«Ø§Ù†ÙŠ|Ø¬Ù…Ø§Ø¯Ù‰\s*Ø§Ù„Ø£ÙˆÙ„Ù‰|Ø¬Ù…Ø§Ø¯Ù‰\s*Ø§Ù„Ø¢Ø®Ø±Ø©|Ø¬Ù…Ø§Ø¯Ù‰\s*Ø§Ù„Ø«Ø§Ù†ÙŠ|Ø±Ø¬Ø¨|Ø´Ø¹Ø¨Ø§Ù†|Ø±Ù…Ø¶Ø§Ù†|Ø´ÙˆØ§Ù„|Ø°Ùˆ\s*Ø§Ù„Ù‚Ø¹Ø¯Ø©|Ø°Ùˆ\s*Ø§Ù„Ø­Ø¬Ø©)\s*1447\s*Ù‡Ù€/.test(ln);
        if(isMonth){ flush(); currentName = ln.replace(/\s+/g,' ').trim(); continue; }
        // ÙˆØ¥Ù„Ø§ ÙÙ‡Ùˆ Ø³Ø·Ø± ÙŠÙˆÙ…
        if(/^[0-9]{1,2}\s+[0-9]{1,2}\s+[0-9]{1,2}\s+/.test(ln)) buffer.push(ln);
      }
      flush();
      buildJumpSelectors();
      render();
      $('#importer').close();
    }
  </script></body>
</html>
