<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ø§Ù„Ø§Ø³ØªØ¨ØµØ§Ø± â€” Ù‚Ø±Ø§Ø¡Ø§Øª Ù…Ø¬Ø§Ù†ÙŠØ©</title>
<style>
  :root{
    --bg:#0e0f12; --fg:#f7f7f7; --muted:#bdbdbd;
    --brand:#ffd54a; --card:#16181f; --stroke:#2a2e38; --ok:#2bd67b;
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family: system-ui, -apple-system, "Cairo", "Noto Naskh Arabic", Segoe UI, Roboto, sans-serif;
    background:var(--bg); color:var(--fg); -webkit-font-smoothing:antialiased
  }
  header{display:flex; align-items:center; justify-content:space-between; padding:18px 16px; border-bottom:1px solid var(--stroke)}
  .brand{display:flex; gap:10px; align-items:center}
  .logo{width:32px; height:32px; border-radius:50%; border:2px solid var(--brand); display:grid; place-items:center}
  .logo span{width:10px; height:10px; border-radius:50%; border:2px solid var(--brand)}
  .title{font-weight:800; letter-spacing:.2px}
  .container{max-width:840px; margin:0 auto; padding:20px 16px}
  .card{
    background:var(--card); border:1px solid var(--stroke); border-radius:18px; padding:18px; margin:14px 0;
    box-shadow:0 10px 30px rgba(0,0,0,.2)
  }
  h1,h2{color:var(--brand); margin:10px 0 8px}
  p.muted{color:var(--muted); margin:6px 0 0}
  label{display:block; margin:10px 0 6px; color:#eaeaea; font-size:14px}
  input,select,button{
    width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--stroke);
    background:#0f1117; color:var(--fg); font-size:16px; outline:none
  }
  input:focus, select:focus{border-color:var(--brand); box-shadow:0 0 0 3px rgba(255,213,74,.15)}
  .grid{display:grid; grid-template-columns:1fr 1fr; gap:12px}
  @media (max-width:640px){ .grid{grid-template-columns:1fr} }
  .btn{
    border:0; background:linear-gradient(135deg, var(--brand), #ffb300);
    color:#221; font-weight:800; cursor:pointer; transition:transform .08s ease, filter .2s ease;
    letter-spacing:.2px
  }
  .btn:active{transform:scale(.99)}
  .ghost{background:transparent; border:1px solid var(--brand); color:var(--brand)}
  .center{display:grid; place-items:center}
  .hidden{display:none !important}
  .topic-grid{display:grid; grid-template-columns:repeat(2,1fr); gap:14px}
  .topic{padding:18px; border:1px dashed var(--brand); border-radius:14px; background:#0f1117; cursor:pointer}
  .topic:hover{background:#121520}
  .topic span{display:block; color:var(--muted); font-size:14px; margin-top:4px}
  .result{line-height:1.9}
  .tag{display:inline-block; padding:4px 10px; border-radius:999px; border:1px solid var(--stroke); color:var(--muted); font-size:13px}
  footer{padding:28px 16px; text-align:center; color:var(--muted); border-top:1px solid var(--stroke)}
  /* Loading ring */
  .ring-wrap{height:260px; display:grid; place-items:center}
  .ring{
    width:140px; height:140px; border-radius:50%;
    border:6px solid rgba(255,255,255,.08); border-top-color:var(--brand);
    animation:spin 1.2s linear infinite; position:relative
  }
  .ring:after{
    content:""; position:absolute; inset:18px; border-radius:50%;
    border:4px dashed rgba(255,255,255,.12)
  }
  @keyframes spin{to{transform:rotate(360deg)}}
  .sub{color:var(--muted); margin-top:10px}
  .pill{display:inline-flex; align-items:center; gap:8px; background:#10131a; border:1px solid var(--stroke); padding:8px 12px; border-radius:999px; font-size:13px}
  .ok{color:var(--ok); font-weight:700}
</style>
</head>
<body>

<header>
  <div class="brand">
    <div class="logo" aria-hidden="true"><span></span></div>
    <div>
      <div class="title">Ø§Ù„Ø§Ø³ØªØ¨ØµØ§Ø±</div>
      <div style="font-size:12px; color:var(--muted)">Ù‚Ø±Ø§Ø¡Ø§Øª ÙÙ„ÙƒÙŠØ© Ù…Ø¬Ø§Ù†ÙŠØ© â€” ØµÙØ­Ø© ÙˆØ§Ø­Ø¯Ø©</div>
    </div>
  </div>
  <div class="pill"><span>Ù…Ø¬Ø§Ù†ÙŠ 100%</span> <span class="ok">âœ”</span></div>
</header>

<main class="container">

  <!-- Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª -->
  <section id="step1" class="card">
    <h1>Ø§Ø¨Ø¯Ø£ Ù‚Ø±Ø§Ø¡ØªÙƒ</h1>
    <p class="muted">Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø«Ù… Ø§Ø¶ØºØ· â€œØ§Ø¨Ø¯Ø£â€. Ù„Ù† Ù†Ø­ØªÙØ¸ Ø¨Ø£ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª.</p>
    <div class="grid">
      <div>
        <label>Ø§Ù„Ø¹Ù…Ø±</label>
        <input id="age" type="number" min="5" max="120" placeholder="Ù…Ø«Ø§Ù„: 43">
      </div>
      <div>
        <label>Ø§Ù„Ø¬Ù†Ø³</label>
        <select id="gender">
          <option value="">Ø§Ø®ØªØ±</option>
          <option>Ø°ÙƒØ±</option>
          <option>Ø£Ù†Ø«Ù‰</option>
          <option>ØºÙŠØ± Ø°Ù„Ùƒ</option>
        </select>
      </div>
      <div>
        <label>Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©</label>
        <select id="status">
          <option value="">Ø§Ø®ØªØ±</option>
          <option>Ø£Ø¹Ø²Ø¨/Ø¹Ø²Ø¨Ø§Ø¡</option>
          <option>Ù…ØªØ²ÙˆØ¬/Ù…ØªØ²ÙˆØ¬Ø©</option>
          <option>Ù…Ù†ÙØµÙ„/Ù…Ù†ÙØµÙ„Ø©</option>
          <option>Ù…Ø®Ø·ÙˆØ¨/Ù…Ø®Ø·ÙˆØ¨Ø©</option>
        </select>
      </div>
      <div>
        <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯</label>
        <input id="birthdate" type="date">
      </div>
    </div>
    <div style="margin-top:14px; display:flex; gap:10px; flex-wrap:wrap">
      <button class="btn" id="startBtn">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©</button>
      <button class="ghost" id="shuffleDemo">Ù‚Ø±Ø§Ø¡Ø© ÙÙˆØ±ÙŠØ© ØªØ¬Ø±ÙŠØ¨ÙŠØ©</button>
    </div>
  </section>

  <!-- Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø´Ø§Ø´Ø© Ø§Ù†ØªØ¸Ø§Ø± -->
  <section id="stepLoading" class="card hidden center">
    <div>
      <div class="ring-wrap">
        <div class="ring" aria-hidden="true"></div>
      </div>
      <h2>Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ø³ØªØ¨ØµØ§Ø±â€¦</h2>
      <p class="sub">Ù†Ù‚ÙˆÙ… Ø¨Ù…Ø²Ø¬ Ø£Ù†Ù…Ø§Ø· ÙÙ„ÙƒÙŠØ© Ø¹Ø§Ù…Ø© Ù…Ø¹ Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© ØªÙˆÙ„ÙŠØ¯ Ù†ØµÙˆØµ Ù‚ØµÙŠØ±Ø© â€” Ø§Ù†ØªØ¸Ø± Ù„Ø­Ø¸Ø§Øª.</p>
    </div>
  </section>

  <!-- Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ -->
  <section id="stepTopics" class="card hidden">
    <h2>Ø§Ø®ØªØ± Ù…ÙˆØ¶ÙˆØ¹ Ù‚Ø±Ø§Ø¡ØªÙƒ</h2>
    <div class="topic-grid">
      <button class="topic" data-topic="love">Ø§Ù„Ø­Ø¨ â¤ï¸<span>Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§ØªØŒ Ø§Ù„Ø§Ù†Ø¬Ø°Ø§Ø¨ØŒ Ø§Ù„Ù…ØµØ§Ù„Ø­Ø§Øª</span></button>
      <button class="topic" data-topic="health">Ø§Ù„ØµØ­Ø© ğŸ’Š<span>Ø§Ù„Ø·Ø§Ù‚Ø©ØŒ Ø§Ù„Ø¹Ø§Ø¯Ø§ØªØŒ Ø§Ù„ØªÙˆØ§Ø²Ù†</span></button>
      <button class="topic" data-topic="career">Ø§Ù„Ù…Ù‡Ù†Ø©/Ø§Ù„Ø«Ø±ÙˆØ© ğŸ’¼<span>Ø§Ù„ÙØ±ØµØŒ Ø§Ù„Ù‚Ø±Ø§Ø±Ø§ØªØŒ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±Ø§Øª</span></button>
      <button class="topic" data-topic="general">Ø¹Ø§Ù… âœ¨<span>Ø±Ø¤ÙŠØ© Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…Ù‚Ø¨Ù„Ø©</span></button>
    </div>
  </section>

  <!-- Ø§Ù„Ø®Ø·ÙˆØ© 4: Ø§Ù„Ù†ØªÙŠØ¬Ø© -->
  <section id="stepResult" class="card hidden">
    <div style="display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap">
      <h2 style="margin:0">Ù†ØªÙŠØ¬ØªÙƒ</h2>
      <div class="tag" id="userEcho"></div>
    </div>
    <div class="result" id="resultText" style="margin-top:12px"></div>
    <div id="globalSnippet" class="muted" style="margin-top:12px; font-size:15px"></div>
    <div style="display:flex; gap:10px; margin-top:16px; flex-wrap:wrap">
      <button class="btn" id="againBtn">Ù‚Ø±Ø§Ø¡Ø© Ø¬Ø¯ÙŠØ¯Ø© (Ù†ÙØ³ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹)</button>
      <button class="ghost" id="topicsBtn">Ø§Ø®ØªÙŠØ§Ø± Ù…ÙˆØ¶ÙˆØ¹ Ø¢Ø®Ø±</button>
      <button class="ghost" id="restartBtn">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¨Ø¯Ø¡</button>
    </div>
    <p class="muted" style="margin-top:12px">ØªÙ†Ø¨ÙŠÙ‡: Ù‡Ø°Ù‡ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø§Øª Ù„Ø£ØºØ±Ø§Ø¶ ØªØ±ÙÙŠÙ‡ÙŠØ© ÙˆØªØ£Ù…Ù„ÙŠØ© ÙÙ‚Ø·ØŒ ÙˆÙ„ÙŠØ³Øª Ù†ØµÙŠØ­Ø© Ø·Ø¨ÙŠØ©/Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©/Ù…Ø§Ù„ÙŠØ©.</p>
  </section>

</main>

<footer>
  Â© <span id="year"></span> Ø§Ù„Ø§Ø³ØªØ¨ØµØ§Ø± â€” ØµÙØ­Ø© Ù…Ø¬Ø§Ù†ÙŠØ©. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†ØµÙˆØµ Ù…ØµØ§ØºØ© Ø¨Ø£Ø³Ù„ÙˆØ¨ Ø¹Ø§Ù… Ù…Ø³ØªÙˆØ­Ù‰ Ù…Ù† Ù…Ù†Ø§Ù‡Ø¬ ÙÙ„ÙƒÙŠØ© ÙˆØªÙ‚Ø§Ù„ÙŠØ¯ Ø¹Ø±Ø§ÙØ© Ù…Ø¹Ø±ÙˆÙØ© Ø¹Ø§Ù„Ù…ÙŠÙ‹Ø§.
</footer>

<script>
  // ====== Ø¨ÙŠØ§Ù†Ø§Øª Ù†ØµÙˆØµ Ù…ØªØ¹Ø¯Ø¯Ø© Ù„Ø¶Ù…Ø§Ù† ØªØºÙŠÙ‘Ø± Ø§Ù„Ø·Ø§Ù„Ø¹ ÙÙŠ ÙƒÙ„ Ù…Ø±Ø© ======
  const LOVE = [
    "ØªÙ„ÙˆØ­ ÙØ±ØµØ© ØªÙ‚Ø§Ø±Ø¨ Ø¨Ø¹Ø¯ Ø³ÙˆØ¡ ÙÙ‡Ù… Ù‚Ø¯ÙŠÙ…Ø› ÙƒÙ„Ù…Ø© ØµØ§Ø¯Ù‚Ø© ØªÙØµÙ„Ø­ Ø§Ù„ÙƒØ«ÙŠØ± ÙˆØªÙƒØ´Ù Ù†ÙˆØ§ÙŠØ§ Ø­Ø³Ù†Ø©.",
    "Ø§Ù†Ø¬Ø°Ø§Ø¨ Ù…ÙØ§Ø¬Ø¦ ÙŠØ·Ø±Ù‚ Ø¨Ø§Ø¨ÙƒØ› Ù„Ø§ ØªØªØ¹Ø¬Ù‘Ù„ Ø§Ù„Ø­ÙƒÙ… â€” Ø§Ù…Ù†Ø­ Ø§Ù„Ù„Ù‚Ø§Ø¡ Ù…Ø³Ø§Ø­Ø© Ù„Ù„Ù†Ù…Ùˆ.",
    "ÙŠÙˆÙ… Ø¹Ø§Ø·ÙÙŠ Ù…ØªÙ‚Ù„Ù‘Ø¨ØŒ Ù„ÙƒÙ† Ù…Ø¨Ø§Ø¯Ø±ØªÙƒ Ø§Ù„Ù„Ø·ÙŠÙØ© ØªØ¹ÙŠØ¯ Ø§Ù„ØªÙˆØ§Ø²Ù† ÙˆØªØ®ÙÙ Ø§Ù„Ø­Ø¯Ø©.",
    "ØªØªØ¨Ø¯Ù‘Ù„ Ø£ÙˆÙ„ÙˆÙŠØ§ØªÙƒ: Ø§Ù„Ø§Ø³ØªÙ‚Ø±Ø§Ø± ÙŠØªÙ‚Ø¯Ù… Ø¹Ù„Ù‰ Ø§Ù„Ù…ØºØ§Ù…Ø±Ø©ØŒ ÙØªØ®ØªØ§Ø± Ù…Ø§ ÙŠØ·Ù…Ø¦Ù† Ù‚Ù„Ø¨Ùƒ.",
    "Ø±Ø³Ø§Ù„Ø© ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹Ø© ØªÙØ­ÙŠÙŠ Ø´Ø¹ÙˆØ±Ù‹Ø§ Ø¬Ù…ÙŠÙ„Ø§Ù‹Ø› ØªØ¹Ø§Ù…Ù„ Ù…Ø¹Ù‡Ø§ Ø¨ÙˆØ§Ù‚Ø¹ÙŠØ© Ø¯ÙˆÙ† Ø§Ù†Ø¯ÙØ§Ø¹.",
    "Ù…ÙŠÙˆÙ„ Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠØ© ØªÙØ²Ù‡Ø± Ù…Ù† ØµØ¯Ø§Ù‚Ø© Ù‚Ø¯ÙŠÙ…Ø©Ø› Ø§Ù„Ø­ÙˆØ§Ø± Ø§Ù„ØµØ±ÙŠØ­ ÙŠÙ…Ù‡Ù‘Ø¯ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
    "Ù‚Ø¯ ÙŠÙØ®ØªØ¨Ø± ÙˆÙ„Ø§Ø¤ÙƒØ› ØªÙ…Ø³Ù‘Ùƒ Ø¨Ø§Ù„ÙˆØ¶ÙˆØ­ ÙˆÙ„Ø§ ØªØ³Ù…Ø­ Ù„Ù„Ø´ÙƒÙˆÙƒ Ø£Ù† ØªÙØ¹ÙƒÙ‘Ø± ØµÙÙˆÙƒ.",
    "ØªØµØ§Ù„Ø­ Ø¯Ø§Ø®Ù„ÙŠ ÙŠÙ†Ø¹ÙƒØ³ Ø¬Ø§Ø°Ø¨ÙŠØ©Ø› ÙØªØ¬Ø°Ø¨ Ù…Ù† ÙŠÙÙ‡Ù… Ø¹Ù…Ù‚Ùƒ Ù„Ø§ Ù…Ø¸Ù‡Ø±Ùƒ ÙÙ‚Ø·.",
    "Ù„Ù‚Ø§Ø¡ Ù‚ØµÙŠØ± Ø§Ù„Ø£Ø«Ø±ØŒ Ø·ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¹Ù†Ù‰Ø› ØªØ¹Ù„Ù‘Ù… Ù…Ù†Ù‡ Ù…Ø§ ÙŠÙ‚ÙˆÙ‘ÙŠ Ù…Ø¹Ø§ÙŠÙŠØ±Ùƒ Ø§Ù„Ø¹Ø§Ø·ÙÙŠØ©.",
    "Ø¸Ø±Ù Ø¹Ø§Ø¦Ù„ÙŠ ÙŠØ¬Ù…Ø¹ Ø§Ù„Ù‚Ù„ÙˆØ¨ ÙˆÙŠØ¹ÙŠØ¯ Ø§Ù„Ø¯ÙØ¡ Ø¥Ù„Ù‰ Ø¹Ù„Ø§Ù‚Ø© ØªÙˆÙ‚ÙØª."
  ];
  const HEALTH = [
    "Ø·Ø§Ù‚ØªÙƒ ØªØªØ­Ø³Ù‘Ù† Ù…Ø¹ Ø±ÙˆØªÙŠÙ† Ù†ÙˆÙ… Ù…Ù†ØªØ¸Ù…Ø› Ø¬Ø±Ù‘Ø¨ Ø¥Ø·ÙØ§Ø¡ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø£Ø¨ÙƒØ± Ù…Ù† Ø§Ù„Ù…Ø¹ØªØ§Ø¯.",
    "ØªÙˆØªØ± Ø®ÙÙŠÙ ÙŠØªØ¨Ø¯Ù‘Ø¯ Ø¨Ù…Ø´ÙŠÙ ÙŠÙˆÙ…ÙŠØ› Ø¹Ø´Ø±ÙˆÙ† Ø¯Ù‚ÙŠÙ‚Ø© ØªØµÙ†Ø¹ ÙØ±Ù‚Ù‹Ø§ Ù…Ù„Ø­ÙˆØ¸Ù‹Ø§.",
    "Ø¬Ø³Ø¯Ùƒ ÙŠØ·Ù„Ø¨ Ù…Ø§Ø¡ Ø£ÙƒØ«Ø±Ø› Ø§Ù„ØªØ±Ø·ÙŠØ¨ ÙŠØ¹Ø§Ù„Ø¬ Ø§Ù„Ø¥Ø±Ù‡Ø§Ù‚ ÙˆÙŠØµÙÙ‘ÙŠ Ø§Ù„Ø°Ù‡Ù†.",
    "Ø§Ù†ØªØ¨ÙÙ‡ Ù„ÙˆÙ‚ÙØªÙƒ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„Ø› ØªØ¹Ø¯ÙŠÙ„Ø§Øª ØµØºÙŠØ±Ø© ØªØ±ÙŠØ­ Ø¸Ù‡Ø±Ùƒ ÙˆØ±Ù‚Ø¨ØªÙƒ.",
    "ÙØªØ±Ø© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„ØªØ®ÙÙŠÙ Ø§Ù„Ø³ÙƒØ±ÙŠØ§ØªØ› Ù…Ø²Ø§Ø¬Ùƒ Ø³ÙŠØ³ØªÙ‚Ø± ØªØ¯Ø±ÙŠØ¬ÙŠÙ‹Ø§.",
    "Ø§Ù„ØªÙ†ÙØ³ Ø§Ù„Ø¹Ù…ÙŠÙ‚ Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª Ù‚Ø¨Ù„ Ø£ÙŠ Ø­ÙˆØ§Ø± ØµØ¹Ø¨ ÙŠØºÙŠÙ‘Ø± Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„ØµØ­ÙŠØ© ÙˆØ§Ù„Ù†ÙØ³ÙŠØ©.",
    "Ø§Ù…Ù†Ø­ Ø¬Ù‡Ø§Ø²Ùƒ Ø§Ù„Ù‡Ø¶Ù…ÙŠ Ø§Ø³ØªØ±Ø§Ø­Ø©Ø› ÙˆØ¬Ø¨Ø© Ø®ÙÙŠÙØ© ØªÙƒÙÙŠ Ø§Ù„ÙŠÙˆÙ….",
    "Ø¥Ø´Ø§Ø±Ø§Øª ØªØ¹Ø¨Ùƒ Ù†ÙØ³ÙŠØ© Ø§Ù„Ù…Ù†Ø´Ø£Ø› Ø§Ù„Ø­Ø¯ÙŠØ« Ù…Ø¹ ØµØ¯ÙŠÙ‚ Ù…ÙˆØ«ÙˆÙ‚ ÙŠÙØ¨Ù‡Øª Ø«ÙÙ‚ÙÙ„Ù‡Ø§.",
    "Ù‚ÙˆØ© Ù‡Ø§Ø¯Ø¦Ø© ØªØ³Ø±ÙŠ ÙÙŠ Ø¬Ø³Ø¯Ùƒ Ø¨Ø¹Ø¯ Ø±ÙŠØ§Ø¶Ø© Ø®ÙÙŠÙØ©Ø› Ø§Ø³ØªÙ…Ø± Ø¨Ù„Ø§ Ù…Ø¨Ø§Ù„ØºØ©.",
    "Ø§Ø¹ØªÙ†Ù Ø¨Ù…ÙØ§ØµÙ„ÙƒØ› ØªÙ…Ø¯Ù‘Ø¯ ØµØ¨Ø§Ø­ÙŠ Ù„Ø®Ù…Ø³Ø© Ø¯Ù‚Ø§Ø¦Ù‚ ÙŠÙ‚Ù„Ù‘Ù„ Ø§Ù„Ø´Ø¯Ù‘ Ø·ÙˆØ§Ù„ Ø§Ù„ÙŠÙˆÙ…."
  ];
  const CAREER = [
    "ÙŠÙ…Ø±Ù‘ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¨Ù…Ù†Ø¹Ø·ÙØ› Ù‚Ø±Ø§Ø±Ùƒ Ø§Ù„Ù…Ø¨Ù†ÙŠ Ø¹Ù„Ù‰ Ø£Ø±Ù‚Ø§Ù… Ù„Ø§ Ø§Ù†Ø·Ø¨Ø§Ø¹Ø§Øª ÙŠØ¶Ù…Ù† Ù…ÙƒØ³Ø¨Ù‹Ø§.",
    "ÙØ±ØµØ© ØªØ¹Ø§ÙˆÙ† Ù…ØºØ±ÙŠØ©Ø› Ø§Ø®ØªØ¨Ø± Ø§Ù„ØªØ²Ø§Ù… Ø§Ù„Ø·Ø±Ù Ø§Ù„Ø¢Ø®Ø± Ù‚Ø¨Ù„ Ø§Ù„ØªÙˆÙ‚ÙŠØ¹.",
    "Ø®Ø¨Ø±Ø© Ø³Ø§Ø¨Ù‚Ø© ØªØµØ¨Ø­ ÙˆØ±Ù‚ØªÙƒ Ø§Ù„Ø±Ø§Ø¨Ø­Ø© ÙÙŠ ØªÙØ§ÙˆØ¶Ù Ù‚Ø§Ø¯Ù….",
    "ØµØ¨Ø±Ùƒ Ø§Ù„Ù…Ø§Ù„ÙŠ Ø§Ù„ÙŠÙˆÙ… ÙŠØ­Ù…ÙŠÙƒ Ù…Ù† Ù†Ø¯Ù…Ù ØºØ¯Ù‹Ø§Ø› Ø£Ø¬Ù‘Ù„ Ø§Ù„Ø¥Ù†ÙØ§Ù‚ Ø§Ù„ÙƒØ¨ÙŠØ±.",
    "Ø¹Ø±Ø¶ ÙˆØ¸ÙŠÙÙŠ Ù‚Ø¯ ÙŠØªØ·Ù„Ù‘Ø¨ ØªÙ†Ù‚Ù‘Ù„Ù‹Ø§Ø› Ø§Ø­Ø³Ø¨ ÙƒÙ„ÙØ© Ø§Ù„ÙˆÙ‚Øª Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø§Ù„.",
    "Ø£ÙÙƒØ§Ø±Ùƒ Ø§Ù„Ù…ØªÙ†Ø§Ø«Ø±Ø© ØªØ­ØªØ§Ø¬ Ø¬Ø¯ÙˆÙ„Ù‹Ø§ Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ‹Ø§Ø› Ø§Ù„ØªÙ†Ø¸ÙŠÙ… ÙŠØ¶Ø§Ø¹Ù Ø§Ù„Ø¥Ù†ØªØ§Ø¬.",
    "ØªÙˆØ§ØµÙ„ Ù‚ØµÙŠØ± Ù…Ø¹ Ø´Ø®Øµ Ù‚Ø¯ÙŠÙ… ÙŠÙØªØ­ Ø¨Ø§Ø¨Ù‹Ø§ Ù„Ù… ØªÙƒÙ† ØªØªÙˆÙ‚Ø¹Ù‡.",
    "Ø³ÙˆØ¡ ÙÙ‡Ù… Ø¥Ø¯Ø§Ø±ÙŠ ÙŠØªØ¶Ø­ Ù„ØµØ§Ù„Ø­ÙƒØ› Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ ØªØ­ÙØ¸ Ø­Ù‚Ùƒ.",
    "Ù†ØªØ§Ø¦Ø¬ Ù…Ø³ØªÙ‚Ø±Ø© Ø±ØºÙ… Ø§Ù„Ø¶ÙˆØ¶Ø§Ø¡Ø› Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ ÙˆØªÙŠØ±Ø© Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠØ©.",
    "Ù…Ø¤Ø´Ø± Ù…Ø§Ù„ÙŠ ØµØºÙŠØ± ÙŠÙ„Ù…Ø­ Ù„Ø§ØªØ¬Ø§Ù‡ Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ› Ø±Ø§Ù‚Ø¨ Ù„Ø§ ØªÙ†Ø¯ÙØ¹."
  ];
  const GENERAL = [
    "ØªØ¸Ù‡Ø± Ø¨Ø¯Ø§ÙŠØ§Øª Ø¬Ø¯ÙŠØ¯Ø© Ø®Ù„Ù Ù†Ù‡Ø§ÙŠØ© Ù‡Ø§Ø¯Ø¦Ø©Ø› Ø§Ù‚Ø¨Ù„ Ø§Ù„ØªØ­ÙˆÙ‘Ù„ ÙˆØ³ØªØ±Ù‰ Ø§Ù„Ø³Ø¹Ø©.",
    "Ø±Ø­Ù„Ø© Ù‚ØµÙŠØ±Ø© ØªØºÙŠÙ‘Ø± Ù…Ø²Ø§Ø¬Ùƒ ÙˆØªØ¹ÙŠØ¯ Ø§Ù„Ø¥Ù„Ù‡Ø§Ù… Ø¥Ù„Ù‰ Ø®Ø·Ø·Ùƒ.",
    "Ù†ÙŠÙ‘Ø© Ø·ÙŠØ¨Ø© ØªÙÙ‚Ø§Ø¨Ù„ Ø¨Ù…Ø³Ø§Ø¹Ø¯Ø© ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹Ø©Ø› Ø§Ù„Ø§Ù…ØªÙ†Ø§Ù† ÙŠØ²ÙŠØ¯Ù‡Ø§.",
    "Ø­Ù„Ù…ÙŒ Ù‚Ø¯ÙŠÙ… ÙŠØ¹ÙˆØ¯ Ø¨ÙØ±ØµØ© Ø¹Ù…Ù„ÙŠØ©Ø› Ø§Ù‚ØªØ±Ø¨ Ù…Ù†Ù‡ Ø¨Ø®Ø·ÙˆØ§Øª ØµØºÙŠØ±Ø© Ù…ØªØªØ§Ø¨Ø¹Ø©.",
    "ØªØµÙÙŠØ© Ø¹Ù„Ø§Ù‚Ø§ØªÙƒ Ù…Ù† Ø§Ù„ØªÙƒÙ„Ù ØªÙ…Ù†Ø­Ùƒ Ø±Ø§Ø­Ø©Ù‹ ÙˆÙ†Ù‚Ø§Ø¡Ù‹ ÙÙŠ Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©.",
    "Ø®Ø¨Ø± Ø³Ø§Ø± ÙŠØªØ³Ù„Ù‘Ù„ Ù…Ù† Ù†Ø§ÙØ°Ø© Ø¬Ø§Ù†Ø¨ÙŠØ© Ù„Ø§ Ù…Ù† Ø§Ù„Ø¨Ø§Ø¨ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹.",
    "Ø£Ø«Ø± Ø¬Ù…ÙŠÙ„ Ù„Ø¹Ù…Ù„Ù Ø®ÙŠØ±ÙŠ Ù‚Ù…Øª Ø¨Ù‡ Ø³Ø§Ø¨Ù‚Ù‹Ø§ ÙŠØ¹ÙˆØ¯ Ø¨Ø«Ù…Ø§Ø±Ù‡.",
    "ØªØ¹Ù„Ù…ÙŒ Ø¬Ø¯ÙŠØ¯ Ø®Ù„Ø§Ù„ Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ† ÙŠÙØªØ­ Ø£ÙÙ‚Ù‹Ø§ Ø´Ø®ØµÙŠÙ‹Ø§ ÙˆØ§Ø³Ø¹Ù‹Ø§.",
    "Ø±Ø³Ø§Ù„Ø© Ù…Ù† Ø§Ù„Ù…Ø§Ø¶ÙŠ ØªÙØºÙ„Ù‚ ØµÙØ­Ø© Ù…Ø¹Ù„Ù‘Ù‚Ø© Ø¨Ø´ÙƒÙ„ Ù†Ø§Ø¶Ø¬.",
    "ØªÙˆØ§ÙÙ‚ ÙƒÙˆÙ†ÙŠ Ù‡Ø§Ø¯Ø¦ ÙŠÙØ³Ù‡Ù„ Ø§ØªØ®Ø§Ø° Ù‚Ø±Ø§Ø± ÙƒÙ†Øª ØªØ¤Ø¬Ù„Ù‡."
  ];

  // Ù…Ù‚ØªØ·ÙØ§Øª Ø¹Ø§Ù„Ù…ÙŠØ© Ù…ÙØ¹Ø§Ø¯Ø© Ø§Ù„ØµÙŠØ§ØºØ© (Ø¥Ù„Ù‡Ø§Ù… Ù…Ù† Ù…Ø¯Ø§Ø±Ø³/Ø£Ø³Ù…Ø§Ø¡ Ù…Ø¹Ø±ÙˆÙØ© Ø¯ÙˆÙ† Ø§Ù‚ØªØ¨Ø§Ø³ Ø­Ø±ÙÙŠ)
  const GLOBAL_SNIPPETS = [
    "Ù…Ø³ØªÙˆØ­Ù‰ Ù…Ù† Ù…Ø¯Ø§Ø±Ø³ Ø§Ù„ØªÙ†Ø¬ÙŠÙ… Ø§Ù„Ø­Ø¯ÙŠØ«Ø©: Ø§Ù„Ù…Ø²Ø§Ø¬ Ø§Ù„ÙÙ„ÙƒÙŠ Ø§Ù„Ø¹Ø§Ù… ÙŠÙˆØ­ÙŠ Ø¨ÙØ±ØµØ© Ù„Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ§Øª Ù‚Ø¨Ù„ Ù‚Ø±Ø§Ø±Ø§Øª ÙƒØ¨ÙŠØ±Ø©.",
    "Ø¥Ù„Ù‡Ø§Ù… Ù…Ù† Ù‚Ø±Ø§Ø¡Ø§Øª Ø£Ø¹Ù…Ø¯Ø© Ø§Ù„ØµØ­Ù Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©: Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„ØµØ±ÙŠØ­ Ø§Ù„ÙŠÙˆÙ… ÙŠØ³Ø¨Ù‚ Ø£ÙŠ Ø§Ù†ÙØ±Ø§Ø¬ Ø¹Ø§Ø·ÙÙŠ.",
    "ØªÙ‚Ø§Ù„ÙŠØ¯ Ù‚Ø¯ÙŠÙ…Ø© ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ÙƒÙÙ‘ ØªØ´ÙŠØ± Ø¥Ù„Ù‰ Ø£Ù† Ø¶Ø¨Ø· Ø§Ù„Ø¹Ø§Ø¯Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© ÙŠØµÙ†Ø¹ ØªØ­ÙˆÙ„Ø§Øª Ù…Ù„Ù…ÙˆØ³Ø©.",
    "Ø±ÙˆØ­ ØªÙˆÙ‚Ø¹Ø§Øª ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠØ© Ù…Ù† Ø±Ø¨Ø§Ø¹ÙŠØ§Øª ØªØ§Ø±ÙŠØ®ÙŠØ©: Ø§Ù„Ø£Ø­Ø¯Ø§Ø« ØªØªØµØ§Ø¹Ø¯ Ø«Ù… ØªÙ†ÙƒØ³Ø± Ù„Ù…ØµÙ„Ø­Ø© Ø§Ù„Ù…ØªØ±ÙˆÙ‘ÙŠ.",
    "Ù…Ù†Ù‡Ø¬ÙŠØ© Ù‚Ø§Ø±Ø¦ÙŠ Ø§Ù„ØªØ§Ø±ÙˆØª Ø§Ù„Ù…Ø¹Ø§ØµØ±ÙŠÙ†: Ø§Ù„Ø¨Ø·Ø¡ Ø§Ù„ÙˆØ§Ø¹ÙŠ ÙÙŠ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¹Ø±ÙˆØ¶ ÙŠØ­Ù…ÙŠÙƒ Ù…Ù† Ù…Ø¨Ø§Ù„ØºØ© Ù‚ØµÙŠØ±Ø© Ø§Ù„Ø£Ø¬Ù„.",
    "Ù…Ø±Ø§Ø¬Ø¹ ÙÙ„ÙƒÙŠØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ© ØªØ´ÙŠØ± Ø¥Ù„Ù‰ Ø£Ù† Ø¬ÙˆØ¯Ø© Ø§Ù„Ù†ÙˆÙ… ØªØ±ØªØ¨Ø· Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨ØµÙØ§Ø¡ Ø§Ù„Ù‚Ø±Ø§Ø±.",
    "Ø®Ø¨Ø±Ø§Øª Ù…Ù† ÙƒØªÙ‘Ø§Ø¨ Ø§Ù„Ø£Ø¨Ø±Ø§Ø¬ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠÙŠÙ†: Ø±Ø³Ø§Ù„Ø© Ù…Ø®ØªØµØ±Ø© Ù‚Ø¯ ØªØºÙŠÙ‘Ø± Ø§ØªØ¬Ø§Ù‡ Ø£Ø³Ø¨ÙˆØ¹Ùƒ."
  ];

  // ====== Ø£Ø¯ÙˆØ§Øª Ù…Ø³Ø§Ø¹Ø¯Ø© ======
  const $ = sel => document.querySelector(sel);
  const step1 = $("#step1"), stepLoading = $("#stepLoading"), stepTopics = $("#stepTopics"), stepResult = $("#stepResult");
  const userEcho = $("#userEcho"), resultText = $("#resultText"), globalSnippet = $("#globalSnippet");
  const startBtn = $("#startBtn"), shuffleDemo = $("#shuffleDemo");
  const againBtn = $("#againBtn"), topicsBtn = $("#topicsBtn"), restartBtn = $("#restartBtn");
  const yearEl = $("#year"); yearEl.textContent = new Date().getFullYear();

  // XorShift Ø¨Ø³ÙŠØ· Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªÙƒØ±Ø§Ø± + Ø²Ù…Ù† Ù„Ø¶Ù…Ø§Ù† Ø§Ø®ØªÙ„Ø§Ù Ø¯Ø§Ø¦Ù…
  function seeded(seed){
    let x = seed ^ Date.now(); // ÙŠØ¬Ø¹Ù„Ù‡Ø§ Ù…Ø®ØªÙ„ÙØ© ÙƒÙ„ Ù…Ø±Ø©
    return function(){
      // xorshift32
      x ^= x << 13; x ^= x >>> 17; x ^= x << 5;
      // ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ [0,1)
      return ((x >>> 0) / 4294967296);
    }
  }
  function strHash(s){
    let h=2166136261>>>0;
    for(let i=0;i<s.length;i++){ h ^= s.charCodeAt(i); h = Math.imul(h, 16777619); }
    return h>>>0;
  }
  function pick(rand, arr){ return arr[Math.floor(rand()*arr.length)] }

  // Ø­ÙØ¸ Ø­Ø§Ù„Ø© Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ù…Ø®ØªØ§Ø±
  let currentTopic = "general";
  let currentRand = seeded(123);

  function formSeed(){
    const age = $("#age").value || "";
    const gender = $("#gender").value || "";
    const status = $("#status").value || "";
    const birth = $("#birthdate").value || "";
    const key = `${age}|${gender}|${status}|${birth}`;
    return key ? strHash(key) : Math.floor(Math.random()*1e9);
  }

  function echoUser(){
    const a = $("#age").value ? `Ø¹Ù…Ø± ${$("#age").value}` : "Ø¹Ù…Ø± ØºÙŠØ± Ù…Ø­Ø¯Ø¯";
    const g = $("#gender").value || "Ø¬Ù†Ø³ ØºÙŠØ± Ù…Ø­Ø¯Ø¯";
    const s = $("#status").value || "Ø­Ø§Ù„Ø© ØºÙŠØ± Ù…Ø­Ø¯Ø¯Ø©";
    const b = $("#birthdate").value || "Ù…ÙŠÙ„Ø§Ø¯ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ";
    userEcho.textContent = `${g} â€¢ ${s} â€¢ ${a} â€¢ ${b}`;
  }

  function show(el){ el.classList.remove("hidden") }
  function hide(el){ el.classList.add("hidden") }

  function startFlow(){
    // Ø§Ù†ØªÙ‚Ø§Ù„: step1 -> loading -> topics
    hide(step1); show(stepLoading);
    setTimeout(()=>{
      hide(stepLoading); show(stepTopics);
    }, 1400); // Ø§Ù†ØªØ¸Ø§Ø± Ù„Ø·ÙŠÙ
  }

  function genReading(topic){
    const pool = { love: LOVE, health: HEALTH, career: CAREER, general: GENERAL }[topic] || GENERAL;
    const txt = pick(currentRand, pool);
    const global = (Math.random() < 0.75) ? pick(currentRand, GLOBAL_SNIPPETS) : "";
    resultText.textContent = txt;
    globalSnippet.textContent = global ? ("Ù…Ù‚ØªØ·Ù Ø¹Ø§Ù„Ù…ÙŠ: " + global) : "";
  }

  // ====== Ø§Ù„Ø£Ø­Ø¯Ø§Ø« ======
  startBtn.addEventListener("click", ()=>{
    currentRand = seeded(formSeed());
    startFlow();
  });

  shuffleDemo.addEventListener("click", ()=>{
    // ØªØ¬Ø±Ø¨Ø© Ø³Ø±ÙŠØ¹Ø© Ø¨Ø¯ÙˆÙ† ØªØ¹Ø¨Ø¦Ø©
    currentRand = seeded(Math.floor(Math.random()*1e9));
    startFlow();
  });

  // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹
  document.querySelectorAll(".topic").forEach(btn=>{
    btn.addEventListener("click", ()=>{
      currentTopic = btn.dataset.topic;
      hide(stepTopics); show(stepResult);
      echoUser(); genReading(currentTopic);
    });
  });

  againBtn.addEventListener("click", ()=>{
    currentRand = seeded(formSeed()); // ÙŠÙØ¹ÙŠØ¯ ØªÙˆÙ„ÙŠØ¯ Ø¬Ø¯ÙŠØ¯
    genReading(currentTopic);
  });
  topicsBtn.addEventListener("click", ()=>{
    hide(stepResult); show(stepTopics);
  });
  restartBtn.addEventListener("click", ()=>{
    hide(stepResult); hide(stepTopics); show(step1);
    window.scrollTo({top:0, behavior:"smooth"});
  });
</script>
</body>
</html>
