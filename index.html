<!DOCTYPE html><html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ØªØ°ÙƒØ±ØªÙƒ</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800;900&display=swap" rel="stylesheet">
  <style>
    :root{ --ink:#0f172a; --muted:#64748b; --line:#e5e7eb; --bg:#f8fafc; --card:#ffffff; --brand:#0ea5e9; --brand-2:#0284c7; --radius:16px; --ring:0 0 0 3px rgba(14,165,233,.25); }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--ink);font-family:'Cairo',system-ui,Segoe UI,Roboto,Arial,sans-serif}header{background:#fff;border-bottom:1px solid var(--line)}
.container{max-width:880px;margin:0 auto;padding:16px}
.row{display:flex;align-items:center;gap:12px}
.logo{width:40px;height:40px;border-radius:12px;display:grid;place-items:center;background:radial-gradient(circle at 30% 30%, #7dd3fc, #0ea5e9);color:#fff;font-weight:900}
.title{font-size:22px;font-weight:900}

/* Ø­Ù‚Ù„Ø§ Ù…Ù†/Ø¥Ù„Ù‰ ÙÙ‚Ø· (Ù‚ÙˆØ§Ø¦Ù… Ù…Ù†Ø³Ø¯Ù„Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø­Ù‚Ù„) */
.stack{display:grid;gap:14px;margin-top:12px}
.fld{position:relative;background:var(--card);border:2px solid var(--line);border-radius:16px;padding:14px}
.fld:focus-within{border-color:var(--brand); box-shadow:var(--ring)}
.fld label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
.fld input{width:100%;border:0;outline:none;background:transparent;padding:8px 2px;font-size:18px;color:var(--ink)}

.dropdown{position:absolute;inset-inline:0;top:100%;margin-top:8px;background:#fff;border:1px solid var(--line);border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.08);max-height:360px;overflow:auto;display:none;z-index:50}
.dropdown.open{display:block}
.section-title{position:sticky;top:0;background:#fff;font-size:12px;color:var(--muted);padding:8px 10px;border-bottom:1px solid var(--line)}
.item{padding:10px 12px;cursor:pointer;border-bottom:1px dashed #f1f5f9}
.item:hover{background:#f8fafc}
.code{font-weight:900;color:#0ea5e9;margin-inline-start:6px}

footer{margin-top:18px;border-top:1px dashed var(--line);padding:14px 0}
.credit{display:flex;gap:8px;align-items:center;flex-wrap:wrap;color:var(--muted)}
.credit a{color:var(--brand-2);font-weight:800;text-decoration:none}
.credit a:hover{text-decoration:underline}

  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="row">
        <div class="logo">âœˆï¸</div>
        <div class="title">ØªØ°ÙƒØ±ØªÙƒ</div>
      </div>
  <div style="margin-inline-start:auto">
    <button id="apiBtn" type="button" style="border:1px solid var(--line);background:#fff;border-radius:12px;padding:8px 12px;cursor:pointer">Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙØªØ§Ø­ API (Ù…Ø¬Ø§Ù†ÙŠ)</button>
  </div>
</div><!-- ÙÙ‚Ø· Ù…Ù† ÙˆØ¥Ù„Ù‰ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØŒ ÙˆØ§Ù„Ù‚Ø§Ø¦Ù…Ø© ØªØ¸Ù‡Ø± Ø¯Ø§Ø®Ù„ Ø§Ù„Ø­Ù‚Ù„ Ù†ÙØ³Ù‡ --><form id="searchForm" class="stack" onsubmit="event.preventDefault(); buildAndSearch();">
    <div class="fld" id="fromField">
      <label for="origin">Ù…Ù†</label>
      <input id="origin" placeholder="Ø§Ø®ØªØ± Ø¯ÙˆÙ„Ø© Ø£Ùˆ Ù…Ø·Ø§Ø± (Ù…Ø«Ø§Ù„: Ø§Ù„Ø¨Ø­Ø±ÙŠÙ† â€” Ø§Ù„Ù…Ù†Ø§Ù…Ø© BAH)" autocomplete="off" onfocus="openDrop('from')" oninput="filterDrop('from')">
      <div class="dropdown" id="fromDrop"></div>
    </div>
    <div class="fld" id="toField">
      <label for="destination">Ø¥Ù„Ù‰</label>
      <input id="destination" placeholder="Ø§Ø®ØªØ± Ù…Ø·Ø§Ø±/Ù…Ø¯ÙŠÙ†Ø© (Ù…Ø«Ø§Ù„: Ù…ØµØ± â€” Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© CAI)" autocomplete="off" onfocus="openDrop('to')" oninput="filterDrop('to')">
      <div class="dropdown" id="toDrop"></div>
    </div>
    <button class="cta" type="submit">ğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† Ø£Ø±Ø®Øµ Ø§Ù„ØªØ°Ø§ÙƒØ±</button>
  </form>
</div>

  </header>  <main class="container">
    <!-- Ù†ØªØ§Ø¦Ø¬ Ø¯Ø§Ø®Ù„ Ù†ÙØ³ Ø§Ù„ØµÙØ­Ø© (ØªØ¸Ù‡Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ø¨Ø­Ø«) -->
    <section id="resultsCard" class="card" style="margin-top:12px; display:none">
      <h4 style="margin:0 0 6px 0">Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h4>
      <p id="summary" style="font-size:12px;color:#64748b">â€”</p>
      <div id="tickets" class="results"></div>
      <div id="noApiProviders" style="display:none; margin-top:8px">
        <p style="font-size:12px;color:#64748b;margin:0 0 6px 0">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…ÙØªØ§Ø­ API Ù…Ø­ÙÙˆØ¸ØŒ Ø§ÙØªØ­ Ø£Ø­Ø¯ Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„ØªØ§Ù„ÙŠØ© Ù„Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø¨Ø§Ø´Ø±Ø©:</p>
        <div id="providers" style="display:grid;gap:10px;grid-template-columns:repeat(auto-fill,minmax(160px,1fr))"></div>
      </div>
    </section>
    <footer>
      <div class="credit">
        <span>Ø¨Ø±Ù…Ø¬Ø© ÙˆØªØ·ÙˆÙŠØ±: <a href="https://api.whatsapp.com/send/?phone=97333375858&text&type=phone_number&app_absent=0&wame_ctl=1" target="_blank" rel="noopener">ÙØ§Ø¶Ù„ Ø§Ù„Ø±ÙŠØ³</a></span>
      </div>
    </footer>
  </main>  <!-- Ù†Ø§ÙØ°Ø© Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙØªØ§Ø­ API --><div id="apiModal" style="position:fixed;inset:0;background:rgba(0,0,0,.35);display:none;align-items:center;justify-content:center;z-index:60">
  <div style="background:#fff;border:1px solid var(--line);border-radius:16px;padding:16px;max-width:520px;width:92%">
    <h3 style="margin:0 0 8px 0">Ù…ÙØªØ§Ø­ Kiwi Tequila API (Ù…Ø¬Ø§Ù†ÙŠ)</h3>
    <ol style="margin:0 0 10px 18px;color:var(--muted);line-height:1.8;font-size:14px">
      <li>Ø³Ø¬Ù‘Ù„ Ù…Ø¬Ø§Ù†Ù‹Ø§ ÙÙŠ <strong>tequila.kiwi.com</strong>.</li>
      <li>Ø§Ù†Ø³Ø® <strong>apikey</strong> Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ….</li>
      <li>Ø§Ù„ØµÙ‚Ù‡ Ù‡Ù†Ø§ ÙˆØ§Ø¶ØºØ· Ø­ÙØ¸.</li>
    </ol>
    <input id="apiInput" placeholder="Ø£Ø¯Ø®Ù„ apikey Ù‡Ù†Ø§" style="width:100%;border:1px solid var(--line);border-radius:12px;padding:10px;margin-bottom:10px" />
    <div style="display:flex;gap:8px;justify-content:flex-end">
      <button id="apiSave" type="button" style="background:#0ea5e9;color:#fff;border:0;border-radius:12px;padding:10px 14px;cursor:pointer">Ø­ÙØ¸</button>
      <button id="apiClose" type="button" style="border:1px solid var(--line);background:#fff;border-radius:12px;padding:10px 14px;cursor:pointer">Ø¥Ù„ØºØ§Ø¡</button>
    </div>
  </div>
</div><script>
// Ù…ÙØªØ§Ø­ Kiwi Tequila ÙŠØ­ÙØ¸ Ù…Ø­Ù„ÙŠÙ‹Ø§ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­
let TEQUILA_API_KEY = localStorage.getItem('tequila_api_key') || "";

    // Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ø±Ø¨ÙŠØ©: Ø¯ÙˆÙ„ â†’ Ù…Ø·Ø§Ø±Ø§Øª Ø±Ø¦ÙŠØ³ÙŠØ©
    const DB = {
      "Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†": [{c:"BAH", n:"Ø§Ù„Ù…Ù†Ø§Ù…Ø©"}],
      "Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©": [{c:"RUH", n:"Ø§Ù„Ø±ÙŠØ§Ø¶"},{c:"JED", n:"Ø¬Ø¯Ø©"},{c:"DMM", n:"Ø§Ù„Ø¯Ù…Ø§Ù…"},{c:"MED", n:"Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©"}],
      "Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª": [{c:"DXB", n:"Ø¯Ø¨ÙŠ"},{c:"AUH", n:"Ø£Ø¨ÙˆØ¸Ø¨ÙŠ"},{c:"SHJ", n:"Ø§Ù„Ø´Ø§Ø±Ù‚Ø©"}],
      "Ù‚Ø·Ø±": [{c:"DOH", n:"Ø§Ù„Ø¯ÙˆØ­Ø©"}],
      "Ø§Ù„ÙƒÙˆÙŠØª": [{c:"KWI", n:"Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ÙƒÙˆÙŠØª"}],
      "Ø¹ÙÙ…Ø§Ù†": [{c:"MCT", n:"Ù…Ø³Ù‚Ø·"}],
      "Ø§Ù„Ø£Ø±Ø¯Ù†": [{c:"AMM", n:"Ø¹Ù…Ù‘Ø§Ù†"}],
      "Ù„Ø¨Ù†Ø§Ù†": [{c:"BEY", n:"Ø¨ÙŠØ±ÙˆØª"}],
      "Ù…ØµØ±": [{c:"CAI", n:"Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©"},{c:"HRG", n:"Ø§Ù„ØºØ±Ø¯Ù‚Ø©"},{c:"SSH", n:"Ø´Ø±Ù… Ø§Ù„Ø´ÙŠØ®"}],
      "Ø§Ù„Ù…ØºØ±Ø¨": [{c:"CMN", n:"Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡"},{c:"RAK", n:"Ù…Ø±Ø§ÙƒØ´"}],
      "ØªÙˆÙ†Ø³": [{c:"TUN", n:"ØªÙˆÙ†Ø³"}],
      "Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±": [{c:"ALG", n:"Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±"}],
      "Ø§Ù„Ø¹Ø±Ø§Ù‚": [{c:"BGW", n:"Ø¨ØºØ¯Ø§Ø¯"},{c:"EBL", n:"Ø£Ø±Ø¨ÙŠÙ„"}],
      "ØªØ±ÙƒÙŠØ§": [{c:"IST", n:"Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„"},{c:"AYT", n:"Ø£Ù†Ø·Ø§Ù„ÙŠØ§"},{c:"TZX", n:"Ø·Ø±Ø§Ø¨Ø²ÙˆÙ†"}],
      "Ø¬ÙˆØ±Ø¬ÙŠØ§": [{c:"TBS", n:"ØªØ¨Ù„ÙŠØ³ÙŠ"},{c:"BUS", n:"Ø¨Ø§ØªÙˆÙ…ÙŠ"}],
      "Ø£Ø°Ø±Ø¨ÙŠØ¬Ø§Ù†": [{c:"GYD", n:"Ø¨Ø§ÙƒÙˆ"}],
      "Ø§Ù„ÙŠÙˆÙ†Ø§Ù†": [{c:"ATH", n:"Ø£Ø«ÙŠÙ†Ø§"}],
      "Ø¥ÙŠØ·Ø§Ù„ÙŠØ§": [{c:"FCO", n:"Ø±ÙˆÙ…Ø§"},{c:"MXP", n:"Ù…ÙŠÙ„Ø§Ù†Ùˆ"}],
      "ÙØ±Ù†Ø³Ø§": [{c:"CDG", n:"Ø¨Ø§Ø±ÙŠØ³"}],
      "Ø¥Ø³Ø¨Ø§Ù†ÙŠØ§": [{c:"BCN", n:"Ø¨Ø±Ø´Ù„ÙˆÙ†Ø©"},{c:"MAD", n:"Ù…Ø¯Ø±ÙŠØ¯"}],
      "Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù…ØªØ­Ø¯Ø©": [{c:"LHR", n:"Ù„Ù†Ø¯Ù†"}],
      "Ø³ÙˆÙŠØ³Ø±Ø§": [{c:"ZRH", n:"Ø²ÙŠÙˆØ±Ø®"},{c:"GVA", n:"Ø¬Ù†ÙŠÙ"}]
    };

    const ALL_AIRPORTS = Object.values(DB).flat();

    const originInput = document.getElementById('origin');
    const destInput   = document.getElementById('destination');
    const fromDrop = document.getElementById('fromDrop');
    const toDrop   = document.getElementById('toDrop');

    function openDrop(which){ closeDrops(); if(which==='from'){buildFromDrop(); fromDrop.classList.add('open');} else {buildToDrop(); toDrop.classList.add('open');} }
    function closeDrops(){ fromDrop.classList.remove('open'); toDrop.classList.remove('open'); }
    document.addEventListener('click', (e)=>{ if(!e.target.closest('.fld')) closeDrops(); });

    // Ù‚Ø§Ø¦Ù…Ø© "Ù…Ù†": Ø¯ÙˆÙ„ Ø«Ù… Ù…Ø·Ø§Ø±Ø§ØªÙ‡Ø§ (Ø§Ù„Ø¹Ø±Ø¶ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙÙ‚Ø·)
    function buildFromDrop(filter=""){
      fromDrop.innerHTML='';
      Object.keys(DB).forEach(country=>{
        const sec=document.createElement('div'); sec.innerHTML = `<div class='section-title'>${country}</div>`; fromDrop.appendChild(sec);
        DB[country]
          .filter(a => (country+" "+a.c+" "+a.n).includes(filter.trim()))
          .forEach(a=>{ const it=document.createElement('div'); it.className='item'; it.textContent=`${a.n}`; const s=document.createElement('span'); s.className='code'; s.textContent=a.c; it.appendChild(s); it.onclick=()=>{originInput.value=`${a.c} â€” ${a.n}`; closeDrops(); destInput.focus();}; fromDrop.appendChild(it); });
      });
    }

    // Ù‚Ø§Ø¦Ù…Ø© "Ø¥Ù„Ù‰": Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø·Ø§Ø±Ø§Øª ÙÙ‚Ø·
    function buildToDrop(filter=""){
      toDrop.innerHTML=''; const sec=document.createElement('div'); sec.innerHTML = `<div class='section-title'>Ø§Ù„Ù…Ø·Ø§Ø±Ø§Øª</div>`; toDrop.appendChild(sec);
      ALL_AIRPORTS
        .filter(a => (a.c+" "+a.n).includes(filter.trim()))
        .forEach(a=>{ const it=document.createElement('div'); it.className='item'; it.textContent=`${a.n}`; const s=document.createElement('span'); s.className='code'; s.textContent=a.c; it.appendChild(s); it.onclick=()=>{destInput.value=`${a.c} â€” ${a.n}`; closeDrops();}; toDrop.appendChild(it); });
    }

    function filterDrop(which){ const v=(which==='from'?originInput.value:destInput.value).trim(); const f=v.split('â€”')[0]?.trim()||v; if(which==='from') buildFromDrop(f.toUpperCase()); else buildToDrop(f.toUpperCase()); }

    // Ù‚ÙŠÙÙ… Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (BAH â†’ CAI)
    (function init(){ originInput.value='BAH â€” Ø§Ù„Ù…Ù†Ø§Ù…Ø©'; destInput.value='CAI â€” Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©'; })();
  // Ø£Ø²Ø±Ø§Ø± Ù†Ø§ÙØ°Ø© Ø§Ù„Ù€ API
(function(){
  const apiBtn=document.getElementById('apiBtn');
  const apiModal=document.getElementById('apiModal');
  const apiInput=document.getElementById('apiInput');
  const apiSave=document.getElementById('apiSave');
  const apiClose=document.getElementById('apiClose');
  if(apiBtn){ apiBtn.addEventListener('click',()=>{ apiInput.value = localStorage.getItem('tequila_api_key')||''; apiModal.style.display='flex'; apiInput.focus(); }); }
  if(apiClose){ apiClose.addEventListener('click',()=>{ apiModal.style.display='none'; }); }
  if(apiSave){ apiSave.addEventListener('click',()=>{ const v=(apiInput.value||'').trim(); if(!v){ alert('Ø£Ø¯Ø®Ù„ Ù…ÙØªØ§Ø­Ø§Ù‹ ØµØ§Ù„Ø­Ø§Ù‹'); return; } localStorage.setItem('tequila_api_key', v); TEQUILA_API_KEY=v; apiModal.style.display='none'; alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…ÙØªØ§Ø­.'); }); }
})();
// ===== ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„Ø¹Ø±Ø¶ Ø¯Ø§Ø®Ù„ Ø§Ù„ØµÙØ­Ø© =====
function parseCode(v){ if(!v) return ''; const sep = v.includes('â€”') ? 'â€”' : '-'; const code=(v.split(sep)[0]||'').trim().toUpperCase(); return code.length===3?code:v.trim().toUpperCase(); }

async function buildAndSearch(){
  const origin=parseCode(document.getElementById('origin').value);
  const destination=parseCode(document.getElementById('destination').value);
  const resultsCard=document.getElementById('resultsCard');
  const ticketsBox=document.getElementById('tickets');
  const summary=document.getElementById('summary');
  const providersWrap=document.getElementById('noApiProviders');
  const providers=document.getElementById('providers');

  if(!origin||!destination){ alert('Ø±Ø¬Ø§Ø¡Ù‹ Ø§Ø®ØªØ±: Ù…Ù† / Ø¥Ù„Ù‰'); return; }
  resultsCard.style.display='block';
  summary.textContent = `Ù…Ù† ${origin} Ø¥Ù„Ù‰ ${destination} â€” ÙŠØªÙ… ØªØ±ØªÙŠØ¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù…Ù† Ø§Ù„Ø£Ø±Ø®Øµ Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¹Ù„Ù‰.`;
  ticketsBox.innerHTML = `<div class='ticket'><div class='meta'>Ø¬Ø§Ø±Ù Ø¬Ù„Ø¨ Ø£Ø±Ø®Øµ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±...</div></div>`;

  if(!window.TEQUILA_API_KEY){
    // Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…ÙØªØ§Ø­ API â†’ Ø¹Ø±Ø¶ Ø±ÙˆØ§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠØ© Ù…ÙˆØ«ÙˆÙ‚Ø© Ø¯Ø§Ø®Ù„ Ù†ÙØ³ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
    ticketsBox.innerHTML = `<div class='ticket'><div class='meta'>Ù„Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„ØµÙØ­Ø©ØŒ Ø£Ø¯Ø®Ù„ Ù…ÙØªØ§Ø­ Kiwi Tequila Ù…Ù† Ø²Ø± "Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙØªØ§Ø­ API" Ø¨Ø§Ù„Ø£Ø¹Ù„Ù‰.</div></div>`;
    providersWrap.style.display='block';
    providers.innerHTML='';
    const list=[
      {name:'Google Flights', url:`https://www.google.com/travel/flights?hl=ar&q=${encodeURIComponent(`flights from ${origin} to ${destination}`)}`},
      {name:'Skyscanner', url:`https://www.skyscanner.net/transport/flights/${origin}/${destination}/?adults=1&cabinclass=economy`},
      {name:'KAYAK', url:`https://www.kayak.com/flights/${origin}-${destination}?sort=best`},
      {name:'Expedia', url:`https://www.expedia.com/Flights-Search?trip=oneway&leg1=from:${origin},to:${destination}&passengers=adults:1&mode=search`},
      {name:'Wego', url:`https://www.wego.com/flights/${origin}-${destination}`}
    ];
    list.forEach(p=>{ const card=document.createElement('div'); card.className='ticket'; card.innerHTML=`<div><strong>${p.name}</strong><div class='meta'>Ø§ÙØªØ­ ÙÙŠ ØªØ¨ÙˆÙŠØ¨ Ø¬Ø¯ÙŠØ¯</div></div><a class='cta' style='padding:10px 12px;font-size:14px' href='${p.url}' target='_blank' rel='noopener'>ÙØªØ­</a>`; providers.appendChild(card); });
    return;
  }

  try{
    const {data, note} = await searchCheapest(origin, destination);
    ticketsBox.innerHTML=''; providersWrap.style.display='none';
    if(note){ ticketsBox.innerHTML = `<div class='ticket'><div class='meta'>${note}</div></div>`; return; }
    if(!data.length){ ticketsBox.innerHTML = `<div class='ticket'><div class='meta'>Ù„Ù… Ù†Ø¬Ø¯ Ù†ØªØ§Ø¦Ø¬ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ.</div></div>`; return; }
    data.sort((a,b)=>a.price-b.price);
    data.forEach(t=>{
      const el=document.createElement('div'); el.className='ticket';
      el.innerHTML = `
        <div>
          <div><strong>${t.carrier}</strong> â€¢ <span class='meta'>${t.stops? t.stops+' ØªÙˆÙ‚Ù' : 'Ù…Ø¨Ø§Ø´Ø±'}</span></div>
          <div class='meta'>Ø§Ù„Ù…Ø¯Ø©: ${t.duration} â€¢ Ù…Ù†: ${t.depart||'-'} â€¢ Ø¥Ù„Ù‰: ${t.arrive||'-'}</div>
        </div>
        <div style='display:flex;gap:8px;align-items:center'>
          <span class='price'>${t.price} ${t.currency}</span>
          ${t.link?`<a class='cta' href='${t.link}' target='_blank' rel='noopener' style='padding:10px 12px;font-size:14px'>Ø§Ø­Ø¬Ø²</a>`:''}
        </div>`;
      ticketsBox.appendChild(el);
    });
  }catch(e){
    ticketsBox.innerHTML = `<div class='ticket'><div class='meta'>Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¬Ù„Ø¨. ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ù…ÙØªØ§Ø­ API.</div></div>`;
  }
}
</script></body>
</html>
