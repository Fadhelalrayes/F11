<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>

<title>Ø§Ù„Ø®Ø³ÙˆÙ ÙˆØ§Ù„ÙƒØ³ÙˆÙ â€“ Ø§Ù„ØªÙˆØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø­Ù„ÙŠØ© ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù… | ØªÙ‚Ø§ÙˆÙŠÙ… ÙÙ„ÙƒÙŠØ© Ø¯Ù‚ÙŠÙ‚Ø©</title>
<meta name="description" content="Ø¬Ø¯ÙˆÙ„ Ø®Ø³ÙˆÙ Ø§Ù„Ù‚Ù…Ø± ÙˆÙƒØ³ÙˆÙ Ø§Ù„Ø´Ù…Ø³ Ø­Ø³Ø¨ Ù…Ù†Ø·Ù‚ØªÙƒ Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ù…Ø¹ Ø§Ù„Ø¹Ø¯Ù‘ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ Ù„Ù„Ø­Ø¯Ø« Ø§Ù„Ù‚Ø§Ø¯Ù…ØŒ Ø¨Ø¯Ø§ÙŠØ©/Ø£Ø¹Ø¸Ù…/Ù†Ù‡Ø§ÙŠØ© Ø¨Ø§Ù„Ø³Ø§Ø¹Ø§Øª ÙˆØ§Ù„Ø¯Ù‚Ø§Ø¦Ù‚ØŒ Ø£Ø­ÙƒØ§Ù… ØµÙ„Ø§Ø© Ø§Ù„Ø¢ÙŠØ§Øª Ø§Ù„Ù…Ø®ØªØµØ±Ø© ÙˆØ­ÙƒÙ… Ù…Ù† ÙØ§ØªØªÙ‡ Ø§Ù„ØµÙ„Ø§Ø©ØŒ ÙˆØ±ÙˆØ§Ø¨Ø· Ù„Ù…ØµØ§Ø¯Ø± ÙÙ„ÙƒÙŠØ© Ù…Ø¹ØªÙ…Ø¯Ø©.">
<link rel="canonical" href="https://example.com/eclipses"/>
<meta name="keywords" content="Ø®Ø³ÙˆÙ, ÙƒØ³ÙˆÙ, ØµÙ„Ø§Ø© Ø§Ù„Ø¢ÙŠØ§Øª, Ø®Ø³ÙˆÙ Ø§Ù„Ù‚Ù…Ø±, ÙƒØ³ÙˆÙ Ø§Ù„Ø´Ù…Ø³, Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø®Ø³ÙˆÙ, Bahrain, Saudi Arabia, Iraq, Kuwait, Iran, Lebanon">

<!-- OG / Twitter -->
<meta property="og:title" content="Ø§Ù„Ø®Ø³ÙˆÙ ÙˆØ§Ù„ÙƒØ³ÙˆÙ â€“ Ø§Ù„ØªÙˆØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø­Ù„ÙŠØ© ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…">
<meta property="og:description" content="Ø§Ù„Ø¹Ø¯Ù‘ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ Ù„Ù„Ø­Ø¯Ø« Ø§Ù„Ù‚Ø§Ø¯Ù… + Ø¨Ø¯Ø§ÙŠØ©/Ø£Ø¹Ø¸Ù…/Ù†Ù‡Ø§ÙŠØ© Ø¨Ø§Ù„Ø³Ø§Ø¹Ø§Øª ÙˆØ§Ù„Ø¯Ù‚Ø§Ø¦Ù‚ØŒ Ù…Ø¹ Ø£Ø­ÙƒØ§Ù… ØµÙ„Ø§Ø© Ø§Ù„Ø¢ÙŠØ§ØªØŒ ÙˆÙ…ØµØ§Ø¯Ø± ÙÙ„ÙƒÙŠØ© Ù…Ø¹ØªÙ…Ø¯Ø©.">
<meta property="og:type" content="website">
<meta property="og:locale" content="ar_AR">
<meta name="twitter:card" content="summary_large_image">

<!-- Ø®Ø·ÙˆØ· Ø£Ø¬Ù…Ù„ -->
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@600;800;900&family=IBM+Plex+Sans+Arabic:wght@400;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    /* Ù„ÙˆØ­Ø© ÙØ®Ù…Ø©: Ø²Ù…Ø±Ø¯ÙŠ Ø¹Ù…ÙŠÙ‚ + Ø°Ù‡Ø¨ÙŠ ØºÙ†ÙŠ */
    --ink:#0a1e16;
    --muted:#6a746f;
    --bg:#f6faf8;
    --border:#e2eee7;
    --emerald:#0f8a5b;
    --emerald-600:#0a6a45;
    --gold:#d9b544;
    --shadow:0 14px 30px rgba(10,30,22,.10);
    --box-grad:linear-gradient(135deg,#ffffff 0%,#f9fff7 45%,#fffaf0 100%);
    --chip-grad:linear-gradient(135deg,#f4fff8,#fffdf3);
    --badge:#fff6d8;
  }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--ink);padding:16px;
       font-family:"IBM Plex Sans Arabic",system-ui,"Cairo",sans-serif}

  .container{width:min(1100px,100%);margin:auto;display:flex;flex-direction:column;gap:16px}

  .topBar{display:flex;justify-content:space-between;align-items:center}
  .brand{font-family:"Cairo",sans-serif;font-weight:900;color:var(--gold);letter-spacing:.2px}
  .topClock{font-size:.95rem;font-weight:800;color:var(--emerald-600)}

  .hero{background:#fff;border:1px solid var(--border);border-radius:18px;box-shadow:var(--shadow);padding:18px;text-align:center;background-image:var(--box-grad)}
  .hero h1{margin:0;font-family:"Cairo",sans-serif;font-size:1.7rem;color:#0b3b2a}

  .locationBox{background:#fff;border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);padding:12px 14px;display:flex;justify-content:space-between;align-items:center;position:relative}
  .place{font-weight:800}
  .changeBtn{background:#eefcf5;border:1px solid var(--border);padding:6px 12px;border-radius:999px;font-weight:800;cursor:pointer}
  /* Ù„ÙˆØ­Ø© Ø§Ø®ØªÙŠØ§Ø± ØµØºÙŠØ±Ø© Ø¨Ø¯Ù„ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø³ÙÙ„ÙŠØ© */
  .miniPanel{position:absolute;top:100%;inset-inline-end:0;margin-top:8px;background:#fff;border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:10px;display:none;z-index:40;min-width:280px}
  .miniPanel.open{display:block}
  .miniRow{display:flex;gap:8px;margin:6px 0}
  .miniRow label{width:80px;color:var(--muted);font-weight:800}
  .miniRow select{flex:1;padding:.5rem .6rem;border:1px solid var(--border);border-radius:10px;font-weight:700;background:#fff}
  .applyBtn{display:block;width:100%;margin-top:8px;background:#eafcf3;border:1px solid var(--border);border-radius:10px;padding:.55rem .9rem;font-weight:900;cursor:pointer}
  .closeX{position:absolute;inset-inline-start:8px;top:8px;border:none;background:transparent;font-weight:900;cursor:pointer;color:#8a8a8a}

  /* Ø§Ù„Ø­Ø¯Ø« Ø§Ù„Ù‚Ø§Ø¯Ù… */
  .nextBox{background:#fff;border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);padding:16px;display:grid;gap:10px;position:relative;overflow:hidden}
  .nextBox:before{content:"";position:absolute;inset:-30% -30% auto auto;width:240px;height:240px;background:radial-gradient(closest-side,#e7fbef,transparent 70%);transform:rotate(16deg)}
  .chipGold{border:1px solid #eadcba;background:linear-gradient(135deg,#fff0c9,#fff);color:#6d5718;padding:6px 12px;border-radius:999px;font-weight:900;font-size:.9rem;display:inline-block}
  .nextRow{display:flex;justify-content:space-between;align-items:center;font-weight:800;gap:8px;flex-wrap:wrap}
  .nextName{font-size:1.05rem}
  .nextAt{font-variant-numeric:tabular-nums}
  .badge{display:inline-block;background:var(--badge);border:1px solid #f2e3b4;color:#7a5d12;padding:.25rem .55rem;border-radius:999px;font-weight:900;font-size:.85rem}
  .countdown{display:flex;justify-content:center;gap:10px;font-weight:900;font-size:1.6rem;letter-spacing:.5px;direction:ltr}
  .cd-seg{min-width:2ch;text-align:center;padding:.25rem .65rem;border:1px solid var(--border);border-radius:12px;background:#f1fff7;box-shadow:inset 0 0 0 1px #e7f3ea}
  .note{font-size:.9rem;color:var(--muted);text-align:center}

  .infoRow{display:grid;grid-template-columns:1fr 1fr;gap:16px}
  @media(max-width:720px){.infoRow{grid-template-columns:1fr}}

  .chip{background:#fff;border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:12px;display:flex;align-items:center;gap:12px;background-image:var(--chip-grad)}
  .ico{width:36px;height:36px;display:grid;place-items:center;border-radius:10px;background:#e7fbef;font-size:1.05rem;border:1px solid #daf0e3}
  .stack{display:flex;flex-direction:column}
  .label{font-size:.85rem;color:var(--muted);font-weight:800}
  .value{font-weight:900;font-size:1rem;font-variant-numeric:tabular-nums}

  .card{background:#fff;border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:12px}
  .card h2,.card h3{margin:0 0 10px;font-size:1.1rem;font-weight:900;text-align:center;color:#0a3b27;font-family:"Cairo",sans-serif}
  table{width:100%;border-collapse:collapse}
  th,td{padding:12px;border-bottom:1px solid #eaf1ec;font-size:1rem}
  th{background:#fcfff7;font-weight:900}
  td.name{text-align:right;font-weight:800}
  td.time{text-align:left;font-weight:900}
  td.rule{white-space:nowrap}
  tr.next td{background:linear-gradient(90deg,#0f8a5b22,transparent)}

  /* Ø§Ù„Ø£Ø­ÙƒØ§Ù… â€“ Ù…Ø­Ø§Ø°Ø§Ø© ÙƒÙØªÙØ¨ÙŠÙ‘Ø© */
  .fiqh{background:#fff;border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:16px}
  .fiqh h2{margin:0 0 10px}
  .fiqh p{margin:.4rem 0; text-align:justify; text-justify:inter-word; line-height:1.9}
  .fiqh .hint{font-size:.92rem;color:var(--muted);margin-top:.5rem}

  /* Ù‚Ø³Ù… Ø§Ù„Ù…ØµØ§Ø¯Ø± Ø§Ù„Ù…Ø³ØªÙ‚Ù„ */
  .sourcesBlk{background:#fff;border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:14px}
  .sources{display:flex;gap:8px;align-items:center;justify-content:center;flex-wrap:wrap}
  select.srcSel{padding:.55rem .8rem;border-radius:10px;border:1px solid var(--border);font-weight:700;background:#fff}
  .btn{border:1px solid var(--border);border-radius:10px;padding:.55rem .9rem;font-weight:900;cursor:pointer;background:#fff}
  .btn.primary{background:#eafcf3}

  footer{text-align:center;margin-top:8px}
  .credit{color:#0d533b;font-weight:900}
</style>

<!-- JSON-LD (ÙŠÙØ­Ø¯Ù‘ÙØ« Ø¢Ù„ÙŠÙ‹Ø§) -->
<script type="application/ld+json" id="event-jsonld">{}</script>
</head>
<body>
  <header class="container topBar" role="banner">
    <div class="brand">ğŸŒ’ Ø§Ù„Ø®Ø³ÙˆÙ ÙˆØ§Ù„ÙƒØ³ÙˆÙ</div>
    <div class="topClock" id="topClock" aria-live="polite">--:-- --</div>
  </header>

  <main class="container" role="main">
    <section class="hero">
      <h1>ØªÙˆØ§Ø±ÙŠØ® Ø®Ø³ÙˆÙ Ø§Ù„Ù‚Ù…Ø± ÙˆÙƒØ³ÙˆÙ Ø§Ù„Ø´Ù…Ø³ (Ù…Ø­Ø¯Ù‘ÙØ«Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§)</h1>
    </section>

    <section class="locationBox" aria-label="Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹">
      <div class="place" id="place">â€”</div>
      <button class="changeBtn" id="openMini" type="button" aria-expanded="false">ØªØºÙŠÙŠØ±</button>
      <!-- Ù„ÙˆØ­Ø© Ø§Ø®ØªÙŠØ§Ø± Ø®ÙÙŠÙØ© (Ù„Ø§ Ø­ÙØ¸/Ø¥Ù„ØºØ§Ø¡) -->
      <div class="miniPanel" id="miniPanel">
        <button class="closeX" id="closeMini" title="Ø¥ØºÙ„Ø§Ù‚">âœ•</button>
        <div class="miniRow"><label>Ø§Ù„Ø¨Ù„Ø¯</label><select id="countrySel"></select></div>
        <div class="miniRow"><label>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</label><select id="citySel"></select></div>
        <button class="applyBtn" id="applyPlace" type="button">ØªØ·Ø¨ÙŠÙ‚</button>
      </div>
    </section>

    <!-- Ø§Ù„Ø­Ø¯Ø« Ø§Ù„Ù‚Ø§Ø¯Ù… -->
    <section class="nextBox" id="nextBox" aria-labelledby="nextLabel">
      <span class="chipGold" id="nextLabel">Ø§Ù„Ø­Ø¯Ø« Ø§Ù„Ù‚Ø§Ø¯Ù…</span>
      <div class="nextRow">
        <span class="nextName" id="nextName">--</span>
        <span class="badge" id="nextRule">Ø§Ù„Ø­ÙƒÙ…: ÙˆØ§Ø¬Ø¨</span>
      </div>
      <!-- Ø§Ù„ØªØ§Ø±ÙŠØ® + HM ÙÙ‚Ø· -->
      <div class="nextRow">
        <span class="nextAt" id="nextDate">â€”</span>
        <span class="nextAt"><b>ÙŠØ¨Ø¯Ø£:</b> <span id="hmStart">--:--</span> &nbsp; â€¢ &nbsp; <b>Ø§Ù„Ø£Ø¹Ø¸Ù…:</b> <span id="hmMax">--:--</span> &nbsp; â€¢ &nbsp; <b>ÙŠÙ†ØªÙ‡ÙŠ:</b> <span id="hmEnd">--:--</span></span>
      </div>
      <div class="countdown" aria-live="polite" aria-label="Ø¹Ø¯Ù‘ ØªÙ†Ø§Ø²Ù„ÙŠ">
        <span class="cd-seg" id="cdH">00</span><span>:</span>
        <span class="cd-seg" id="cdM">00</span><span>:</span>
        <span class="cd-seg" id="cdS">00</span>
      </div>
      <div class="note" id="nextNote">Ø§Ù„Ø¹Ø¯Ù‘Ø§Ø¯ Ø­ØªÙ‰ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø­Ø¯Ø«.</div>
    </section>

    <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª -->
    <section class="infoRow" aria-label="Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø©">
      <div class="chip"><div class="ico">ğŸ“…</div><div class="stack"><div class="label">ØªØ§Ø±ÙŠØ® Ø§Ù„ÙŠÙˆÙ…</div><div class="value" id="greg">--</div></div></div>
      <div class="chip"><div class="ico">ğŸŒ</div><div class="stack"><div class="label">Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©</div><div class="value" id="tzLabel">â€”</div></div></div>
    </section>

    <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø³Ù†Ø© -->
    <section class="card" aria-labelledby="yearEvents">
      <h2 id="yearEvents">Ø£Ø­Ø¯Ø§Ø« Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø§Ù…</h2>
      <table>
        <thead><tr><th>Ø§Ù„Ø­Ø¯Ø«</th><th>ÙŠØ¨Ø¯Ø£</th><th>Ø§Ù„Ø£Ø¹Ø¸Ù…</th><th>ÙŠÙ†ØªÙ‡ÙŠ</th><th>Ø§Ù„Ø­ÙƒÙ…</th></tr></thead>
        <tbody id="eventsBody"><tr><td colspan="5">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„â€¦</td></tr></tbody>
      </table>
    </section>

    <!-- Ø§Ù„Ø£Ø­ÙƒØ§Ù… (Ù…Ø­Ø§Ø°Ø§Ø© ÙƒÙØªÙØ¨ÙŠÙ‘Ø©) -->
    <section class="fiqh" aria-labelledby="fiqhTitle">
      <h2 id="fiqhTitle">Ø£Ø­ÙƒØ§Ù… ØµÙ„Ø§Ø© Ø§Ù„Ø¢ÙŠØ§Øª (Ù…Ø®ØªØµØ± Ø¬Ø§Ù…Ø¹)</h2>
      <p><strong>ØªØ¬Ø¨ ØµÙ„Ø§Ø© Ø§Ù„Ø¢ÙŠØ§Øª</strong> Ø¹Ù†Ø¯ ÙƒØ³ÙˆÙ Ø§Ù„Ø´Ù…Ø³ ÙˆØ®Ø³ÙˆÙ Ø§Ù„Ù‚Ù…Ø±ØŒ ÙˆÙ„Ùˆ ÙƒØ§Ù†Ø§ Ø¬Ø²Ø¦ÙŠÙŠÙ†. ÙˆÙˆÙ‚ØªÙ‡Ø§ Ù…Ù† <strong>Ø§Ø¨ØªØ¯Ø§Ø¡ Ø§Ù„Ø¢ÙŠØ©</strong> Ø¥Ù„Ù‰ <strong>ØªÙ…Ø§Ù… Ø§Ù„Ø§Ù†Ø¬Ù„Ø§Ø¡</strong>ØŒ ÙˆØ§Ù„Ø£ÙˆÙ„Ù‰ Ø¹Ø¯Ù… Ø§Ù„ØªØ£Ø®ÙŠØ± Ø¥Ù„Ù‰ Ø§Ù„Ø´Ø±ÙˆØ¹ ÙÙŠ Ø§Ù„Ø§Ù†Ø¬Ù„Ø§Ø¡.</p>
      <p><strong>Ø§Ù„ÙƒÙŠÙÙŠØ©:</strong> Ø±ÙƒØ¹ØªØ§Ù†ØŒ ÙÙŠ ÙƒÙ„ Ø±ÙƒØ¹Ø© <strong>Ø®Ù…Ø³Ø© Ø±ÙƒÙˆØ¹Ø§Øª</strong>. ÙˆÙŠØ¬ÙˆØ² ØªØ¬Ø²Ø¦Ø© Ø³ÙˆØ±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø±ÙƒÙˆØ¹Ø§Øª Ø§Ù„Ø®Ù…Ø³Ø©.</p>
      <p><strong>Ø°ÙˆÙˆ Ø§Ù„Ø£Ø¹Ø°Ø§Ø± Ù…Ù† Ø§Ù„Ù†Ø³Ø§Ø¡</strong> (ÙƒØ§Ù„Ø­ÙŠØ¶ ÙˆØ§Ù„Ù†ÙØ§Ø³): Ù„Ø§ ØªØµØ­ Ù…Ù†Ù‡Ù† Ø§Ù„ØµÙ„Ø§Ø© Ø­Ø§Ù„ Ø§Ù„Ø¹Ø°Ø± <strong>ÙˆÙ„Ø§ ÙŠØ¬Ø¨ Ø§Ù„Ù‚Ø¶Ø§Ø¡</strong> Ù„Ù…Ø§ ÙÙÙˆØª Ø²Ù…Ù† Ø§Ù„Ø¹Ø°Ø±.</p>
      <p><strong>Ù…Ù† ÙØ§ØªØªÙ‡ Ø§Ù„ØµÙ„Ø§Ø©</strong> Ø¹Ø§Ù„Ù…Ø§Ù‹ Ø£Ùˆ Ù†Ø§Ø³ÙŠØ§Ù‹ Ø­ØªÙ‰ Ø§Ù„Ø§Ù†Ø¬Ù„Ø§Ø¡: <strong>ÙŠÙ‚Ø¶ÙŠÙ‡Ø§</strong> Ù…Ø·Ù„Ù‚Ù‹Ø§ (ÙÙŠ Ø§Ù„ÙƒÙ„ÙŠ ÙˆØ§Ù„Ø¬Ø²Ø¦ÙŠ). Ø£Ù…Ù‘Ø§ Ù…Ù† <strong>Ù„Ù… ÙŠØ¹Ù„Ù… Ø¨Ø§Ù„ÙƒØ³ÙˆÙ</strong> Ø­ØªÙ‰ Ø§Ù„Ø§Ù†Ø¬Ù„Ø§Ø¡: ÙØ¥Ù† ÙƒØ§Ù† <strong>ÙƒÙ„ÙŠÙ‹Ø§</strong> Ù‚Ø¶Ù‰ØŒ ÙˆØ¥Ù† ÙƒØ§Ù† <strong>Ø¬Ø²Ø¦ÙŠÙ‹Ø§</strong> ÙÙ„Ø§ Ù‚Ø¶Ø§Ø¡.</p>
      <p class="hint">Ø§Ù„Ø£Ø­ÙƒØ§Ù… Ù…Ø£Ø®ÙˆØ°Ø© Ù…Ù† Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø© (Ù‚Ø³Ù… ØµÙ„Ø§Ø© Ø§Ù„Ø¢ÙŠØ§Øª/Ø§Ù„Ø¹Ø¨Ø§Ø¯Ø§Øª) Ø¯ÙˆÙ† ØªØ³Ù…ÙŠØ©ØŒ ÙˆÙŠÙ…ÙƒÙ† Ù…Ø±Ø§Ø¬Ø¹ØªÙ‡Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø±ÙˆØ§Ø¨Ø· ÙÙŠ â€œØ§Ù„Ù…ØµØ§Ø¯Ø± Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©â€.</p>
    </section>

    <!-- Ø§Ù„Ù…ØµØ§Ø¯Ø± (Ù‚Ø¨Ù„ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ÙˆØ§Ù„ØªØ·ÙˆÙŠØ±) -->
    <section class="sourcesBlk">
      <h3>Ø§Ù„Ù…ØµØ§Ø¯Ø± Ø§Ù„ÙÙ„ÙƒÙŠØ© ÙˆØ§Ù„ÙÙ‚Ù‡ÙŠØ© Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©</h3>
      <div class="sources">
        <label for="srcSel" class="label">Ø§Ø®ØªØ± Ù…ØµØ¯Ø±Ù‹Ø§:</label>
        <select id="srcSel" class="srcSel" aria-label="Ù…ØµØ¯Ø±">
          <option value="https://science.nasa.gov/eclipses/future-eclipses/">NASA â€“ Future Eclipses</option>
          <option value="https://eclipse.gsfc.nasa.gov/SEdecade/SEdecade2021.html">NASA GSFC â€“ Solar Eclipses 2021â€“2030</option>
          <option value="https://eclipse.gsfc.nasa.gov/LEdecade/LEdecade2021.html">NASA GSFC â€“ Lunar Eclipses 2021â€“2030</option>
          <option value="https://www.timeanddate.com/eclipse/2025">Timeanddate â€“ Eclipses 2025</option>
          <option value="https://www.sistani.org/arabic/qa/0551/">Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆØ§Ù„Ø£Ø¬ÙˆØ¨Ø© â€“ ØµÙ„Ø§Ø© Ø§Ù„Ø¢ÙŠØ§Øª</option>
          <option value="https://www.sistani.org/arabic/book/13/597/">Ø§Ù„Ù…Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ù†ØªØ®Ø¨Ø© â€“ ØµÙ„Ø§Ø© Ø§Ù„Ø¢ÙŠØ§Øª</option>
        </select>
        <button type="button" class="btn primary" id="openSrc">ÙØªØ­ Ø§Ù„Ù…ØµØ¯Ø±</button>
      </div>
    </section>
  </main>

  <footer class="container"><span class="credit">Ø¨Ø±Ù…Ø¬Ø© ÙˆØªØ·ÙˆÙŠØ± ÙØ§Ø¶Ù„ Ø§Ù„Ø±ÙŠØ³</span></footer>

<script>
/* ========================= Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙƒØ§Ù†/Ø²Ù…Ù† ========================= */
const MAP=[
 {ar:"Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†",en:"Bahrain",tz:"Asia/Bahrain",cities:[
   {ar:"Ø§Ù„Ù…Ù†Ø§Ù…Ø©",en:"Manama"},{ar:"Ø§Ù„Ù…Ø­Ø±Ù‚",en:"Muharraq"},{ar:"Ù…Ø¯ÙŠÙ†Ø© Ø¹ÙŠØ³Ù‰",en:"Isa Town"},
   {ar:"Ù…Ø¯ÙŠÙ†Ø© Ø­Ù…Ø¯",en:"Hamad Town"},{ar:"Ø³ØªØ±Ø©",en:"Sitra"},{ar:"Ø³Ø§Ø±",en:"Saar"},
   {ar:"Ø§Ù„Ø¯Ø±Ø§Ø²",en:"Draz"},{ar:"Ø¬Ø¯Ø­ÙØµ",en:"Jidhafs"}
 ]},
 {ar:"Ù„Ø¨Ù†Ø§Ù†",en:"Lebanon",tz:"Asia/Beirut",cities:[{ar:"Ø¨ÙŠØ±ÙˆØª",en:"Beirut"},{ar:"Ø·Ø±Ø§Ø¨Ù„Ø³",en:"Tripoli"},{ar:"ØµÙŠØ¯Ø§",en:"Sidon"}]},
 {ar:"Ø§Ù„Ø¹Ø±Ø§Ù‚",en:"Iraq",tz:"Asia/Baghdad",cities:[{ar:"Ø¨ØºØ¯Ø§Ø¯",en:"Baghdad"},{ar:"Ø§Ù„Ø¨ØµØ±Ø©",en:"Basrah"},{ar:"Ø£Ø±Ø¨ÙŠÙ„",en:"Erbil"}]},
 {ar:"Ø¥ÙŠØ±Ø§Ù†",en:"Iran",tz:"Asia/Tehran",cities:[{ar:"Ø·Ù‡Ø±Ø§Ù†",en:"Tehran"},{ar:"Ù…Ø´Ù‡Ø¯",en:"Mashhad"},{ar:"Ø£ØµÙÙ‡Ø§Ù†",en:"Isfahan"}]},
 {ar:"Ø§Ù„ÙƒÙˆÙŠØª",en:"Kuwait",tz:"Asia/Kuwait",cities:[{ar:"Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ÙƒÙˆÙŠØª",en:"Kuwait City"},{ar:"Ø­ÙˆÙ„ÙŠ",en:"Hawalli"},{ar:"Ø§Ù„Ø£Ø­Ù…Ø¯ÙŠ",en:"Al Ahmadi"}]},
 {ar:"Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©",en:"Saudi Arabia",tz:"Asia/Riyadh",cities:[{ar:"Ø§Ù„Ø±ÙŠØ§Ø¶",en:"Riyadh"},{ar:"Ø¬Ø¯Ø©",en:"Jeddah"},{ar:"Ø§Ù„Ø¯Ù…Ø§Ù…",en:"Dammam"},{ar:"Ù…ÙƒØ©",en:"Mecca"},{ar:"Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©",en:"Medina"}]}
];
const DEFAULT={countryEn:"Bahrain",countryAr:"Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†",cityEn:"Manama",cityAr:"Ø§Ù„Ù…Ù†Ø§Ù…Ø©",tz:"Asia/Bahrain"};
let current = JSON.parse(localStorage.getItem("eclipse_place")||"null") || {...DEFAULT};

/* Ø§ÙƒØªØ´Ø§Ù ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ© */
(function autoTZ(){
  try{
    const tz = Intl.DateTimeFormat().resolvedOptions().timeZone || current.tz;
    const hit = MAP.find(x=>x.tz===tz);
    if(hit){
      current={countryEn:hit.en,countryAr:hit.ar,cityEn:hit.cities[0].en,cityAr:hit.cities[0].ar,tz:hit.tz};
      localStorage.setItem("eclipse_place",JSON.stringify(current));
    }else{
      current.tz = tz || current.tz;
    }
  }catch{}
})();

/* Ø³Ø§Ø¹Ø© Ø£Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© */
function updateClock(){
  const fmt=new Intl.DateTimeFormat('ar',{timeZone:current.tz,hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:true});
  document.getElementById('topClock').textContent=fmt.format(new Date());
}
setInterval(updateClock,1000); updateClock();

/* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„ØªØ§Ø±ÙŠØ®/Ø§Ù„ÙˆÙ‚Øª */
function fmtDateOnly(dt, tz){
  return new Intl.DateTimeFormat('ar',{timeZone:tz,weekday:'long',year:'numeric',month:'long',day:'numeric'}).format(dt);
}
function fmtHM(iso, tz){
  const d = typeof iso==="string"? new Date(iso): iso;
  return new Intl.DateTimeFormat('ar',{timeZone:tz,hour:'2-digit',minute:'2-digit',hour12:true}).format(d);
}
function fmtDateNice(isoDate, tz){
  return new Intl.DateTimeFormat('ar',{timeZone:tz,year:'numeric',month:'long',day:'numeric'}).format(new Date(isoDate));
}

/* ========================= Ø¨ÙŠØ§Ù†Ø§Øª ÙÙ„ÙƒÙŠØ© (UTC) =========================
   â€” Ø£Ø¯Ø®Ù„ Ù‡Ù†Ø§ Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø³Ù†ÙˆØ§Øª Ø§Ù„Ù…Ø¤ÙƒÙ‘ÙØ¯Ø© Ù…Ù† Ù…ØµØ§Ø¯Ø± NASA/GSFC/Timeanddate/EclipseWise.
   â€” Ø§Ù„ÙƒÙˆØ¯ Ø£Ø¯Ù†Ø§Ù‡ ÙŠØ­ØªÙˆÙŠ 2025 ÙƒÙ†Ù…ÙˆØ°Ø¬ØŒ ÙˆÙ…Ø¹ â€œfallbackâ€ Ø°ÙƒÙŠ Ù„Ø¥Ø¨Ù‚Ø§Ø¡ Ø§Ù„Ø­Ø¯Ø« Ø§Ù„Ù‚Ø§Ø¯Ù… Ø¸Ø§Ù‡Ø±Ù‹Ø§ Ù„Ø³Ù†ÙˆØ§Øª Ù„Ø§Ø­Ù‚Ø©.
*/
const ECLIPSES_UTC = [
  { id:"2025-03-14-LUNAR-TOTAL", type:"Ø®Ø³ÙˆÙ Ù‚Ù…Ø±ÙŠ ÙƒÙ„ÙŠ", dateUTC:"2025-03-14",
    contactsUTC:{ start:"2025-03-14T03:57:09.4Z", max:"2025-03-14T06:58:44.5Z", end:"2025-03-14T10:00:31.9Z" } },
  { id:"2025-03-29-SOLAR-PARTIAL", type:"ÙƒØ³ÙˆÙ Ø´Ù…Ø³ÙŠ Ø¬Ø²Ø¦ÙŠ", dateUTC:"2025-03-29",
    contactsUTC:{ start:"2025-03-29T08:51:52.5Z", max:"2025-03-29T10:48:36.1Z", end:"2025-03-29T12:44:54.1Z" } },
  { id:"2025-09-07-LUNAR-TOTAL", type:"Ø®Ø³ÙˆÙ Ù‚Ù…Ø±ÙŠ ÙƒÙ„ÙŠ", dateUTC:"2025-09-07",
    contactsUTC:{ start:"2025-09-07T15:28:21Z", max:"2025-09-07T18:11:43Z", end:"2025-09-07T20:55:00Z" } },
  { id:"2025-09-21-SOLAR-PARTIAL", type:"ÙƒØ³ÙˆÙ Ø´Ù…Ø³ÙŠ Ø¬Ø²Ø¦ÙŠ", dateUTC:"2025-09-21",
    contactsUTC:{ start:"2025-09-21T17:30:51Z", max:"2025-09-21T19:43:04Z", end:"2025-09-21T21:54:55Z" } }
];

/* ÙˆØ§Ø¬Ø¨ Ø¯Ø§Ø¦Ù…Ø§Ù‹ ÙÙŠ Ø§Ù„ÙƒØ³ÙˆÙÙŠÙ† */
function ruleBadge(){ return 'Ø§Ù„Ø­ÙƒÙ…: ÙˆØ§Ø¬Ø¨'; }

/* Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø¬Ø§Ø±ÙŠØ© */
function currentYearEclipses(){
  const Y=(new Date()).getUTCFullYear();
  return ECLIPSES_UTC.filter(e=>e.dateUTC.startsWith(String(Y)));
}

/* Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø­Ø¯Ø« Ø§Ù„Ù‚Ø§Ø¯Ù… â€“ Ù…Ø¹ Fallback ÙŠÙ…ØªØ¯ Ø­ØªÙ‰ 20 Ø³Ù†Ø© Ù‚Ø§Ø¯Ù…Ø© */
function getNextEvent(){
  const now = new Date();
  const sorted = ECLIPSES_UTC.map(e=>({...e, tStart:new Date(e.contactsUTC.start)}))
                              .sort((a,b)=>a.tStart-b.tStart);
  let future = sorted.find(e=>e.tStart>now);
  if(future) return future;

  // Ø¥Ù† Ù„Ù… ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ© Ø¶Ù…Ù† Ø§Ù„Ù…ØµÙÙˆÙØ©ØŒ Ø£Ù†Ø´Ø¦ Ø­Ø¯Ø«Ù‹Ø§ Ø­Ø§Ø±Ø³Ù‹Ø§ Ø¨Ø¥Ø²Ø§Ø­Ø© Ø§Ù„Ø³Ù†ÙˆØ§Øª
  const base = sorted[sorted.length-1] || sorted[0];
  if(!base) return null;
  const baseY = new Date(base.dateUTC).getUTCFullYear();
  const thisY = now.getUTCFullYear();
  const deltaYears = Math.min(20, Math.max(1, thisY - baseY + 1)); // Ø¥Ù„Ù‰ 20 Ø³Ù†Ø©
  function addYears(iso, years){
    const d=new Date(iso);
    d.setUTCFullYear(d.getUTCFullYear()+years);
    return d.toISOString();
  }
  const ghost = {
    id: base.id+"+Y"+deltaYears,
    type: base.type+" (Ù…ÙˆØ¹Ø¯ Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ ØªÙ‚Ø¯ÙŠØ±ÙŠ)",
    dateUTC: new Date(addYears(base.dateUTC+"T00:00:00Z",deltaYears)).toISOString().slice(0,10),
    contactsUTC: {
      start: addYears(base.contactsUTC.start, deltaYears),
      max:   addYears(base.contactsUTC.max, deltaYears),
      end:   addYears(base.contactsUTC.end, deltaYears)
    },
    _ghost:true
  };
  return {...ghost, tStart:new Date(ghost.contactsUTC.start)};
}

/* ØªØ¹Ø¨Ø¦Ø© ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø­Ø¯Ø« Ø§Ù„Ù‚Ø§Ø¯Ù… + JSON-LD */
let cdTimer=null;
function renderNext(){
  const ev=getNextEvent();
  const nextName=document.getElementById('nextName');
  const nextDate=document.getElementById('nextDate');
  const hmStart=document.getElementById('hmStart');
  const hmMax=document.getElementById('hmMax');
  const hmEnd=document.getElementById('hmEnd');
  const nextNote=document.getElementById('nextNote');

  if(!ev){
    nextName.textContent="â€”";
    nextDate.textContent="â€”";
    hmStart.textContent=hmMax.textContent=hmEnd.textContent="--:--";
    document.getElementById('event-jsonld').textContent="{}";
    return;
  }

  const dateTxt = fmtDateNice(ev.dateUTC, current.tz);
  nextName.textContent = ev.type;
  document.getElementById('nextRule').textContent = ruleBadge();
  nextDate.textContent = dateTxt;
  hmStart.textContent = fmtHM(ev.contactsUTC.start, current.tz);
  hmMax.textContent   = fmtHM(ev.contactsUTC.max,   current.tz);
  hmEnd.textContent   = fmtHM(ev.contactsUTC.end,   current.tz);

  nextNote.textContent = ev._ghost ? "Ù…ÙˆØ¹Ø¯ ØªÙ‚Ø±ÙŠØ¨ÙŠ Ø¢Ù„ÙŠ Ø­ØªÙ‰ ØªÙØ¶Ø§Ù Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© Ù…Ù† Ø§Ù„Ù…ØµØ¯Ø±." : "Ø§Ù„Ø¹Ø¯Ù‘Ø§Ø¯ Ø­ØªÙ‰ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø­Ø¯Ø«.";

  if(cdTimer) clearInterval(cdTimer);
  const target = new Date(ev.contactsUTC.start);
  const tick=()=>{
    const diff = target - new Date();
    const ms=Math.max(0,diff|0);
    let s=Math.floor(ms/1000);
    const h=Math.floor(s/3600); s%=3600;
    const m=Math.floor(s/60); s%=60;
    document.getElementById('cdH').textContent=String(h).padStart(2,'0');
    document.getElementById('cdM').textContent=String(m).padStart(2,'0');
    document.getElementById('cdS').textContent=String(s).padStart(2,'0');
    if(ms<=0){ clearInterval(cdTimer); renderAll(); }
  };
  tick(); cdTimer=setInterval(tick,1000);

  // JSON-LD
  const ld = {
    "@context":"https://schema.org",
    "@type":"Event",
    "name": ev.type.replace(" (Ù…ÙˆØ¹Ø¯ Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ ØªÙ‚Ø¯ÙŠØ±ÙŠ)",""),
    "eventAttendanceMode":"https://schema.org/OnlineEventAttendanceMode",
    "startDate": new Date(ev.contactsUTC.start).toISOString(),
    "endDate": new Date(ev.contactsUTC.end).toISOString(),
    "eventStatus":"https://schema.org/EventScheduled",
    "location":{"@type":"Place","name":`${current.cityAr}ØŒ ${current.countryAr}`},
    "description":"Ø®Ø³ÙˆÙ/ÙƒØ³ÙˆÙ Ù…Ø¹ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ÙˆØ§Ù„Ø£Ø¹Ø¸Ù… ÙˆØ§Ù„Ù†Ù‡Ø§ÙŠØ© (Ø³Ø§Ø¹Ø§Øª ÙˆØ¯Ù‚Ø§Ø¦Ù‚) Ù…Ø­ÙˆÙ‘Ù„Ø© Ù„Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ø§Ù„Ù…Ø­Ù„ÙŠØ©ØŒ Ù…Ø¹ Ø¹Ø¯Ù‘ ØªÙ†Ø§Ø²Ù„ÙŠ ÙˆØ£Ø­ÙƒØ§Ù… ØµÙ„Ø§Ø© Ø§Ù„Ø¢ÙŠØ§Øª."
  };
  document.getElementById('event-jsonld').textContent = JSON.stringify(ld, null, 2);
}

/* Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø³Ù†Ø© */
function renderYearTable(){
  const tbody=document.getElementById('eventsBody');
  const rows=currentYearEclipses().map(e=>{
    const dateTxt = fmtDateNice(e.dateUTC, current.tz);
    const s=fmtHM(e.contactsUTC.start,current.tz);
    const m=fmtHM(e.contactsUTC.max,current.tz);
    const en=fmtHM(e.contactsUTC.end,current.tz);
    return `<tr>
      <td class="name">${e.type} â€“ ${dateTxt}</td>
      <td class="time">${s}</td>
      <td class="time">${m}</td>
      <td class="time">${en}</td>
      <td class="rule"><span class="badge">${ruleBadge()}</span></td>
    </tr>`;
  }).join('');
  tbody.innerHTML = rows || `<tr><td colspan="5">Ù„Ø§ Ø£Ø­Ø¯Ø§Ø« Ù…Ø³Ø¬Ù‘Ù„Ø© Ù„Ù‡Ø°Ù‡ Ø§Ù„Ø³Ù†Ø© Ø¶Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©.</td></tr>`;
}

/* ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…ÙƒØ§Ù† (Ù…ØµØºÙ‘Ø±Ø©) */
const mini=document.getElementById('miniPanel');
document.getElementById('openMini').addEventListener('click',()=>{
  const btn=document.getElementById('openMini');
  mini.classList.toggle('open');
  btn.setAttribute('aria-expanded', mini.classList.contains('open')?'true':'false');
});
document.getElementById('closeMini').addEventListener('click',()=>mini.classList.remove('open'));

const countrySel=document.getElementById('countrySel');
const citySel=document.getElementById('citySel');
function populateCities(countryEn){
  const c=MAP.find(x=>x.en===countryEn);
  citySel.innerHTML=(c?.cities||[]).map(m=>`<option value="${m.en}">${m.ar}</option>`).join("");
}
function populateCountries(){
  countrySel.innerHTML=MAP.map(c=>`<option value="${c.en}">${c.ar}</option>`).join("");
}
countrySel.addEventListener('change',()=>populateCities(countrySel.value));
document.getElementById('applyPlace').addEventListener('click',()=>{
  const c=MAP.find(x=>x.en===countrySel.value);
  const m=(c?.cities||[]).find(x=>x.en===citySel.value);
  if(c&&m){
    current={countryEn:c.en,countryAr:c.ar,cityEn:m.en,cityAr:m.ar,tz:c.tz};
    localStorage.setItem("eclipse_place",JSON.stringify(current));
    mini.classList.remove('open');
    renderAll();
  }
});

/* Ù…ØµØ§Ø¯Ø± Ù…Ù†Ø³Ø¯Ù„Ø© */
document.getElementById('openSrc').addEventListener('click',()=>{
  const url=document.getElementById('srcSel').value;
  window.open(url,'_blank','noopener');
});

/* ØªØ´ØºÙŠÙ„ */
function renderAll(){
  document.getElementById('place').textContent=`${current.cityAr}ØŒ ${current.countryAr}`;
  document.getElementById('greg').textContent=fmtDateOnly(new Date(), current.tz);
  document.getElementById('tzLabel').textContent=current.tz+" (Ù…Ø­Ù„ÙŠ)";
  populateCountries(); countrySel.value=current.countryEn; populateCities(current.countryEn); citySel.value=current.cityEn;
  renderYearTable();
  renderNext();
}
renderAll();
</script>
</body>
</html>
