<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ø§Ù„Ø®ÙÙŠØ±Ø© Ø¨Ø§Ù„Ù‚Ø±Ø¢Ù† | Ø¢ÙŠØ© Ø§Ù„Ø§Ø³ØªØ®Ø§Ø±Ø©</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@700&family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{
  --gold1:#fff4cc; --gold2:#f6d478; --gold3:#e9b84f; --gold4:#cf9a38;
}
*{box-sizing:border-box}
body{margin:0;font-family:"Tajawal",system-ui,-apple-system,Segoe UI,Roboto,sans-serif;background:#0e0e0e;color:#fff}
.container{max-width:980px;margin:auto;padding:22px 16px}
header{text-align:center;margin-bottom:16px}
h1{margin:6px 0 10px;font-family:"Noto Kufi Arabic",sans-serif;font-weight:800;font-size:clamp(24px,4.5vw,40px)}
.lead{opacity:.9}

.panel{
  background:linear-gradient(180deg,#1a1a1f,#141419);border:1px solid #262636;border-radius:18px;
  padding:16px;box-shadow:0 12px 30px rgba(0,0,0,.25)
}

.row{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}

input[type="text"]{
  width:min(280px,90vw);padding:12px 14px;border:1px solid #ead79f;border-radius:12px;
  background:#111;color:#fff;font-size:16px;text-align:center
}
.btn{
  padding:12px 18px;border:0;border-radius:14px;cursor:pointer;font-weight:800;
  background:linear-gradient(180deg, rgba(255,255,255,.65), rgba(255,255,255,0) 40%),
            linear-gradient(180deg, var(--gold1), var(--gold2) 30%, var(--gold3) 60%, var(--gold4));
  color:#2b2107;box-shadow:0 12px 26px rgba(185,130,31,.28), inset 0 1px 0 rgba(255,255,255,.78)
}
.btn.dark{background:linear-gradient(180deg,#2a2a2a,#171717);color:#fff;border:1px solid #333}

.result{
  margin-top:16px;background:#fff;color:#111;padding:16px;border-radius:16px;border:1px solid #eee;
  line-height:2;text-align:right
}
.badge{
  display:inline-block;border-radius:999px;padding:6px 12px;margin:4px 6px 8px 0;
  background:linear-gradient(180deg,#fff7Ø¯4,#fbe9b1);border:1px solid #edd899;white-space:nowrap
}
#res-text{font-size:clamp(20px,2.6vw,28px);font-weight:700;line-height:2}

/* Ù‚Ø§Ø¦Ù…Ø© Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ÙƒÙ„Ù…Ø§Øª */
.verse-card{background:#fafafa;border:1px solid #ddd;padding:10px;border-radius:12px;cursor:pointer;margin:10px 0}
.verse-card:hover{box-shadow:0 10px 24px rgba(0,0,0,.12)}

/* Ù…ÙˆØ¯Ø§Ù„ ØªÙ†Ø¨ÙŠÙ‡ */
.app-modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:9999}
.app-modal.hidden{display:none}
.app-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.55);backdrop-filter:blur(2px)}
.app-card{
  position:relative;width:min(92vw,520px);padding:20px;border-radius:22px;text-align:center;
  background:linear-gradient(180deg,#1f1f27, #15151c); color:#fff; border:1px solid #2b2b36; box-shadow:0 20px 44px rgba(0,0,0,.28)
}
.app-ico{width:64px;height:64px;margin:4px auto 8px;border-radius:50%;display:grid;place-items:center;font-size:28px;color:#1b1b22;
  background:linear-gradient(180deg,var(--gold1),var(--gold2))}
.app-ttl{font-family:"Noto Kufi Arabic";font-weight:800;margin:8px 0 6px}
.app-msg{color:#cfcfe3;line-height:1.9;margin-bottom:14px}
.app-btn{padding:10px 16px;width:100%;border:0;border-radius:14px;cursor:pointer;font-weight:800;
  background:linear-gradient(180deg,var(--gold1),var(--gold2) 60%,var(--gold3));color:#1b1b22}
.footer{margin-top:18px;text-align:center;opacity:.8}
</style>
</head>
<body>
<div class="container">
  <header>
    <h1>Ø§Ù„Ø®ÙÙŠØ±Ø© Ø¨Ø§Ù„Ù‚Ø±Ø¢Ù†</h1>
    <div class="lead">Ø§ÙƒØªØ¨ Ø±Ù‚Ù… Ø§Ù„ØµÙØ­Ø© (Ø§Ù„ÙŠÙ…ÙŠÙ† ÙÙ‚Ø·) Ø£Ùˆ Ø§Ø¨Ø­Ø« Ø¨ÙƒÙ„Ù…Ø©ØŒ ÙˆØ³ØªØ¸Ù‡Ø± Ù„Ùƒ <b>Ø¢ÙŠØ© Ø§Ù„Ø§Ø³ØªØ®Ø§Ø±Ø©</b> (Ø£ÙˆÙ„ Ø¢ÙŠØ© ÙÙŠ Ø§Ù„ØµÙØ­Ø©).</div>
  </header>

  <section class="panel" aria-labelledby="controls">
    <div class="row" id="controls">
      <input id="pageInput" type="text" placeholder="Ø±Ù‚Ù… Ø§Ù„ØµÙØ­Ø© (Ù¡â€“Ù¦Ù Ù£ ÙØ±Ø¯ÙŠ)">
      <button class="btn" id="btnByPage">Ø¨Ø­Ø« Ø¨Ø±Ù‚Ù…</button>
    </div>
    <div class="row" style="margin-top:10px">
      <input id="kwInput" type="text" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ù„ÙƒÙ„Ù…Ø© (Ø¹Ø±Ø¨ÙŠ / English)">
      <button class="btn" id="btnByWord">Ø¨Ø­Ø« Ø¨Ø§Ù„ÙƒÙ„Ù…Ø©</button>
      <button class="btn dark" id="btnRandom">Ø§Ø³ØªØ®Ø§Ø±Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©</button>
    </div>
  </section>

  <!-- Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©: Ø¢ÙŠØ© ÙÙ‚Ø· -->
  <section id="res-box" class="result" style="display:none">
    <div id="res-tags"></div>
    <div id="res-text">â€”</div>
  </section>

  <!-- Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„ÙƒÙ„Ù…Ø© (Ù‚Ø§Ø¦Ù…Ø© ØµÙØ­Ø§Øª) -->
  <section id="versesList" class="result" style="display:none">
    <div class="badge">Ù†ØªØ§Ø¦Ø¬ Ù…Ø·Ø§Ø¨Ù‚Ø© â€” Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠ Ù†ØªÙŠØ¬Ø© Ù„Ø¹Ø±Ø¶ Ø¢ÙŠØ© Ø§Ù„ØµÙØ­Ø©</div>
    <div id="versesWrap"></div>
  </section>

  <div class="footer">Ø¨Ø±Ù…Ø¬Ø© ÙˆØªØ·ÙˆÙŠØ±: ÙØ§Ø¶Ù„ Ø§Ù„Ø±ÙŠØ³</div>
</div>

<!-- Ù…ÙˆØ¯Ø§Ù„ -->
<div id="appModal" class="app-modal hidden" dir="rtl" role="dialog" aria-modal="true">
  <div class="app-backdrop" data-close></div>
  <div class="app-card">
    <div class="app-ico">!</div>
    <h3 class="app-ttl" id="mTitle">ØªÙ†Ø¨ÙŠÙ‡</h3>
    <div class="app-msg" id="mMsg">â€”</div>
    <button class="app-btn" id="mOk" data-close>Ø­Ø³Ù†Ù‹Ø§</button>
  </div>
</div>

<script>
/* ===== Ù…ÙˆØ¯Ø§Ù„ Ù„Ø·ÙŠÙ ===== */
(function(){
  const modal=document.getElementById('appModal'),
        ttl=document.getElementById('mTitle'),
        msg=document.getElementById('mMsg'),
        ok =document.getElementById('mOk');
  function uiAlert({title='ØªÙ†Ø¨ÙŠÙ‡ Ù„Ø·ÙŠÙ ğŸ˜Š',message='â€”',okText='Ø­Ø³Ù†Ù‹Ø§'}={}){
    ttl.textContent=title;
    msg.innerHTML=message;        // ÙŠØ¹Ø±Ø¶ HTML Ø¯Ø§Ø®Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
    ok.textContent=okText;
    modal.classList.remove('hidden');
  }
  function close(){ modal.classList.add('hidden'); }
  modal.querySelectorAll('[data-close]').forEach(el=>el.addEventListener('click',close));
  document.addEventListener('keydown',e=>{ if(e.key==='Escape' && !modal.classList.contains('hidden')) close(); });
  window.uiAlert=uiAlert;
})();

/* ===== Ø£Ø¯ÙˆØ§Øª Ø£Ø±Ù‚Ø§Ù… Ø¹Ø±Ø¨ÙŠØ©/Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ===== */
const toArabicDigits = (x) => String(x ?? "â€”").replace(/[0-9]/g, d => "Ù Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©"[d]);
const fromArabicDigits = (str="") => String(str).replace(/[Ù -Ù©]/g, d => "Ù Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©".indexOf(d));

/* ===== Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø³ÙˆØ± (Ù¡â€“Ù¡Ù¡Ù¤) ===== */
const SURAH=["",
"Ø§Ù„ÙØ§ØªØ­Ø©","Ø§Ù„Ø¨Ù‚Ø±Ø©","Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†","Ø§Ù„Ù†Ø³Ø§Ø¡","Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©","Ø§Ù„Ø£Ù†Ø¹Ø§Ù…","Ø§Ù„Ø£Ø¹Ø±Ø§Ù","Ø§Ù„Ø£Ù†ÙØ§Ù„","Ø§Ù„ØªÙˆØ¨Ø©",
"ÙŠÙˆÙ†Ø³","Ù‡ÙˆØ¯","ÙŠÙˆØ³Ù","Ø§Ù„Ø±Ø¹Ø¯","Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…","Ø§Ù„Ø­Ø¬Ø±","Ø§Ù„Ù†Ø­Ù„","Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡","Ø§Ù„ÙƒÙ‡Ù","Ù…Ø±ÙŠÙ…",
"Ø·Ù‡","Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡","Ø§Ù„Ø­Ø¬","Ø§Ù„Ù…Ø¤Ù…Ù†ÙˆÙ†","Ø§Ù„Ù†ÙˆØ±","Ø§Ù„ÙØ±Ù‚Ø§Ù†","Ø§Ù„Ø´Ø¹Ø±Ø§Ø¡","Ø§Ù„Ù†Ù…Ù„","Ø§Ù„Ù‚ØµØµ","Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª",
"Ø§Ù„Ø±ÙˆÙ…","Ù„Ù‚Ù…Ø§Ù†","Ø§Ù„Ø³Ø¬Ø¯Ø©","Ø§Ù„Ø£Ø­Ø²Ø§Ø¨","Ø³Ø¨Ø¥","ÙØ§Ø·Ø±","ÙŠØ³","Ø§Ù„ØµØ§ÙØ§Øª","Øµ","Ø§Ù„Ø²Ù…Ø±",
"ØºØ§ÙØ±","ÙØµÙ„Øª","Ø§Ù„Ø´ÙˆØ±Ù‰","Ø§Ù„Ø²Ø®Ø±Ù","Ø§Ù„Ø¯Ø®Ø§Ù†","Ø§Ù„Ø¬Ø§Ø«ÙŠØ©","Ø§Ù„Ø£Ø­Ù‚Ø§Ù","Ù…Ø­Ù…Ø¯","Ø§Ù„ÙØªØ­","Ø§Ù„Ø­Ø¬Ø±Ø§Øª",
"Ù‚","Ø§Ù„Ø°Ø§Ø±ÙŠØ§Øª","Ø§Ù„Ø·ÙˆØ±","Ø§Ù„Ù†Ø¬Ù…","Ø§Ù„Ù‚Ù…Ø±","Ø§Ù„Ø±Ø­Ù…Ù†","Ø§Ù„ÙˆØ§Ù‚Ø¹Ø©","Ø§Ù„Ø­Ø¯ÙŠØ¯","Ø§Ù„Ù…Ø¬Ø§Ø¯Ù„Ø©","Ø§Ù„Ø­Ø´Ø±",
"Ø§Ù„Ù…Ù…ØªØ­Ù†Ø©","Ø§Ù„ØµÙ","Ø§Ù„Ø¬Ù…Ø¹Ø©","Ø§Ù„Ù…Ù†Ø§ÙÙ‚ÙˆÙ†","Ø§Ù„ØªØºØ§Ø¨Ù†","Ø§Ù„Ø·Ù„Ø§Ù‚","Ø§Ù„ØªØ­Ø±ÙŠÙ…","Ø§Ù„Ù…Ù„Ùƒ","Ø§Ù„Ù‚Ù„Ù…","Ø§Ù„Ø­Ø§Ù‚Ø©",
"Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬","Ù†ÙˆØ­","Ø§Ù„Ø¬Ù†","Ø§Ù„Ù…Ø²Ù…Ù„","Ø§Ù„Ù…Ø¯Ø«Ø±","Ø§Ù„Ù‚ÙŠØ§Ù…Ø©","Ø§Ù„Ø¥Ù†Ø³Ø§Ù†","Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª","Ø§Ù„Ù†Ø¨Ø¥","Ø§Ù„Ù†Ø§Ø²Ø¹Ø§Øª",
"Ø¹Ø¨Ø³","Ø§Ù„ØªÙƒÙˆÙŠØ±","Ø§Ù„Ø§Ù†ÙØ·Ø§Ø±","Ø§Ù„Ù…Ø·ÙÙÙŠÙ†","Ø§Ù„Ø§Ù†Ø´Ù‚Ø§Ù‚","Ø§Ù„Ø¨Ø±ÙˆØ¬","Ø§Ù„Ø·Ø§Ø±Ù‚","Ø§Ù„Ø£Ø¹Ù„Ù‰","Ø§Ù„ØºØ§Ø´ÙŠØ©","Ø§Ù„ÙØ¬Ø±",
"Ø§Ù„Ø¨Ù„Ø¯","Ø§Ù„Ø´Ù…Ø³","Ø§Ù„Ù„ÙŠÙ„","Ø§Ù„Ø¶Ø­Ù‰","Ø§Ù„Ø´Ø±Ø­","Ø§Ù„ØªÙŠÙ†","Ø§Ù„Ø¹Ù„Ù‚","Ø§Ù„Ù‚Ø¯Ø±","Ø§Ù„Ø¨ÙŠÙ†Ø©","Ø§Ù„Ø²Ù„Ø²Ù„Ø©",
"Ø§Ù„Ø¹Ø§Ø¯ÙŠØ§Øª","Ø§Ù„Ù‚Ø§Ø±Ø¹Ø©","Ø§Ù„ØªÙƒØ§Ø«Ø±","Ø§Ù„Ø¹ØµØ±","Ø§Ù„Ù‡Ù…Ø²Ø©","Ø§Ù„ÙÙŠÙ„","Ù‚Ø±ÙŠØ´","Ø§Ù„Ù…Ø§Ø¹ÙˆÙ†","Ø§Ù„ÙƒÙˆØ«Ø±","Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†",
"Ø§Ù„Ù†ØµØ±","Ø§Ù„Ù…Ø³Ø¯","Ø§Ù„Ø¥Ø®Ù„Ø§Øµ","Ø§Ù„ÙÙ„Ù‚","Ø§Ù„Ù†Ø§Ø³"
];

/* ===== Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ (Ù…Ù„Ø®Øµ Ø§Ù„Ø®ÙŠØ±Ø© Ù„Ù„ØµÙØ­Ø§Øª Ø§Ù„ÙØ±Ø¯ÙŠØ©) ===== */
window.PAGE_RESULT={
  51:"ØºÙŠØ± Ø¬ÙŠØ¯Ø© ÙˆØ§Ù„Ù†ØªÙŠØ¬Ø© ÙÙŠÙ‡Ø§ Ù†Ø¯Ù… ÙˆØ®Ø³Ø§Ø±Ø©",53:"ÙÙŠÙ‡Ø§ Ù„ÙˆÙ… ÙˆØºØ±ÙˆØ± ÙˆØ®Ø³Ø±Ø§Ù†",55:"Ù…Ù…ØªØ§Ø²Ø© â€“ ÙÙŠÙ‡Ø§ Ø¨Ø±ÙƒØ© ÙˆØªÙˆÙÙŠÙ‚ ÙˆØµÙ„Ø§Ø­",
  57:"Ø§Ø³ØªØ¬Ø§Ø¨Ø© ÙˆØªÙˆÙÙŠÙ‚ØŒ Ù…Ø¹Ø§Ø±Ø¶Ø© Ù…Ù† Ø§Ù„Ø¹Ø¯Ùˆ",59:"Ù„ÙˆÙ… ÙˆØ®Ø³Ø§Ø±Ø©",61:"Ø§Ø³ØªØ¬Ø§Ø¨Ø© ÙˆØªÙˆÙÙŠÙ‚",63:"ÙÙŠÙ‡Ø§ ØµØ¹ÙˆØ¨Ø© ÙˆÙ…Ù„Ø§Ù…Ø©",65:"Ø§Ù„Ù†ØªÙŠØ¬Ø© ÙÙŠÙ‡Ø§ ØªØ¹Ø¨ ÙˆØ®Ø³Ø§Ø±Ø©",
  67:"Ù…Ù…ØªØ§Ø²Ø© â€“ ÙŠÙØ¶Ù‘ÙÙ„ Ø§Ù„Ø¥Ø³Ø±Ø§Ø¹",69:"Ø®Ø³Ø§Ø±Ø© ÙˆÙ†Ø¯Ù…",71:"ÙˆØ³Ø· ÙˆØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ£Ù…Ù„ ÙˆÙÙŠÙ‡Ø§ Ø±Ø­Ù…Ø©",73:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ù†Ø¹Ù…Ø© Ù‚Ø±ÙŠØ¨Ø© ÙˆÙ†Ø¬Ø§Ø©",75:"ÙÙŠÙ‡Ø§ Ø®Ø³Ø±Ø§Ù†",
  77:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø±Ø­Ù…Ø© ÙˆØ®ÙŠØ±",79:"ÙˆØ³Ø· â€“ ØªØ¹Ø¯ÙŠÙ„",81:"Ù†Ù‡ÙŠ â€“ ØªØ¹Ø¨ ÙˆÙ†Ø¯Ù…",83:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø±Ø­Ù…Ø© ÙˆØªØ®ÙÙŠÙ",85:"Ù„ÙˆÙ… ÙˆØ®Ø³Ø§Ø±Ø©",87:"Ù†Ù‡ÙŠ Ø´Ø¯ÙŠØ¯",
  89:"Ù…Ø¹ Ø§Ù„Ø¹Ù†Ø§ÙŠØ© ÙˆØ§Ù„Ø¥ØµØ±Ø§Ø± Ù…Ù…ØªØ§Ø²Ø©",91:"Ø­ÙØ¸ ÙˆØªÙˆÙÙŠÙ‚",93:"ÙˆØ³Ø· â€“ ØµÙ„Ø§Ø­ Ù„Ù…Ø§ ÙØ§Øª",95:"Ø¬ÙŠØ¯Ø© Ù…Ø¹ Ø§Ù„Ø­Ø°Ø±",97:"Ù†Ù‡ÙŠ",99:"Ø¬ÙŠØ¯Ø© â€“ Ø§Ù„Ø¥ØªÙ‚Ø§Ù† Ù…Ù‡Ù…",
  101:"Ù†Ù‡ÙŠ â€“ ØµØ¹ÙˆØ¨Ø§Øª",103:"Ù†Ù‡ÙŠ Ø´Ø¯ÙŠØ¯",105:"Ù†Ù‡ÙŠ Ø´Ø¯ÙŠØ¯",107:"Ù†Ù‡ÙŠ ØªØ§Ù…",109:"Ù†Ù‡ÙŠ â€“ Ø­Ø±Ø§Ø³Ø© Ø¥Ù„Ù‡ÙŠØ©",111:"Ù†Ù‡ÙŠ â€“ Ù…Ù„Ø§Ù…Ø©",
  127:"Ø¬ÙŠØ¯Ø© â€“ Ø±Ø²Ù‚",133:"Ø¬ÙŠØ¯Ø© â€“ Ø±Ø­Ù…Ø©",141:"Ø¬ÙŠØ¯Ø© â€“ Ø§Ù†ØªØ¸Ø§Ø±",143:"Ø¬ÙŠØ¯Ø© â€“ Ù„Ø§ Ù…Ø§Ù†Ø¹",171:"Ø­Ø³Ù†Ø© â€“ Ù†Ø¹Ù…Ø©",177:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø±Ø­Ù…Ø© ÙˆÙ†ØµØ±",
  179:"Ù…Ù…ØªØ§Ø²Ø© â€“ ØªÙˆÙÙŠÙ‚",185:"Ø¬ÙŠØ¯Ø© â€“ Ù†Ø¬Ø§Ø­",189:"Ø¬ÙŠØ¯Ø© â€“ ÙØ±Ø¬",199:"Ø¬ÙŠØ¯Ø© â€“ Ù†ØµØ± Ø§Ù„Ù…Ø¤Ù…Ù†",203:"Ù…Ù…ØªØ§Ø²Ø© â€“ ÙØ±Ø¬ Ø³Ø±ÙŠØ¹",
  205:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø®Ø§ØªÙ…Ø© Ø­Ø³Ù†Ø©",207:"Ø¬ÙŠØ¯Ø© â€“ ØªØ­ØªØ§Ø¬ Ø´Ø¯Ø©",217:"Ø¬ÙŠØ¯Ø© â€“ Ù…Ø¹Ø§Ø±Ø¶Ø©",219:"Ø¬ÙŠØ¯Ø© â€“ ØªÙˆÙÙŠÙ‚",243:"Ø¬ÙŠØ¯Ø© â€“ Ø­ÙØ¸",
  247:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø¨Ø´Ø§Ø±Ø©",249:"Ù…Ù…ØªØ§Ø²Ø© â€“ ØªÙŠØ³ÙŠØ±",253:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø«Ù…Ø§Ø±",257:"Ø¬ÙŠØ¯Ø© â€“ Ø§Ù†ØªØ¸Ø§Ø±",259:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ù†Ø¬Ø§Ø­",
  263:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø±Ø¹Ø§ÙŠØ©",265:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø­ÙØ¸",269:"Ø¬ÙŠØ¯Ø© â€“ ØªÙŠØ³ÙŠØ±",271:"ÙˆØ³Ø· â€“ ØªØ£Ø®Ø±",279:"ÙˆØ³Ø· â€“ Ø§Ø®ØªÙŠØ§Ø±",281:"Ø¬ÙŠØ¯Ø© â€“ Ø¥ØµÙ„Ø§Ø­",
  291:"Ø¬ÙŠØ¯Ø© â€“ Ù†Ø¹Ù…Ø©",293:"Ù…Ù…ØªØ§Ø²Ø©",295:"Ø¬ÙŠØ¯Ø© â€“ ÙØ±Ø¬",297:"Ø¬ÙŠØ¯Ø© â€“ ØµØ¨Ø±",299:"Ø¬ÙŠØ¯Ø© â€“ Ø§Ù„Ø¢Ø®Ø±Ø©",301:"Ø¬ÙŠØ¯Ø© â€“ ØªØºÙŠÙ‘Ø±Ø§Øª",
  303:"Ù…Ù…ØªØ§Ø²Ø© â€“ ÙØ±Ø¬ Ù…ØªÙƒØ±Ø±",305:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø±Ø­Ù…Ø© ÙƒØ¨ÙŠØ±Ø©",307:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø§Ø³ØªÙ‚Ø±Ø§Ø±",309:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø¯Ø¹Ù…",313:"Ù…Ù…ØªØ§Ø²Ø© Ø¬Ø¯Ù‹Ø§",
  317:"Ù…Ù…ØªØ§Ø²Ø© â€“ ÙØ±Ø¬",319:"Ø¬ÙŠØ¯Ø© â€“ Ø§Ø³ØªÙØ§Ø¯Ø©",329:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø­ÙØ¸",331:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø£Ù…Ø§Ù†",333:"Ø¬ÙŠØ¯Ø© â€“ ÙØ±Ø¬",335:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ù‡Ø¯Ø§ÙŠØ©",
  337:"Ø¬ÙŠØ¯Ø© â€“ Ù†ØµØ±",339:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ù…Ù…ØªØ§Ø²Ø©",343:"Ø¬ÙŠØ¯Ø© â€“ Ø«Ù…Ø§Ø±",355:"Ù…Ù…ØªØ§Ø²Ø© â€“ ØµÙ„Ø§Ø­",357:"Ø¬ÙŠØ¯Ø© â€“ ØµØ¨Ø±",359:"Ø¬ÙŠØ¯Ø© â€“ Ø§Ù„ØªØ²Ø§Ù…",
  363:"Ø¬ÙŠØ¯Ø© â€“ Ù…ÙˆÙÙ‚Ø©",365:"Ø¬ÙŠØ¯Ø© â€“ Ø¥ØªÙ‚Ø§Ù†",367:"Ø­Ø³Ù†Ø© â€“ Ø±Ø­Ù…Ø©",371:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ù…Ø¨Ø§Ø±ÙƒØ©",375:"ÙˆØ³Ø· â€“ Ù†Ù‡Ø§ÙŠØ© Ø¬ÙŠØ¯Ø©",377:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø¨Ø´Ø§Ø±Ø©",
  385:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø£Ù…Ø§Ù†",387:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø­ÙØ¸",389:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ù†ØµØ±",391:"Ø¬ÙŠØ¯Ø© â€“ Ø±Ø­Ù…Ø©",393:"Ø¬ÙŠØ¯Ø© â€“ ÙŠÙˆØ¬Ø¯ Ø£ÙØ¶Ù„",397:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø¥ØµÙ„Ø§Ø­",
  399:"Ø¬ÙŠØ¯Ø© â€“ Ø±Ø­Ù…Ø©",405:"ÙˆØ³Ø· â€“ Ù†ØµØ± Ù„Ø§Ø­Ù‚",407:"ÙˆØ³Ø· â€“ ÙØ±Ø¬ Ù„Ø§Ø­Ù‚",411:"Ø­Ø³Ù†Ø© â€“ Ù‡Ø¯Ø§ÙŠØ©",413:"Ø¬ÙŠØ¯Ø© â€“ ØªÙŠØ³ÙŠØ±",415:"Ù…Ù…ØªØ§Ø²Ø© â€“ ØªÙŠØ³ÙŠØ±",
  419:"Ø¬ÙŠØ¯Ø© â€“ Ù„ØµØ§Ù„Ø­ Ø¹Ø§Ù…",421:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø±Ø¶Ø§ Ø§Ù„Ù„Ù‡",423:"ÙˆØ³Ø· Ù‚Ø±ÙŠØ¨ Ù„Ù„Ø¬ÙŠØ¯",425:"Ø¬ÙŠØ¯Ø© â€“ ØªØ³Ù‡ÙŠÙ„",427:"ÙˆØ³Ø· â€“ Ù‚Ø±Ø¨ Ø­ØµÙˆÙ„",
  439:"Ø¬ÙŠØ¯Ø© â€“ Ù…Ø¹Ø§Ø±Ø¶Ø©",443:"Ø¬ÙŠØ¯Ø© â€“ Ø¹Ù†Ø§Ø¯",445:"Ø¬ÙŠØ¯Ø© â€“ Ù…Ù†Ø§ÙØ¹",449:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ù…ØªØªØ§Ø¨Ø¹",453:"Ù…Ù…ØªØ§Ø²Ø© â€“ ØªØºÙ„Ø¨",459:"ÙˆØ³Ø· â€“ Ù…Ø±Ø§Ø­Ù„",
  461:"Ø¬ÙŠØ¯Ø© â€“ Ù‡Ø¯Ø§ÙŠØ©",463:"ÙˆØ³Ø· â€“ ØªØ£Ø®Ø±",467:"Ù…Ù…ØªØ§Ø²Ø© â€“ ÙØ±Ø¬",469:"Ø¬ÙŠØ¯Ø© â€“ Ù…Ø±Ø­Ù„ÙŠØ©",475:"ÙˆØ³Ø· â€“ Ø§Ù†ØªØ¸Ø§Ø±",477:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø¨Ø´Ø§Ø±Ø©",
  481:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø«Ù…Ø§Ø±",483:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø±Ø­Ù…Ø©",487:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ù†Ø¹Ù…",489:"Ù…Ù…ØªØ§Ø²Ø© â€“ ØªÙˆÙÙŠÙ‚",497:"Ù†Ù‡ÙŠ â€“ Ø«Ù… ØªØºÙ„Ø¨",499:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ù„Ù„Ø£ÙØ¶Ù„",
  511:"Ù…Ù…ØªØ§Ø²Ø© â€“ ÙØ±Ø¬",513:"ÙˆØ³Ø· â€“ Ø§Ù…ØªØ­Ø§Ù†",515:"Ù…Ù…ØªØ§Ø²Ø© â€“ ØªØ·ÙˆØ±",519:"ÙˆØ³Ø· â€“ ØºÙŠØ¨ÙŠ",535:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø±Ø²Ù‚",537:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø­ÙØ¸",
  539:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø³Ø¹Ø©",541:"Ø¬ÙŠØ¯Ø© â€“ ØµØ¨Ø±",545:"Ø¬ÙŠØ¯Ø© â€“ Ù†ØªÙŠØ¬Ø© Ø·ÙŠØ¨Ø©",547:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø¥ØµÙ„Ø§Ø­",549:"Ù…Ù…ØªØ§Ø²Ø© â€“ ØµØ¨Ø±",551:"Ø¬ÙŠØ¯Ø© â€“ Ø¥ØªÙ‚Ø§Ù†",
  553:"Ù…Ù…ØªØ§Ø²Ø© â€“ ØªÙØ¶ÙŠÙ„",559:"Ø¬ÙŠØ¯Ø© â€“ ØªÙŠØ³ÙŠØ±",561:"Ø¬ÙŠØ¯Ø© â€“ Ù†Ø¬Ø§Ø©",563:"Ù…Ø®ÙŠÙ‘Ø± â€“ ØªÙŠØ³ÙŠØ±",571:"Ù…Ù…ØªØ§Ø²Ø© â€“ ÙØ±Ø¬ ÙƒØ¨ÙŠØ±",573:"Ø¬ÙŠØ¯Ø© â€“ Ù‡Ø¯Ø§ÙŠØ©",
  575:"Ø¬ÙŠØ¯Ø© â€“ Ù†Ø¬Ø§Ø­",579:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø³Ø¹Ø§Ø¯Ø©",583:"Ù…Ù…ØªØ§Ø²Ø© â€“ ÙˆØ§ÙØ±Ø©",585:"Ø­Ø³Ù†Ø© â€“ Ø±Ø­Ù…Ø©",587:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø±Ø­Ù…Ø©",589:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø³Ø¹Ø§Ø¯Ø©",
  591:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø­ÙØ¸",593:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ù‡Ù„Ø§Ùƒ",595:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø±Ø­Ù…Ø©",597:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø±Ø­Ù…Ø©",599:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø±Ø¶Ø§",601:"Ù…Ù…ØªØ§Ø²Ø© â€“ Ø±Ø­Ù…Ø©",
  603:"Ø¬ÙŠØ¯Ø© â€“ Ø±Ø­Ù…Ø© ÙˆÙ†ØµÙŠØ±"
};

/* ===== Ø£Ø¯ÙˆØ§Øª ===== */
const $=id=>document.getElementById(id);
const show = el => el.style.display = '';
const hide = el => el.style.display = 'none';

/* ===== Ø¬Ù„Ø¨ Ø£ÙˆÙ„ Ø¢ÙŠØ© ÙÙŠ Ø§Ù„ØµÙØ­Ø© ===== */
async function firstAyahByPage(page){
  const pg=Number(page);
  // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: alquran.cloud
  try{
    const r=await fetch(`https://api.alquran.cloud/v1/page/${pg}/quran-uthmani`,{cache:'no-store'});
    if(r.ok){
      const j=await r.json();
      const ay=j?.data?.ayahs?.[0];
      if(ay) return {text:ay.text,sura:Number(ay.surah.number),ayah:Number(ay.numberInSurah)};
    }
  }catch(_){}
  // Ø¨Ø¯ÙŠÙ„: api.quran.com
  try{
    const r2=await fetch(`https://api.quran.com/api/v4/verses/by_page/${pg}?language=ar&fields=text_uthmani,verse_key,chapter_id,page_number`,{cache:'no-store'});
    if(r2.ok){
      const j2=await r2.json();
      const v=j2?.verses?.[0];
      if(v){
        const parts=String(v.verse_key||"").split(":");
        return {text:v.text_uthmani||v.text,sura:Number(v.chapter_id),ayah:Number(parts[1])};
      }
    }
  }catch(_){}
  return {text:"(ØªØ¹Ø°Ù‘Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø¢ÙŠØ© Ø§Ù„Ø¢Ù†)",sura:0,ayah:0};
}

/* ===== Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©: Ø¢ÙŠØ© ÙÙ‚Ø· + Ø§Ø³Ù… Ø§Ù„Ø³ÙˆØ±Ø© ===== */
function renderAyah(page, ay){
  const sName = SURAH[ay.sura] || `Ø³ÙˆØ±Ø© Ø±Ù‚Ù… ${toArabicDigits(ay.sura)}`;
  $('res-tags').innerHTML =
    `<span class="badge">ØµÙØ­Ø© ${toArabicDigits(page)}</span>`+
    ` <span class="badge">${sName}</span>`+
    ` <span class="badge">Ø¢ÙŠØ© ${toArabicDigits(ay.ayah)}</span>`;
  $('res-text').textContent = ay.text || "(Ù„Ø§ Ù†Øµ)";
  show($('res-box'));
  hide($('versesList'));
  $('res-box').scrollIntoView({behavior:'smooth',block:'center'});
}

/* ===== ØªØ­Ù‚Ù‚ ØµÙØ­Ø© ===== */
function normalizePageInput(v){
  const n = Number(fromArabicDigits(String(v).trim()));
  return n;
}
function validateOddPage(n){
  return Number.isInteger(n) && n>=1 && n<=603 && n%2===1;
}

/* ===== Ø¨Ø­Ø« Ø¨Ø±Ù‚Ù… Ø§Ù„ØµÙØ­Ø© ===== */
async function lookupByPage(){
  const raw = $('pageInput').value;
  const n = normalizePageInput(raw);
  if(!validateOddPage(n)){
    uiAlert({title:'ØµÙØ­Ø© Ø§Ù„Ø¨Ø­Ø«',message:'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… <b>ÙØ±Ø¯ÙŠ</b> Ø¨ÙŠÙ† <span dir="rtl">Ù¡ ÙˆÙ¦Ù Ù£</span> (Ø§Ù„ÙŠÙ…ÙŠÙ† ÙÙ‚Ø·).'});
    return;
  }
  if(!(String(n) in PAGE_RESULT)){
    uiAlert({title:'ØµÙØ­Ø© Ø§Ù„Ø¨Ø­Ø«',message:'Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø§Ø±Ø©.'});
    return;
  }
  const ay = await firstAyahByPage(n);
  renderAyah(n, ay);
}

/* ===== Ø¨Ø­Ø« Ø¨Ø§Ù„ÙƒÙ„Ù…Ø© (Ø¹Ø±Ø¨ÙŠ/English) ===== */
function searchByKeyword(){
  const kw = ($('kwInput').value||'').trim().toLowerCase();
  const wrap = $('versesWrap');
  wrap.innerHTML = '';
  if(!kw){
    uiAlert({title:'Ø¨Ø­Ø« Ø¨Ø§Ù„ÙƒÙ„Ù…Ø©',message:'Ø§ÙƒØªØ¨ ÙƒÙ„Ù…Ø© Ù„Ù„Ø¨Ø­Ø« (Ø¹Ø±Ø¨ÙŠ Ø£Ùˆ English).'});
    return;
  }
  const out=[];
  for(const [k,v] of Object.entries(PAGE_RESULT)){
    if(String(v).toLowerCase().includes(kw)) out.push(Number(k));
  }
  if(!out.length){
    wrap.innerHTML = `<div class="badge">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù…Ø·Ø§Ø¨Ù‚Ø©.</div>`;
    show($('versesList')); hide($('res-box'));
    $('versesList').scrollIntoView({behavior:'smooth',block:'center'});
    return;
  }
  out.sort((a,b)=>a-b).forEach(p=>{
    const card = document.createElement('div');
    card.className='verse-card';
    card.innerHTML = `<b>ØµÙØ­Ø© ${toArabicDigits(p)}</b> Â· ${PAGE_RESULT[p]}`;
    card.onclick = ()=> lookupByPageDirect(p);
    wrap.appendChild(card);
  });
  show($('versesList')); hide($('res-box'));
  $('versesList').scrollIntoView({behavior:'smooth',block:'center'});
}
async function lookupByPageDirect(p){
  const ay = await firstAyahByPage(p);
  renderAyah(p, ay);
}

/* ===== Ø§Ø³ØªØ®Ø§Ø±Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù…Ù† Ø§Ù„Ø¬Ø¯ÙˆÙ„ ===== */
async function doIstikhara(){
  const keys = Object.keys(PAGE_RESULT).map(Number).filter(n=>validateOddPage(n));
  if(!keys.length){
    uiAlert({title:'Ø§Ø³ØªØ®Ø§Ø±Ø©',message:'Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØµÙØ­Ø§Øª ÙØ§Ø±Øº. Ø£Ø¶Ù Ø¹Ù†Ø§ØµØ± Ø¥Ù„Ù‰ PAGE_RESULT.'});
    return;
  }
  const page = keys[Math.floor(Math.random()*keys.length)];
  const ay = await firstAyahByPage(page);
  renderAyah(page, ay);
}

/* ===== Ø±Ø¨Ø· Ø§Ù„Ø£Ø²Ø±Ø§Ø± ===== */
document.addEventListener('DOMContentLoaded',()=>{
  $('btnByPage').addEventListener('click', lookupByPage);
  $('btnByWord').addEventListener('click', searchByKeyword);
  $('btnRandom').addEventListener('click', doIstikhara);
  // Enter Ù„Ù„ØªØ³Ù‡ÙŠÙ„
  $('pageInput').addEventListener('keydown',e=>{ if(e.key==='Enter') lookupByPage(); });
  $('kwInput').addEventListener('keydown',e=>{ if(e.key==='Enter') searchByKeyword(); });
});
</script>
</body>
</html>
